var Mi=Object.defineProperty;var Pi=(e,t,o)=>t in e?Mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var le=(e,t,o)=>(Pi(e,typeof t!="symbol"?t+"":t,o),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Cs(e,t){const o=new Set(e.split(","));return t?s=>o.has(s.toLowerCase()):s=>o.has(s)}const Q={},xt=[],xe=()=>{},Ti=()=>!1,Ao=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ws=e=>e.startsWith("onUpdate:"),re=Object.assign,Ss=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},Ai=Object.prototype.hasOwnProperty,q=(e,t)=>Ai.call(e,t),F=Array.isArray,Ht=e=>Io(e)==="[object Map]",Oi=e=>Io(e)==="[object Set]",D=e=>typeof e=="function",ne=e=>typeof e=="string",Oo=e=>typeof e=="symbol",Y=e=>e!==null&&typeof e=="object",Wn=e=>(Y(e)||D(e))&&D(e.then)&&D(e.catch),Ii=Object.prototype.toString,Io=e=>Ii.call(e),Li=e=>Io(e).slice(8,-1),Ri=e=>Io(e)==="[object Object]",Es=e=>ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fo=Cs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lo=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},Ni=/-(\w)/g,Pt=Lo(e=>e.replace(Ni,(t,o)=>o?o.toUpperCase():"")),Fi=/\B([A-Z])/g,It=Lo(e=>e.replace(Fi,"-$1").toLowerCase()),Gn=Lo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Uo=Lo(e=>e?`on${Gn(e)}`:""),st=(e,t)=>!Object.is(e,t),Wo=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},yo=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},Di=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let on;const Qn=()=>on||(on=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xs(e){if(F(e)){const t={};for(let o=0;o<e.length;o++){const s=e[o],n=ne(s)?qi(s):xs(s);if(n)for(const r in n)t[r]=n[r]}return t}else if(ne(e)||Y(e))return e}const $i=/;(?![^(]*\))/g,Ki=/:([^]+)/,Hi=/\/\*[^]*?\*\//g;function qi(e){const t={};return e.replace(Hi,"").split($i).forEach(o=>{if(o){const s=o.split(Ki);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Yt(e){let t="";if(ne(e))t=e;else if(F(e))for(let o=0;o<e.length;o++){const s=Yt(e[o]);s&&(t+=s+" ")}else if(Y(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const ji="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vi=Cs(ji);function zn(e){return!!e||e===""}/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pe;class Bi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pe,!t&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=Pe;try{return Pe=this,t()}finally{Pe=o}}}on(){Pe=this}off(){Pe=this.parent}stop(t){if(this._active){let o,s;for(o=0,s=this.effects.length;o<s;o++)this.effects[o].stop();for(o=0,s=this.cleanups.length;o<s;o++)this.cleanups[o]();if(this.scopes)for(o=0,s=this.scopes.length;o<s;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Ui(e,t=Pe){t&&t.active&&t.effects.push(e)}function Wi(){return Pe}let dt;class ks{constructor(t,o,s,n){this.fn=t,this.trigger=o,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ui(this,n)}get dirty(){if(this._dirtyLevel===1){_t();for(let t=0;t<this._depsLength;t++){const o=this.deps[t];if(o.computed&&(Gi(o.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),vt()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=tt,o=dt;try{return tt=!0,dt=this,this._runnings++,sn(this),this.fn()}finally{nn(this),this._runnings--,dt=o,tt=t}}stop(){var t;this.active&&(sn(this),nn(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Gi(e){return e.value}function sn(e){e._trackId++,e._depsLength=0}function nn(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Zn(e.deps[t],e);e.deps.length=e._depsLength}}function Zn(e,t){const o=e.get(t);o!==void 0&&t._trackId!==o&&(e.delete(t),e.size===0&&e.cleanup())}let tt=!0,ns=0;const Yn=[];function _t(){Yn.push(tt),tt=!1}function vt(){const e=Yn.pop();tt=e===void 0?!0:e}function Ms(){ns++}function Ps(){for(ns--;!ns&&rs.length;)rs.shift()()}function Jn(e,t,o){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Zn(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const rs=[];function Xn(e,t,o){Ms();for(const s of e.keys())if(s._dirtyLevel<t&&e.get(s)===s._trackId){const n=s._dirtyLevel;s._dirtyLevel=t,n===0&&(s._shouldSchedule=!0,s.trigger())}er(e),Ps()}function er(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,rs.push(t.scheduler))}const tr=(e,t)=>{const o=new Map;return o.cleanup=e,o.computed=t,o},is=new WeakMap,pt=Symbol(""),ls=Symbol("");function me(e,t,o){if(tt&&dt){let s=is.get(e);s||is.set(e,s=new Map);let n=s.get(o);n||s.set(o,n=tr(()=>s.delete(o))),Jn(dt,n)}}function Ue(e,t,o,s,n,r){const i=is.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(o==="length"&&F(e)){const c=Number(s);i.forEach((a,h)=>{(h==="length"||!Oo(h)&&h>=c)&&l.push(a)})}else switch(o!==void 0&&l.push(i.get(o)),t){case"add":F(e)?Es(o)&&l.push(i.get("length")):(l.push(i.get(pt)),Ht(e)&&l.push(i.get(ls)));break;case"delete":F(e)||(l.push(i.get(pt)),Ht(e)&&l.push(i.get(ls)));break;case"set":Ht(e)&&l.push(i.get(pt));break}Ms();for(const c of l)c&&Xn(c,2);Ps()}const Qi=Cs("__proto__,__v_isRef,__isVue"),or=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Oo)),rn=zi();function zi(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const s=V(this);for(let r=0,i=this.length;r<i;r++)me(s,"get",r+"");const n=s[t](...o);return n===-1||n===!1?s[t](...o.map(V)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){_t(),Ms();const s=V(this)[t].apply(this,o);return Ps(),vt(),s}}),e}function Zi(e){const t=V(this);return me(t,"has",e),t.hasOwnProperty(e)}class sr{constructor(t=!1,o=!1){this._isReadonly=t,this._shallow=o}get(t,o,s){const n=this._isReadonly,r=this._shallow;if(o==="__v_isReactive")return!n;if(o==="__v_isReadonly")return n;if(o==="__v_isShallow")return r;if(o==="__v_raw")return s===(n?r?al:lr:r?ir:rr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=F(t);if(!n){if(i&&q(rn,o))return Reflect.get(rn,o,s);if(o==="hasOwnProperty")return Zi}const l=Reflect.get(t,o,s);return(Oo(o)?or.has(o):Qi(o))||(n||me(t,"get",o),r)?l:be(l)?i&&Es(o)?l:l.value:Y(l)?n?cr(l):Vt(l):l}}class nr extends sr{constructor(t=!1){super(!1,t)}set(t,o,s,n){let r=t[o];if(!this._shallow){const c=Tt(r);if(!Co(s)&&!Tt(s)&&(r=V(r),s=V(s)),!F(t)&&be(r)&&!be(s))return c?!1:(r.value=s,!0)}const i=F(t)&&Es(o)?Number(o)<t.length:q(t,o),l=Reflect.set(t,o,s,n);return t===V(n)&&(i?st(s,r)&&Ue(t,"set",o,s):Ue(t,"add",o,s)),l}deleteProperty(t,o){const s=q(t,o);t[o];const n=Reflect.deleteProperty(t,o);return n&&s&&Ue(t,"delete",o,void 0),n}has(t,o){const s=Reflect.has(t,o);return(!Oo(o)||!or.has(o))&&me(t,"has",o),s}ownKeys(t){return me(t,"iterate",F(t)?"length":pt),Reflect.ownKeys(t)}}class Yi extends sr{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const Ji=new nr,Xi=new Yi,el=new nr(!0),Ts=e=>e,Ro=e=>Reflect.getPrototypeOf(e);function so(e,t,o=!1,s=!1){e=e.__v_raw;const n=V(e),r=V(t);o||(st(t,r)&&me(n,"get",t),me(n,"get",r));const{has:i}=Ro(n),l=s?Ts:o?Is:Bt;if(i.call(n,t))return l(e.get(t));if(i.call(n,r))return l(e.get(r));e!==n&&e.get(t)}function no(e,t=!1){const o=this.__v_raw,s=V(o),n=V(e);return t||(st(e,n)&&me(s,"has",e),me(s,"has",n)),e===n?o.has(e):o.has(e)||o.has(n)}function ro(e,t=!1){return e=e.__v_raw,!t&&me(V(e),"iterate",pt),Reflect.get(e,"size",e)}function ln(e){e=V(e);const t=V(this);return Ro(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function cn(e,t){t=V(t);const o=V(this),{has:s,get:n}=Ro(o);let r=s.call(o,e);r||(e=V(e),r=s.call(o,e));const i=n.call(o,e);return o.set(e,t),r?st(t,i)&&Ue(o,"set",e,t):Ue(o,"add",e,t),this}function an(e){const t=V(this),{has:o,get:s}=Ro(t);let n=o.call(t,e);n||(e=V(e),n=o.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return n&&Ue(t,"delete",e,void 0),r}function un(){const e=V(this),t=e.size!==0,o=e.clear();return t&&Ue(e,"clear",void 0,void 0),o}function io(e,t){return function(s,n){const r=this,i=r.__v_raw,l=V(i),c=t?Ts:e?Is:Bt;return!e&&me(l,"iterate",pt),i.forEach((a,h)=>s.call(n,c(a),c(h),r))}}function lo(e,t,o){return function(...s){const n=this.__v_raw,r=V(n),i=Ht(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,a=n[e](...s),h=o?Ts:t?Is:Bt;return!t&&me(r,"iterate",c?ls:pt),{next(){const{value:d,done:p}=a.next();return p?{value:d,done:p}:{value:l?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function Ge(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function tl(){const e={get(r){return so(this,r)},get size(){return ro(this)},has:no,add:ln,set:cn,delete:an,clear:un,forEach:io(!1,!1)},t={get(r){return so(this,r,!1,!0)},get size(){return ro(this)},has:no,add:ln,set:cn,delete:an,clear:un,forEach:io(!1,!0)},o={get(r){return so(this,r,!0)},get size(){return ro(this,!0)},has(r){return no.call(this,r,!0)},add:Ge("add"),set:Ge("set"),delete:Ge("delete"),clear:Ge("clear"),forEach:io(!0,!1)},s={get(r){return so(this,r,!0,!0)},get size(){return ro(this,!0)},has(r){return no.call(this,r,!0)},add:Ge("add"),set:Ge("set"),delete:Ge("delete"),clear:Ge("clear"),forEach:io(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=lo(r,!1,!1),o[r]=lo(r,!0,!1),t[r]=lo(r,!1,!0),s[r]=lo(r,!0,!0)}),[e,o,t,s]}const[ol,sl,nl,rl]=tl();function As(e,t){const o=t?e?rl:nl:e?sl:ol;return(s,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(q(o,n)&&n in s?o:s,n,r)}const il={get:As(!1,!1)},ll={get:As(!1,!0)},cl={get:As(!0,!1)},rr=new WeakMap,ir=new WeakMap,lr=new WeakMap,al=new WeakMap;function ul(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fl(e){return e.__v_skip||!Object.isExtensible(e)?0:ul(Li(e))}function Vt(e){return Tt(e)?e:Os(e,!1,Ji,il,rr)}function hl(e){return Os(e,!1,el,ll,ir)}function cr(e){return Os(e,!0,Xi,cl,lr)}function Os(e,t,o,s,n){if(!Y(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const i=fl(e);if(i===0)return e;const l=new Proxy(e,i===2?s:o);return n.set(e,l),l}function kt(e){return Tt(e)?kt(e.__v_raw):!!(e&&e.__v_isReactive)}function Tt(e){return!!(e&&e.__v_isReadonly)}function Co(e){return!!(e&&e.__v_isShallow)}function ar(e){return kt(e)||Tt(e)}function V(e){const t=e&&e.__v_raw;return t?V(t):e}function ur(e){return yo(e,"__v_skip",!0),e}const Bt=e=>Y(e)?Vt(e):e,Is=e=>Y(e)?cr(e):e;class fr{constructor(t,o,s,n){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ks(()=>t(this._value),()=>ho(this,1),()=>this.dep&&er(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=V(this);return(!t._cacheable||t.effect.dirty)&&st(t._value,t._value=t.effect.run())&&ho(t,2),hr(t),t.effect._dirtyLevel>=1&&ho(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function dl(e,t,o=!1){let s,n;const r=D(e);return r?(s=e,n=xe):(s=e.get,n=e.set),new fr(s,n,r||!n,o)}function hr(e){tt&&dt&&(e=V(e),Jn(dt,e.dep||(e.dep=tr(()=>e.dep=void 0,e instanceof fr?e:void 0))))}function ho(e,t=2,o){e=V(e);const s=e.dep;s&&Xn(s,t)}function be(e){return!!(e&&e.__v_isRef===!0)}function pl(e){return gl(e,!1)}function gl(e,t){return be(e)?e:new ml(e,t)}class ml{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:V(t),this._value=o?t:Bt(t)}get value(){return hr(this),this._value}set value(t){const o=this.__v_isShallow||Co(t)||Tt(t);t=o?t:V(t),st(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:Bt(t),ho(this,2))}}function dr(e){return be(e)?e.value:e}const bl={get:(e,t,o)=>dr(Reflect.get(e,t,o)),set:(e,t,o,s)=>{const n=e[t];return be(n)&&!be(o)?(n.value=o,!0):Reflect.set(e,t,o,s)}};function pr(e){return kt(e)?e:new Proxy(e,bl)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ot(e,t,o,s){let n;try{n=s?e(...s):e()}catch(r){No(r,t,o)}return n}function Oe(e,t,o,s){if(D(e)){const r=ot(e,t,o,s);return r&&Wn(r)&&r.catch(i=>{No(i,t,o)}),r}const n=[];for(let r=0;r<e.length;r++)n.push(Oe(e[r],t,o,s));return n}function No(e,t,o,s=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${o}`;for(;r;){const a=r.ec;if(a){for(let h=0;h<a.length;h++)if(a[h](e,i,l)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){ot(c,null,10,[e,i,l]);return}}_l(e,o,n,s)}function _l(e,t,o,s=!0){console.error(e)}let Ut=!1,cs=!1;const ae=[];let De=0;const Mt=[];let Ye=null,ht=0;const gr=Promise.resolve();let Ls=null;function mr(e){const t=Ls||gr;return e?t.then(this?e.bind(this):e):t}function vl(e){let t=De+1,o=ae.length;for(;t<o;){const s=t+o>>>1,n=ae[s],r=Wt(n);r<e||r===e&&n.pre?t=s+1:o=s}return t}function Rs(e){(!ae.length||!ae.includes(e,Ut&&e.allowRecurse?De+1:De))&&(e.id==null?ae.push(e):ae.splice(vl(e.id),0,e),br())}function br(){!Ut&&!cs&&(cs=!0,Ls=gr.then(vr))}function yl(e){const t=ae.indexOf(e);t>De&&ae.splice(t,1)}function Cl(e){F(e)?Mt.push(...e):(!Ye||!Ye.includes(e,e.allowRecurse?ht+1:ht))&&Mt.push(e),br()}function fn(e,t,o=Ut?De+1:0){for(;o<ae.length;o++){const s=ae[o];if(s&&s.pre){if(e&&s.id!==e.uid)continue;ae.splice(o,1),o--,s()}}}function _r(e){if(Mt.length){const t=[...new Set(Mt)].sort((o,s)=>Wt(o)-Wt(s));if(Mt.length=0,Ye){Ye.push(...t);return}for(Ye=t,ht=0;ht<Ye.length;ht++)Ye[ht]();Ye=null,ht=0}}const Wt=e=>e.id==null?1/0:e.id,wl=(e,t)=>{const o=Wt(e)-Wt(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function vr(e){cs=!1,Ut=!0,ae.sort(wl);try{for(De=0;De<ae.length;De++){const t=ae[De];t&&t.active!==!1&&ot(t,null,14)}}finally{De=0,ae.length=0,_r(),Ut=!1,Ls=null,(ae.length||Mt.length)&&vr()}}function Sl(e,t,...o){if(e.isUnmounted)return;const s=e.vnode.props||Q;let n=o;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const h=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:p}=s[h]||Q;p&&(n=o.map(y=>ne(y)?y.trim():y)),d&&(n=o.map(Di))}let l,c=s[l=Uo(t)]||s[l=Uo(Pt(t))];!c&&r&&(c=s[l=Uo(It(t))]),c&&Oe(c,e,6,n);const a=s[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Oe(a,e,6,n)}}function yr(e,t,o=!1){const s=t.emitsCache,n=s.get(e);if(n!==void 0)return n;const r=e.emits;let i={},l=!1;if(!D(e)){const c=a=>{const h=yr(a,t,!0);h&&(l=!0,re(i,h))};!o&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(Y(e)&&s.set(e,null),null):(F(r)?r.forEach(c=>i[c]=null):re(i,r),Y(e)&&s.set(e,i),i)}function Fo(e,t){return!e||!Ao(t)?!1:(t=t.slice(2).replace(/Once$/,""),q(e,t[0].toLowerCase()+t.slice(1))||q(e,It(t))||q(e,t))}let $e=null,Cr=null;function wo(e){const t=$e;return $e=e,Cr=e&&e.type.__scopeId||null,t}function El(e,t=$e,o){if(!t||e._n)return e;const s=(...n)=>{s._d&&Cn(-1);const r=wo(t);let i;try{i=e(...n)}finally{wo(r),s._d&&Cn(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Go(e){const{type:t,vnode:o,proxy:s,withProxy:n,props:r,propsOptions:[i],slots:l,attrs:c,emit:a,render:h,renderCache:d,data:p,setupState:y,ctx:m,inheritAttrs:C}=e;let k,L;const P=wo(e);try{if(o.shapeFlag&4){const j=n||s,U=j;k=Fe(h.call(U,j,d,r,y,p,m)),L=c}else{const j=t;k=Fe(j.length>1?j(r,{attrs:c,slots:l,emit:a}):j(r,null)),L=t.props?c:xl(c)}}catch(j){jt.length=0,No(j,e,1),k=de(mt)}let O=k;if(L&&C!==!1){const j=Object.keys(L),{shapeFlag:U}=O;j.length&&U&7&&(i&&j.some(ws)&&(L=kl(L,i)),O=Ot(O,L))}return o.dirs&&(O=Ot(O),O.dirs=O.dirs?O.dirs.concat(o.dirs):o.dirs),o.transition&&(O.transition=o.transition),k=O,wo(P),k}const xl=e=>{let t;for(const o in e)(o==="class"||o==="style"||Ao(o))&&((t||(t={}))[o]=e[o]);return t},kl=(e,t)=>{const o={};for(const s in e)(!ws(s)||!(s.slice(9)in t))&&(o[s]=e[s]);return o};function Ml(e,t,o){const{props:s,children:n,component:r}=e,{props:i,children:l,patchFlag:c}=t,a=r.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&c>=0){if(c&1024)return!0;if(c&16)return s?hn(s,i,a):!!i;if(c&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(i[p]!==s[p]&&!Fo(a,p))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?hn(s,i,a):!0:!!i;return!1}function hn(e,t,o){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(t[r]!==e[r]&&!Fo(o,r))return!0}return!1}function Pl({vnode:e,parent:t},o){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=o,t=t.parent;else break}}const Tl=Symbol.for("v-ndc"),Al=e=>e.__isSuspense;function Ol(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):Cl(e)}const Il=Symbol.for("v-scx"),Ll=()=>mo(Il),co={};function po(e,t,o){return wr(e,t,o)}function wr(e,t,{immediate:o,deep:s,flush:n,once:r,onTrack:i,onTrigger:l}=Q){if(t&&r){const $=t;t=(...J)=>{$(...J),U()}}const c=he,a=$=>s===!0?$:Et($,s===!1?1:void 0);let h,d=!1,p=!1;if(be(e)?(h=()=>e.value,d=Co(e)):kt(e)?(h=()=>a(e),d=!0):F(e)?(p=!0,d=e.some($=>kt($)||Co($)),h=()=>e.map($=>{if(be($))return $.value;if(kt($))return a($);if(D($))return ot($,c,2)})):D(e)?t?h=()=>ot(e,c,2):h=()=>(y&&y(),Oe(e,c,3,[m])):h=xe,t&&s){const $=h;h=()=>Et($())}let y,m=$=>{y=O.onStop=()=>{ot($,c,4),y=O.onStop=void 0}},C;if(Ho)if(m=xe,t?o&&Oe(t,c,3,[h(),p?[]:void 0,m]):h(),n==="sync"){const $=Ll();C=$.__watcherHandles||($.__watcherHandles=[])}else return xe;let k=p?new Array(e.length).fill(co):co;const L=()=>{if(!(!O.active||!O.dirty))if(t){const $=O.run();(s||d||(p?$.some((J,K)=>st(J,k[K])):st($,k)))&&(y&&y(),Oe(t,c,3,[$,k===co?void 0:p&&k[0]===co?[]:k,m]),k=$)}else O.run()};L.allowRecurse=!!t;let P;n==="sync"?P=L:n==="post"?P=()=>ge(L,c&&c.suspense):(L.pre=!0,c&&(L.id=c.uid),P=()=>Rs(L));const O=new ks(h,xe,P),j=Wi(),U=()=>{O.stop(),j&&Ss(j.effects,O)};return t?o?L():k=O.run():n==="post"?ge(O.run.bind(O),c&&c.suspense):O.run(),C&&C.push(U),U}function Rl(e,t,o){const s=this.proxy,n=ne(e)?e.includes(".")?Sr(s,e):()=>s[e]:e.bind(s,s);let r;D(t)?r=t:(r=t.handler,o=t);const i=Jt(this),l=wr(n,r.bind(s),o);return i(),l}function Sr(e,t){const o=t.split(".");return()=>{let s=e;for(let n=0;n<o.length&&s;n++)s=s[o[n]];return s}}function Et(e,t,o=0,s){if(!Y(e)||e.__v_skip)return e;if(t&&t>0){if(o>=t)return e;o++}if(s=s||new Set,s.has(e))return e;if(s.add(e),be(e))Et(e.value,t,o,s);else if(F(e))for(let n=0;n<e.length;n++)Et(e[n],t,o,s);else if(Oi(e)||Ht(e))e.forEach(n=>{Et(n,t,o,s)});else if(Ri(e))for(const n in e)Et(e[n],t,o,s);return e}function at(e,t,o,s){const n=e.dirs,r=t&&t.dirs;for(let i=0;i<n.length;i++){const l=n[i];r&&(l.oldValue=r[i].value);let c=l.dir[s];c&&(_t(),Oe(c,o,8,[e.el,l,e,t]),vt())}}/*! #__NO_SIDE_EFFECTS__ */function Er(e,t){return D(e)?re({name:e.name},t,{setup:e}):e}const go=e=>!!e.type.__asyncLoader,xr=e=>e.type.__isKeepAlive;function Nl(e,t){kr(e,"a",t)}function Fl(e,t){kr(e,"da",t)}function kr(e,t,o=he){const s=e.__wdc||(e.__wdc=()=>{let n=o;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Do(t,s,o),o){let n=o.parent;for(;n&&n.parent;)xr(n.parent.vnode)&&Dl(s,t,o,n),n=n.parent}}function Dl(e,t,o,s){const n=Do(t,e,s,!0);Pr(()=>{Ss(s[t],n)},o)}function Do(e,t,o=he,s=!1){if(o){const n=o[e]||(o[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(o.isUnmounted)return;_t();const l=Jt(o),c=Oe(t,o,e,i);return l(),vt(),c});return s?n.unshift(r):n.push(r),r}}const We=e=>(t,o=he)=>(!Ho||e==="sp")&&Do(e,(...s)=>t(...s),o),$l=We("bm"),Mr=We("m"),Kl=We("bu"),Hl=We("u"),ql=We("bum"),Pr=We("um"),jl=We("sp"),Vl=We("rtg"),Bl=We("rtc");function Ul(e,t=he){Do("ec",e,t)}function Wl(e,t,o,s){let n;const r=o&&o[s];if(F(e)||ne(e)){n=new Array(e.length);for(let i=0,l=e.length;i<l;i++)n[i]=t(e[i],i,void 0,r&&r[i])}else if(typeof e=="number"){n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i,void 0,r&&r[i])}else if(Y(e))if(e[Symbol.iterator])n=Array.from(e,(i,l)=>t(i,l,void 0,r&&r[l]));else{const i=Object.keys(e);n=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const a=i[l];n[l]=t(e[a],a,l,r&&r[l])}}else n=[];return o&&(o[s]=n),n}const as=e=>e?jr(e)?$s(e)||e.proxy:as(e.parent):null,qt=re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>as(e.parent),$root:e=>as(e.root),$emit:e=>e.emit,$options:e=>Ns(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Rs(e.update)}),$nextTick:e=>e.n||(e.n=mr.bind(e.proxy)),$watch:e=>Rl.bind(e)}),Qo=(e,t)=>e!==Q&&!e.__isScriptSetup&&q(e,t),Gl={get({_:e},t){const{ctx:o,setupState:s,data:n,props:r,accessCache:i,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return n[t];case 4:return o[t];case 3:return r[t]}else{if(Qo(s,t))return i[t]=1,s[t];if(n!==Q&&q(n,t))return i[t]=2,n[t];if((a=e.propsOptions[0])&&q(a,t))return i[t]=3,r[t];if(o!==Q&&q(o,t))return i[t]=4,o[t];us&&(i[t]=0)}}const h=qt[t];let d,p;if(h)return t==="$attrs"&&me(e,"get",t),h(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(o!==Q&&q(o,t))return i[t]=4,o[t];if(p=c.config.globalProperties,q(p,t))return p[t]},set({_:e},t,o){const{data:s,setupState:n,ctx:r}=e;return Qo(n,t)?(n[t]=o,!0):s!==Q&&q(s,t)?(s[t]=o,!0):q(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:s,appContext:n,propsOptions:r}},i){let l;return!!o[i]||e!==Q&&q(e,i)||Qo(t,i)||(l=r[0])&&q(l,i)||q(s,i)||q(qt,i)||q(n.config.globalProperties,i)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:q(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function dn(e){return F(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let us=!0;function Ql(e){const t=Ns(e),o=e.proxy,s=e.ctx;us=!1,t.beforeCreate&&pn(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:i,watch:l,provide:c,inject:a,created:h,beforeMount:d,mounted:p,beforeUpdate:y,updated:m,activated:C,deactivated:k,beforeDestroy:L,beforeUnmount:P,destroyed:O,unmounted:j,render:U,renderTracked:$,renderTriggered:J,errorCaptured:K,serverPrefetch:He,expose:ee,inheritAttrs:ie,components:qe,directives:eo,filters:qo}=t;if(a&&zl(a,s,null),i)for(const z in i){const W=i[z];D(W)&&(s[z]=W.bind(o))}if(n){const z=n.call(o,o);Y(z)&&(e.data=Vt(z))}if(us=!0,r)for(const z in r){const W=r[z],lt=D(W)?W.bind(o,o):D(W.get)?W.get.bind(o,o):xe,to=!D(W)&&D(W.set)?W.set.bind(o):xe,ct=Mc({get:lt,set:to});Object.defineProperty(s,z,{enumerable:!0,configurable:!0,get:()=>ct.value,set:Ie=>ct.value=Ie})}if(l)for(const z in l)Tr(l[z],s,o,z);if(c){const z=D(c)?c.call(o):c;Reflect.ownKeys(z).forEach(W=>{tc(W,z[W])})}h&&pn(h,e,"c");function ue(z,W){F(W)?W.forEach(lt=>z(lt.bind(o))):W&&z(W.bind(o))}if(ue($l,d),ue(Mr,p),ue(Kl,y),ue(Hl,m),ue(Nl,C),ue(Fl,k),ue(Ul,K),ue(Bl,$),ue(Vl,J),ue(ql,P),ue(Pr,j),ue(jl,He),F(ee))if(ee.length){const z=e.exposed||(e.exposed={});ee.forEach(W=>{Object.defineProperty(z,W,{get:()=>o[W],set:lt=>o[W]=lt})})}else e.exposed||(e.exposed={});U&&e.render===xe&&(e.render=U),ie!=null&&(e.inheritAttrs=ie),qe&&(e.components=qe),eo&&(e.directives=eo)}function zl(e,t,o=xe){F(e)&&(e=fs(e));for(const s in e){const n=e[s];let r;Y(n)?"default"in n?r=mo(n.from||s,n.default,!0):r=mo(n.from||s):r=mo(n),be(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function pn(e,t,o){Oe(F(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,o)}function Tr(e,t,o,s){const n=s.includes(".")?Sr(o,s):()=>o[s];if(ne(e)){const r=t[e];D(r)&&po(n,r)}else if(D(e))po(n,e.bind(o));else if(Y(e))if(F(e))e.forEach(r=>Tr(r,t,o,s));else{const r=D(e.handler)?e.handler.bind(o):t[e.handler];D(r)&&po(n,r,e)}}function Ns(e){const t=e.type,{mixins:o,extends:s}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!n.length&&!o&&!s?c=t:(c={},n.length&&n.forEach(a=>So(c,a,i,!0)),So(c,t,i)),Y(t)&&r.set(t,c),c}function So(e,t,o,s=!1){const{mixins:n,extends:r}=t;r&&So(e,r,o,!0),n&&n.forEach(i=>So(e,i,o,!0));for(const i in t)if(!(s&&i==="expose")){const l=Zl[i]||o&&o[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Zl={data:gn,props:mn,emits:mn,methods:$t,computed:$t,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:$t,directives:$t,watch:Jl,provide:gn,inject:Yl};function gn(e,t){return t?e?function(){return re(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function Yl(e,t){return $t(fs(e),fs(t))}function fs(e){if(F(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function $t(e,t){return e?re(Object.create(null),e,t):t}function mn(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:re(Object.create(null),dn(e),dn(t??{})):t}function Jl(e,t){if(!e)return t;if(!t)return e;const o=re(Object.create(null),e);for(const s in t)o[s]=fe(e[s],t[s]);return o}function Ar(){return{app:null,config:{isNativeTag:Ti,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xl=0;function ec(e,t){return function(s,n=null){D(s)||(s=re({},s)),n!=null&&!Y(n)&&(n=null);const r=Ar(),i=new WeakSet;let l=!1;const c=r.app={_uid:Xl++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:Pc,get config(){return r.config},set config(a){},use(a,...h){return i.has(a)||(a&&D(a.install)?(i.add(a),a.install(c,...h)):D(a)&&(i.add(a),a(c,...h))),c},mixin(a){return r.mixins.includes(a)||r.mixins.push(a),c},component(a,h){return h?(r.components[a]=h,c):r.components[a]},directive(a,h){return h?(r.directives[a]=h,c):r.directives[a]},mount(a,h,d){if(!l){const p=de(s,n);return p.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),h&&t?t(p,a):e(p,a,d),l=!0,c._container=a,a.__vue_app__=c,$s(p.component)||p.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(a,h){return r.provides[a]=h,c},runWithContext(a){Eo=c;try{return a()}finally{Eo=null}}};return c}}let Eo=null;function tc(e,t){if(he){let o=he.provides;const s=he.parent&&he.parent.provides;s===o&&(o=he.provides=Object.create(s)),o[e]=t}}function mo(e,t,o=!1){const s=he||$e;if(s||Eo){const n=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Eo._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return o&&D(t)?t.call(s&&s.proxy):t}}function oc(e,t,o,s=!1){const n={},r={};yo(r,Ko,1),e.propsDefaults=Object.create(null),Or(e,t,n,r);for(const i in e.propsOptions[0])i in n||(n[i]=void 0);o?e.props=s?n:hl(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function sc(e,t,o,s){const{props:n,attrs:r,vnode:{patchFlag:i}}=e,l=V(n),[c]=e.propsOptions;let a=!1;if((s||i>0)&&!(i&16)){if(i&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(Fo(e.emitsOptions,p))continue;const y=t[p];if(c)if(q(r,p))y!==r[p]&&(r[p]=y,a=!0);else{const m=Pt(p);n[m]=hs(c,l,m,y,e,!1)}else y!==r[p]&&(r[p]=y,a=!0)}}}else{Or(e,t,n,r)&&(a=!0);let h;for(const d in l)(!t||!q(t,d)&&((h=It(d))===d||!q(t,h)))&&(c?o&&(o[d]!==void 0||o[h]!==void 0)&&(n[d]=hs(c,l,d,void 0,e,!0)):delete n[d]);if(r!==l)for(const d in r)(!t||!q(t,d))&&(delete r[d],a=!0)}a&&Ue(e,"set","$attrs")}function Or(e,t,o,s){const[n,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(fo(c))continue;const a=t[c];let h;n&&q(n,h=Pt(c))?!r||!r.includes(h)?o[h]=a:(l||(l={}))[h]=a:Fo(e.emitsOptions,c)||(!(c in s)||a!==s[c])&&(s[c]=a,i=!0)}if(r){const c=V(o),a=l||Q;for(let h=0;h<r.length;h++){const d=r[h];o[d]=hs(n,c,d,a[d],e,!q(a,d))}}return i}function hs(e,t,o,s,n,r){const i=e[o];if(i!=null){const l=q(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&D(c)){const{propsDefaults:a}=n;if(o in a)s=a[o];else{const h=Jt(n);s=a[o]=c.call(null,t),h()}}else s=c}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===It(o))&&(s=!0))}return s}function Ir(e,t,o=!1){const s=t.propsCache,n=s.get(e);if(n)return n;const r=e.props,i={},l=[];let c=!1;if(!D(e)){const h=d=>{c=!0;const[p,y]=Ir(d,t,!0);re(i,p),y&&l.push(...y)};!o&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!c)return Y(e)&&s.set(e,xt),xt;if(F(r))for(let h=0;h<r.length;h++){const d=Pt(r[h]);bn(d)&&(i[d]=Q)}else if(r)for(const h in r){const d=Pt(h);if(bn(d)){const p=r[h],y=i[d]=F(p)||D(p)?{type:p}:re({},p);if(y){const m=yn(Boolean,y.type),C=yn(String,y.type);y[0]=m>-1,y[1]=C<0||m<C,(m>-1||q(y,"default"))&&l.push(d)}}}const a=[i,l];return Y(e)&&s.set(e,a),a}function bn(e){return e[0]!=="$"}function _n(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function vn(e,t){return _n(e)===_n(t)}function yn(e,t){return F(t)?t.findIndex(o=>vn(o,e)):D(t)&&vn(t,e)?0:-1}const Lr=e=>e[0]==="_"||e==="$stable",Fs=e=>F(e)?e.map(Fe):[Fe(e)],nc=(e,t,o)=>{if(t._n)return t;const s=El((...n)=>Fs(t(...n)),o);return s._c=!1,s},Rr=(e,t,o)=>{const s=e._ctx;for(const n in e){if(Lr(n))continue;const r=e[n];if(D(r))t[n]=nc(n,r,s);else if(r!=null){const i=Fs(r);t[n]=()=>i}}},Nr=(e,t)=>{const o=Fs(t);e.slots.default=()=>o},rc=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=V(t),yo(t,"_",o)):Rr(t,e.slots={})}else e.slots={},t&&Nr(e,t);yo(e.slots,Ko,1)},ic=(e,t,o)=>{const{vnode:s,slots:n}=e;let r=!0,i=Q;if(s.shapeFlag&32){const l=t._;l?o&&l===1?r=!1:(re(n,t),!o&&l===1&&delete n._):(r=!t.$stable,Rr(t,n)),i=t}else t&&(Nr(e,t),i={default:1});if(r)for(const l in n)!Lr(l)&&i[l]==null&&delete n[l]};function ds(e,t,o,s,n=!1){if(F(e)){e.forEach((p,y)=>ds(p,t&&(F(t)?t[y]:t),o,s,n));return}if(go(s)&&!n)return;const r=s.shapeFlag&4?$s(s.component)||s.component.proxy:s.el,i=n?null:r,{i:l,r:c}=e,a=t&&t.r,h=l.refs===Q?l.refs={}:l.refs,d=l.setupState;if(a!=null&&a!==c&&(ne(a)?(h[a]=null,q(d,a)&&(d[a]=null)):be(a)&&(a.value=null)),D(c))ot(c,l,12,[i,h]);else{const p=ne(c),y=be(c),m=e.f;if(p||y){const C=()=>{if(m){const k=p?q(d,c)?d[c]:h[c]:c.value;n?F(k)&&Ss(k,r):F(k)?k.includes(r)||k.push(r):p?(h[c]=[r],q(d,c)&&(d[c]=h[c])):(c.value=[r],e.k&&(h[e.k]=c.value))}else p?(h[c]=i,q(d,c)&&(d[c]=i)):y&&(c.value=i,e.k&&(h[e.k]=i))};n||m?C():(C.id=-1,ge(C,o))}}}const ge=Ol;function lc(e){return cc(e)}function cc(e,t){const o=Qn();o.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:i,createText:l,createComment:c,setText:a,setElementText:h,parentNode:d,nextSibling:p,setScopeId:y=xe,insertStaticContent:m}=e,C=(u,f,g,b=null,_=null,S=null,x=void 0,w=null,E=!!f.dynamicChildren)=>{if(u===f)return;u&&!Rt(u,f)&&(b=oo(u),Ie(u,_,S,!0),u=null),f.patchFlag===-2&&(E=!1,f.dynamicChildren=null);const{type:v,ref:M,shapeFlag:A}=f;switch(v){case $o:k(u,f,g,b);break;case mt:L(u,f,g,b);break;case bo:u==null&&P(f,g,b,x);break;case Te:qe(u,f,g,b,_,S,x,w,E);break;default:A&1?U(u,f,g,b,_,S,x,w,E):A&6?eo(u,f,g,b,_,S,x,w,E):(A&64||A&128)&&v.process(u,f,g,b,_,S,x,w,E,wt)}M!=null&&_&&ds(M,u&&u.ref,S,f||u,!f)},k=(u,f,g,b)=>{if(u==null)s(f.el=l(f.children),g,b);else{const _=f.el=u.el;f.children!==u.children&&a(_,f.children)}},L=(u,f,g,b)=>{u==null?s(f.el=c(f.children||""),g,b):f.el=u.el},P=(u,f,g,b)=>{[u.el,u.anchor]=m(u.children,f,g,b,u.el,u.anchor)},O=({el:u,anchor:f},g,b)=>{let _;for(;u&&u!==f;)_=p(u),s(u,g,b),u=_;s(f,g,b)},j=({el:u,anchor:f})=>{let g;for(;u&&u!==f;)g=p(u),n(u),u=g;n(f)},U=(u,f,g,b,_,S,x,w,E)=>{f.type==="svg"?x="svg":f.type==="math"&&(x="mathml"),u==null?$(f,g,b,_,S,x,w,E):He(u,f,_,S,x,w,E)},$=(u,f,g,b,_,S,x,w)=>{let E,v;const{props:M,shapeFlag:A,transition:T,dirs:R}=u;if(E=u.el=i(u.type,S,M&&M.is,M),A&8?h(E,u.children):A&16&&K(u.children,E,null,b,_,zo(u,S),x,w),R&&at(u,null,b,"created"),J(E,u,u.scopeId,x,b),M){for(const B in M)B!=="value"&&!fo(B)&&r(E,B,null,M[B],S,u.children,b,_,je);"value"in M&&r(E,"value",null,M.value,S),(v=M.onVnodeBeforeMount)&&Re(v,b,u)}R&&at(u,null,b,"beforeMount");const H=ac(_,T);H&&T.beforeEnter(E),s(E,f,g),((v=M&&M.onVnodeMounted)||H||R)&&ge(()=>{v&&Re(v,b,u),H&&T.enter(E),R&&at(u,null,b,"mounted")},_)},J=(u,f,g,b,_)=>{if(g&&y(u,g),b)for(let S=0;S<b.length;S++)y(u,b[S]);if(_){let S=_.subTree;if(f===S){const x=_.vnode;J(u,x,x.scopeId,x.slotScopeIds,_.parent)}}},K=(u,f,g,b,_,S,x,w,E=0)=>{for(let v=E;v<u.length;v++){const M=u[v]=w?Je(u[v]):Fe(u[v]);C(null,M,f,g,b,_,S,x,w)}},He=(u,f,g,b,_,S,x)=>{const w=f.el=u.el;let{patchFlag:E,dynamicChildren:v,dirs:M}=f;E|=u.patchFlag&16;const A=u.props||Q,T=f.props||Q;let R;if(g&&ut(g,!1),(R=T.onVnodeBeforeUpdate)&&Re(R,g,f,u),M&&at(f,u,g,"beforeUpdate"),g&&ut(g,!0),v?ee(u.dynamicChildren,v,w,g,b,zo(f,_),S):x||W(u,f,w,null,g,b,zo(f,_),S,!1),E>0){if(E&16)ie(w,f,A,T,g,b,_);else if(E&2&&A.class!==T.class&&r(w,"class",null,T.class,_),E&4&&r(w,"style",A.style,T.style,_),E&8){const H=f.dynamicProps;for(let B=0;B<H.length;B++){const G=H[B],te=A[G],Me=T[G];(Me!==te||G==="value")&&r(w,G,te,Me,_,u.children,g,b,je)}}E&1&&u.children!==f.children&&h(w,f.children)}else!x&&v==null&&ie(w,f,A,T,g,b,_);((R=T.onVnodeUpdated)||M)&&ge(()=>{R&&Re(R,g,f,u),M&&at(f,u,g,"updated")},b)},ee=(u,f,g,b,_,S,x)=>{for(let w=0;w<f.length;w++){const E=u[w],v=f[w],M=E.el&&(E.type===Te||!Rt(E,v)||E.shapeFlag&70)?d(E.el):g;C(E,v,M,null,b,_,S,x,!0)}},ie=(u,f,g,b,_,S,x)=>{if(g!==b){if(g!==Q)for(const w in g)!fo(w)&&!(w in b)&&r(u,w,g[w],null,x,f.children,_,S,je);for(const w in b){if(fo(w))continue;const E=b[w],v=g[w];E!==v&&w!=="value"&&r(u,w,v,E,x,f.children,_,S,je)}"value"in b&&r(u,"value",g.value,b.value,x)}},qe=(u,f,g,b,_,S,x,w,E)=>{const v=f.el=u?u.el:l(""),M=f.anchor=u?u.anchor:l("");let{patchFlag:A,dynamicChildren:T,slotScopeIds:R}=f;R&&(w=w?w.concat(R):R),u==null?(s(v,g,b),s(M,g,b),K(f.children||[],g,M,_,S,x,w,E)):A>0&&A&64&&T&&u.dynamicChildren?(ee(u.dynamicChildren,T,g,_,S,x,w),(f.key!=null||_&&f===_.subTree)&&Fr(u,f,!0)):W(u,f,g,M,_,S,x,w,E)},eo=(u,f,g,b,_,S,x,w,E)=>{f.slotScopeIds=w,u==null?f.shapeFlag&512?_.ctx.activate(f,g,b,x,E):qo(f,g,b,_,S,x,E):Zs(u,f,E)},qo=(u,f,g,b,_,S,x)=>{const w=u.component=Cc(u,b,_);if(xr(u)&&(w.ctx.renderer=wt),wc(w),w.asyncDep){if(_&&_.registerDep(w,ue),!u.el){const E=w.subTree=de(mt);L(null,E,f,g)}}else ue(w,u,f,g,_,S,x)},Zs=(u,f,g)=>{const b=f.component=u.component;if(Ml(u,f,g))if(b.asyncDep&&!b.asyncResolved){z(b,f,g);return}else b.next=f,yl(b.update),b.effect.dirty=!0,b.update();else f.el=u.el,b.vnode=f},ue=(u,f,g,b,_,S,x)=>{const w=()=>{if(u.isMounted){let{next:M,bu:A,u:T,parent:R,vnode:H}=u;{const St=Dr(u);if(St){M&&(M.el=H.el,z(u,M,x)),St.asyncDep.then(()=>{u.isUnmounted||w()});return}}let B=M,G;ut(u,!1),M?(M.el=H.el,z(u,M,x)):M=H,A&&Wo(A),(G=M.props&&M.props.onVnodeBeforeUpdate)&&Re(G,R,M,H),ut(u,!0);const te=Go(u),Me=u.subTree;u.subTree=te,C(Me,te,d(Me.el),oo(Me),u,_,S),M.el=te.el,B===null&&Pl(u,te.el),T&&ge(T,_),(G=M.props&&M.props.onVnodeUpdated)&&ge(()=>Re(G,R,M,H),_)}else{let M;const{el:A,props:T}=f,{bm:R,m:H,parent:B}=u,G=go(f);if(ut(u,!1),R&&Wo(R),!G&&(M=T&&T.onVnodeBeforeMount)&&Re(M,B,f),ut(u,!0),A&&Bo){const te=()=>{u.subTree=Go(u),Bo(A,u.subTree,u,_,null)};G?f.type.__asyncLoader().then(()=>!u.isUnmounted&&te()):te()}else{const te=u.subTree=Go(u);C(null,te,g,b,u,_,S),f.el=te.el}if(H&&ge(H,_),!G&&(M=T&&T.onVnodeMounted)){const te=f;ge(()=>Re(M,B,te),_)}(f.shapeFlag&256||B&&go(B.vnode)&&B.vnode.shapeFlag&256)&&u.a&&ge(u.a,_),u.isMounted=!0,f=g=b=null}},E=u.effect=new ks(w,xe,()=>Rs(v),u.scope),v=u.update=()=>{E.dirty&&E.run()};v.id=u.uid,ut(u,!0),v()},z=(u,f,g)=>{f.component=u;const b=u.vnode.props;u.vnode=f,u.next=null,sc(u,f.props,b,g),ic(u,f.children,g),_t(),fn(u),vt()},W=(u,f,g,b,_,S,x,w,E=!1)=>{const v=u&&u.children,M=u?u.shapeFlag:0,A=f.children,{patchFlag:T,shapeFlag:R}=f;if(T>0){if(T&128){to(v,A,g,b,_,S,x,w,E);return}else if(T&256){lt(v,A,g,b,_,S,x,w,E);return}}R&8?(M&16&&je(v,_,S),A!==v&&h(g,A)):M&16?R&16?to(v,A,g,b,_,S,x,w,E):je(v,_,S,!0):(M&8&&h(g,""),R&16&&K(A,g,b,_,S,x,w,E))},lt=(u,f,g,b,_,S,x,w,E)=>{u=u||xt,f=f||xt;const v=u.length,M=f.length,A=Math.min(v,M);let T;for(T=0;T<A;T++){const R=f[T]=E?Je(f[T]):Fe(f[T]);C(u[T],R,g,null,_,S,x,w,E)}v>M?je(u,_,S,!0,!1,A):K(f,g,b,_,S,x,w,E,A)},to=(u,f,g,b,_,S,x,w,E)=>{let v=0;const M=f.length;let A=u.length-1,T=M-1;for(;v<=A&&v<=T;){const R=u[v],H=f[v]=E?Je(f[v]):Fe(f[v]);if(Rt(R,H))C(R,H,g,null,_,S,x,w,E);else break;v++}for(;v<=A&&v<=T;){const R=u[A],H=f[T]=E?Je(f[T]):Fe(f[T]);if(Rt(R,H))C(R,H,g,null,_,S,x,w,E);else break;A--,T--}if(v>A){if(v<=T){const R=T+1,H=R<M?f[R].el:b;for(;v<=T;)C(null,f[v]=E?Je(f[v]):Fe(f[v]),g,H,_,S,x,w,E),v++}}else if(v>T)for(;v<=A;)Ie(u[v],_,S,!0),v++;else{const R=v,H=v,B=new Map;for(v=H;v<=T;v++){const ye=f[v]=E?Je(f[v]):Fe(f[v]);ye.key!=null&&B.set(ye.key,v)}let G,te=0;const Me=T-H+1;let St=!1,Xs=0;const Lt=new Array(Me);for(v=0;v<Me;v++)Lt[v]=0;for(v=R;v<=A;v++){const ye=u[v];if(te>=Me){Ie(ye,_,S,!0);continue}let Le;if(ye.key!=null)Le=B.get(ye.key);else for(G=H;G<=T;G++)if(Lt[G-H]===0&&Rt(ye,f[G])){Le=G;break}Le===void 0?Ie(ye,_,S,!0):(Lt[Le-H]=v+1,Le>=Xs?Xs=Le:St=!0,C(ye,f[Le],g,null,_,S,x,w,E),te++)}const en=St?uc(Lt):xt;for(G=en.length-1,v=Me-1;v>=0;v--){const ye=H+v,Le=f[ye],tn=ye+1<M?f[ye+1].el:b;Lt[v]===0?C(null,Le,g,tn,_,S,x,w,E):St&&(G<0||v!==en[G]?ct(Le,g,tn,2):G--)}}},ct=(u,f,g,b,_=null)=>{const{el:S,type:x,transition:w,children:E,shapeFlag:v}=u;if(v&6){ct(u.component.subTree,f,g,b);return}if(v&128){u.suspense.move(f,g,b);return}if(v&64){x.move(u,f,g,wt);return}if(x===Te){s(S,f,g);for(let A=0;A<E.length;A++)ct(E[A],f,g,b);s(u.anchor,f,g);return}if(x===bo){O(u,f,g);return}if(b!==2&&v&1&&w)if(b===0)w.beforeEnter(S),s(S,f,g),ge(()=>w.enter(S),_);else{const{leave:A,delayLeave:T,afterLeave:R}=w,H=()=>s(S,f,g),B=()=>{A(S,()=>{H(),R&&R()})};T?T(S,H,B):B()}else s(S,f,g)},Ie=(u,f,g,b=!1,_=!1)=>{const{type:S,props:x,ref:w,children:E,dynamicChildren:v,shapeFlag:M,patchFlag:A,dirs:T}=u;if(w!=null&&ds(w,null,g,u,!0),M&256){f.ctx.deactivate(u);return}const R=M&1&&T,H=!go(u);let B;if(H&&(B=x&&x.onVnodeBeforeUnmount)&&Re(B,f,u),M&6)ki(u.component,g,b);else{if(M&128){u.suspense.unmount(g,b);return}R&&at(u,null,f,"beforeUnmount"),M&64?u.type.remove(u,f,g,_,wt,b):v&&(S!==Te||A>0&&A&64)?je(v,f,g,!1,!0):(S===Te&&A&384||!_&&M&16)&&je(E,f,g),b&&Ys(u)}(H&&(B=x&&x.onVnodeUnmounted)||R)&&ge(()=>{B&&Re(B,f,u),R&&at(u,null,f,"unmounted")},g)},Ys=u=>{const{type:f,el:g,anchor:b,transition:_}=u;if(f===Te){xi(g,b);return}if(f===bo){j(u);return}const S=()=>{n(g),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(u.shapeFlag&1&&_&&!_.persisted){const{leave:x,delayLeave:w}=_,E=()=>x(g,S);w?w(u.el,S,E):E()}else S()},xi=(u,f)=>{let g;for(;u!==f;)g=p(u),n(u),u=g;n(f)},ki=(u,f,g)=>{const{bum:b,scope:_,update:S,subTree:x,um:w}=u;b&&Wo(b),_.stop(),S&&(S.active=!1,Ie(x,u,f,g)),w&&ge(w,f),ge(()=>{u.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},je=(u,f,g,b=!1,_=!1,S=0)=>{for(let x=S;x<u.length;x++)Ie(u[x],f,g,b,_)},oo=u=>u.shapeFlag&6?oo(u.component.subTree):u.shapeFlag&128?u.suspense.next():p(u.anchor||u.el);let jo=!1;const Js=(u,f,g)=>{u==null?f._vnode&&Ie(f._vnode,null,null,!0):C(f._vnode||null,u,f,null,null,null,g),jo||(jo=!0,fn(),_r(),jo=!1),f._vnode=u},wt={p:C,um:Ie,m:ct,r:Ys,mt:qo,mc:K,pc:W,pbc:ee,n:oo,o:e};let Vo,Bo;return t&&([Vo,Bo]=t(wt)),{render:Js,hydrate:Vo,createApp:ec(Js,Vo)}}function zo({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function ut({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function ac(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fr(e,t,o=!1){const s=e.children,n=t.children;if(F(s)&&F(n))for(let r=0;r<s.length;r++){const i=s[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=Je(n[r]),l.el=i.el),o||Fr(i,l)),l.type===$o&&(l.el=i.el)}}function uc(e){const t=e.slice(),o=[0];let s,n,r,i,l;const c=e.length;for(s=0;s<c;s++){const a=e[s];if(a!==0){if(n=o[o.length-1],e[n]<a){t[s]=n,o.push(s);continue}for(r=0,i=o.length-1;r<i;)l=r+i>>1,e[o[l]]<a?r=l+1:i=l;a<e[o[r]]&&(r>0&&(t[s]=o[r-1]),o[r]=s)}}for(r=o.length,i=o[r-1];r-- >0;)o[r]=i,i=t[i];return o}function Dr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Dr(t)}const fc=e=>e.__isTeleport,Te=Symbol.for("v-fgt"),$o=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),bo=Symbol.for("v-stc"),jt=[];let Ae=null;function Ke(e=!1){jt.push(Ae=e?null:[])}function hc(){jt.pop(),Ae=jt[jt.length-1]||null}let Gt=1;function Cn(e){Gt+=e}function $r(e){return e.dynamicChildren=Gt>0?Ae||xt:null,hc(),Gt>0&&Ae&&Ae.push(e),e}function nt(e,t,o,s,n,r){return $r(At(e,t,o,s,n,r,!0))}function Kr(e,t,o,s,n){return $r(de(e,t,o,s,n,!0))}function dc(e){return e?e.__v_isVNode===!0:!1}function Rt(e,t){return e.type===t.type&&e.key===t.key}const Ko="__vInternal",Hr=({key:e})=>e??null,_o=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?ne(e)||be(e)||D(e)?{i:$e,r:e,k:t,f:!!o}:e:null);function At(e,t=null,o=null,s=0,n=null,r=e===Te?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Hr(t),ref:t&&_o(t),scopeId:Cr,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:$e};return l?(Ds(c,o),r&128&&e.normalize(c)):o&&(c.shapeFlag|=ne(o)?8:16),Gt>0&&!i&&Ae&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Ae.push(c),c}const de=pc;function pc(e,t=null,o=null,s=0,n=null,r=!1){if((!e||e===Tl)&&(e=mt),dc(e)){const l=Ot(e,t,!0);return o&&Ds(l,o),Gt>0&&!r&&Ae&&(l.shapeFlag&6?Ae[Ae.indexOf(e)]=l:Ae.push(l)),l.patchFlag|=-2,l}if(kc(e)&&(e=e.__vccOpts),t){t=gc(t);let{class:l,style:c}=t;l&&!ne(l)&&(t.class=Yt(l)),Y(c)&&(ar(c)&&!F(c)&&(c=re({},c)),t.style=xs(c))}const i=ne(e)?1:Al(e)?128:fc(e)?64:Y(e)?4:D(e)?2:0;return At(e,t,o,s,n,i,r,!0)}function gc(e){return e?ar(e)||Ko in e?re({},e):e:null}function Ot(e,t,o=!1){const{props:s,ref:n,patchFlag:r,children:i}=e,l=t?_c(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Hr(l),ref:t&&t.ref?o&&n?F(n)?n.concat(_o(t)):[n,_o(t)]:_o(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ot(e.ssContent),ssFallback:e.ssFallback&&Ot(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function mc(e=" ",t=0){return de($o,null,e,t)}function qr(e,t){const o=de(bo,null,e);return o.staticCount=t,o}function bc(e="",t=!1){return t?(Ke(),Kr(mt,null,e)):de(mt,null,e)}function Fe(e){return e==null||typeof e=="boolean"?de(mt):F(e)?de(Te,null,e.slice()):typeof e=="object"?Je(e):de($o,null,String(e))}function Je(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ot(e)}function Ds(e,t){let o=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(F(t))o=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),Ds(e,n()),n._c&&(n._d=!0));return}else{o=32;const n=t._;!n&&!(Ko in t)?t._ctx=$e:n===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else D(t)?(t={default:t,_ctx:$e},o=32):(t=String(t),s&64?(o=16,t=[mc(t)]):o=8);e.children=t,e.shapeFlag|=o}function _c(...e){const t={};for(let o=0;o<e.length;o++){const s=e[o];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=Yt([t.class,s.class]));else if(n==="style")t.style=xs([t.style,s.style]);else if(Ao(n)){const r=t[n],i=s[n];i&&r!==i&&!(F(r)&&r.includes(i))&&(t[n]=r?[].concat(r,i):i)}else n!==""&&(t[n]=s[n])}return t}function Re(e,t,o,s=null){Oe(e,t,7,[o,s])}const vc=Ar();let yc=0;function Cc(e,t,o){const s=e.type,n=(t?t.appContext:e.appContext)||vc,r={uid:yc++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ir(s,n),emitsOptions:yr(s,n),emit:null,emitted:null,propsDefaults:Q,inheritAttrs:s.inheritAttrs,ctx:Q,data:Q,props:Q,attrs:Q,slots:Q,refs:Q,setupState:Q,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Sl.bind(null,r),e.ce&&e.ce(r),r}let he=null,xo,ps;{const e=Qn(),t=(o,s)=>{let n;return(n=e[o])||(n=e[o]=[]),n.push(s),r=>{n.length>1?n.forEach(i=>i(r)):n[0](r)}};xo=t("__VUE_INSTANCE_SETTERS__",o=>he=o),ps=t("__VUE_SSR_SETTERS__",o=>Ho=o)}const Jt=e=>{const t=he;return xo(e),e.scope.on(),()=>{e.scope.off(),xo(t)}},wn=()=>{he&&he.scope.off(),xo(null)};function jr(e){return e.vnode.shapeFlag&4}let Ho=!1;function wc(e,t=!1){t&&ps(t);const{props:o,children:s}=e.vnode,n=jr(e);oc(e,o,n,t),rc(e,s);const r=n?Sc(e,t):void 0;return t&&ps(!1),r}function Sc(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=ur(new Proxy(e.ctx,Gl));const{setup:s}=o;if(s){const n=e.setupContext=s.length>1?xc(e):null,r=Jt(e);_t();const i=ot(s,e,0,[e.props,n]);if(vt(),r(),Wn(i)){if(i.then(wn,wn),t)return i.then(l=>{Sn(e,l,t)}).catch(l=>{No(l,e,0)});e.asyncDep=i}else Sn(e,i,t)}else Vr(e,t)}function Sn(e,t,o){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Y(t)&&(e.setupState=pr(t)),Vr(e,o)}let En;function Vr(e,t,o){const s=e.type;if(!e.render){if(!t&&En&&!s.render){const n=s.template||Ns(e).template;if(n){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,a=re(re({isCustomElement:r,delimiters:l},i),c);s.render=En(n,a)}}e.render=s.render||xe}{const n=Jt(e);_t();try{Ql(e)}finally{vt(),n()}}}function Ec(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,o){return me(e,"get","$attrs"),t[o]}}))}function xc(e){const t=o=>{e.exposed=o||{}};return{get attrs(){return Ec(e)},slots:e.slots,emit:e.emit,expose:t}}function $s(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pr(ur(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in qt)return qt[o](e)},has(t,o){return o in t||o in qt}}))}function kc(e){return D(e)&&"__vccOpts"in e}const Mc=(e,t)=>dl(e,t,Ho),Pc="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Tc="http://www.w3.org/2000/svg",Ac="http://www.w3.org/1998/Math/MathML",Xe=typeof document<"u"?document:null,xn=Xe&&Xe.createElement("template"),Oc={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,s)=>{const n=t==="svg"?Xe.createElementNS(Tc,e):t==="mathml"?Xe.createElementNS(Ac,e):Xe.createElement(e,o?{is:o}:void 0);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>Xe.createTextNode(e),createComment:e=>Xe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,s,n,r){const i=o?o.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),o),!(n===r||!(n=n.nextSibling)););else{xn.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=xn.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,o)}return[i?i.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},Ic=Symbol("_vtc");function Lc(e,t,o){const s=e[Ic];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const Rc=Symbol("_vod"),Nc=Symbol("");function Fc(e,t,o){const s=e.style,n=s.display,r=ne(o);if(o&&!r){if(t&&!ne(t))for(const i in t)o[i]==null&&gs(s,i,"");for(const i in o)gs(s,i,o[i])}else if(r){if(t!==o){const i=s[Nc];i&&(o+=";"+i),s.cssText=o}}else t&&e.removeAttribute("style");Rc in e&&(s.display=n)}const kn=/\s*!important$/;function gs(e,t,o){if(F(o))o.forEach(s=>gs(e,t,s));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const s=Dc(e,t);kn.test(o)?e.setProperty(It(s),o.replace(kn,""),"important"):e[s]=o}}const Mn=["Webkit","Moz","ms"],Zo={};function Dc(e,t){const o=Zo[t];if(o)return o;let s=Pt(t);if(s!=="filter"&&s in e)return Zo[t]=s;s=Gn(s);for(let n=0;n<Mn.length;n++){const r=Mn[n]+s;if(r in e)return Zo[t]=r}return t}const Pn="http://www.w3.org/1999/xlink";function $c(e,t,o,s,n){if(s&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(Pn,t.slice(6,t.length)):e.setAttributeNS(Pn,t,o);else{const r=Vi(t);o==null||r&&!zn(o)?e.removeAttribute(t):e.setAttribute(t,r?"":o)}}function Kc(e,t,o,s,n,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,n,r),e[t]=o??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=o;const a=l==="OPTION"?e.getAttribute("value"):e.value,h=o??"";a!==h&&(e.value=h),o==null&&e.removeAttribute(t);return}let c=!1;if(o===""||o==null){const a=typeof e[t];a==="boolean"?o=zn(o):o==null&&a==="string"?(o="",c=!0):a==="number"&&(o=0,c=!0)}try{e[t]=o}catch{}c&&e.removeAttribute(t)}function Hc(e,t,o,s){e.addEventListener(t,o,s)}function qc(e,t,o,s){e.removeEventListener(t,o,s)}const Tn=Symbol("_vei");function jc(e,t,o,s,n=null){const r=e[Tn]||(e[Tn]={}),i=r[t];if(s&&i)i.value=s;else{const[l,c]=Vc(t);if(s){const a=r[t]=Wc(s,n);Hc(e,l,a,c)}else i&&(qc(e,l,i,c),r[t]=void 0)}}const An=/(?:Once|Passive|Capture)$/;function Vc(e){let t;if(An.test(e)){t={};let s;for(;s=e.match(An);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):It(e.slice(2)),t]}let Yo=0;const Bc=Promise.resolve(),Uc=()=>Yo||(Bc.then(()=>Yo=0),Yo=Date.now());function Wc(e,t){const o=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=o.attached)return;Oe(Gc(s,o.value),t,5,[s])};return o.value=e,o.attached=Uc(),o}function Gc(e,t){if(F(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const On=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Qc=(e,t,o,s,n,r,i,l,c)=>{const a=n==="svg";t==="class"?Lc(e,s,a):t==="style"?Fc(e,o,s):Ao(t)?ws(t)||jc(e,t,o,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zc(e,t,s,a))?Kc(e,t,s,r,i,l,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),$c(e,t,s,a))};function zc(e,t,o,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&On(t)&&D(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return On(t)&&ne(o)?!1:t in e}const Zc=re({patchProp:Qc},Oc);let In;function Yc(){return In||(In=lc(Zc))}const Jc=(...e)=>{const t=Yc().createApp(...e),{mount:o}=t;return t.mount=s=>{const n=ea(s);if(!n)return;const r=t._component;!D(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const i=o(n,!1,Xc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},t};function Xc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ea(e){return ne(e)?document.querySelector(e):e}const Br=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o},ta={},oa={class:"flex justify-center h-[55px] md:h-[70px]"},sa=qr('<div class="container flex justify-between items-center"><div><svg width="152" height="48" viewBox="0 0 152 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_0_4)"><path d="M62.66 32L67.076 14.276H72.968L77.36 32H73.544L70.016 16.544H70.04L66.476 32H62.66ZM65.828 27.896V24.992H74.228V27.896H65.828ZM88.2793 30.488C89.0633 30.568 89.7473 30.72 90.3313 30.944C90.9233 31.16 91.3833 31.484 91.7113 31.916C92.0393 32.34 92.2033 32.908 92.2033 33.62C92.2033 34.444 91.9313 35.144 91.3873 35.72C90.8513 36.304 90.0633 36.748 89.0233 37.052C87.9833 37.356 86.7233 37.508 85.2433 37.508C83.0593 37.508 81.3673 37.192 80.1673 36.56C78.9753 35.936 78.3793 35.1 78.3793 34.052C78.3793 33.756 78.4113 33.488 78.4753 33.248C78.5473 33.016 78.6353 32.816 78.7393 32.648L82.1233 33.14C82.0833 33.196 82.0393 33.28 81.9913 33.392C81.9513 33.512 81.9313 33.66 81.9313 33.836C81.9313 34.26 82.2473 34.576 82.8793 34.784C83.5193 34.992 84.3433 35.096 85.3513 35.096C86.0633 35.096 86.6713 35.044 87.1753 34.94C87.6873 34.844 88.0753 34.7 88.3393 34.508C88.6113 34.316 88.7473 34.096 88.7473 33.848C88.7473 33.488 88.5713 33.252 88.2193 33.14C87.8753 33.028 87.4753 32.948 87.0193 32.9L82.1953 32.408C81.3073 32.32 80.5713 32.064 79.9873 31.64C79.4033 31.216 79.1113 30.644 79.1113 29.924C79.1113 29.476 79.2353 29.068 79.4833 28.7C79.7313 28.324 80.0153 28.016 80.3353 27.776C80.6553 27.528 80.9233 27.372 81.1393 27.308L83.0353 28.268C82.8833 28.292 82.7033 28.388 82.4953 28.556C82.2953 28.724 82.1953 28.92 82.1953 29.144C82.1953 29.368 82.3073 29.56 82.5313 29.72C82.7633 29.88 83.1833 29.988 83.7913 30.044L88.2793 30.488ZM89.5393 19.256H92.8153L91.4833 24.152C91.2353 25.08 90.8673 25.908 90.3793 26.636C89.8913 27.356 89.2393 27.924 88.4233 28.34C87.6153 28.756 86.5953 28.964 85.3633 28.964C84.0673 28.964 82.9433 28.764 81.9913 28.364C81.0473 27.964 80.3193 27.4 79.8073 26.672C79.2953 25.936 79.0393 25.068 79.0393 24.068C79.0393 23.068 79.2993 22.188 79.8193 21.428C80.3473 20.668 81.0633 20.076 81.9673 19.652C82.8793 19.228 83.9113 19.016 85.0633 19.016C85.9353 19.016 86.7313 19.16 87.4513 19.448C88.1793 19.728 88.7633 20.1 89.2033 20.564C89.6513 21.028 89.8833 21.54 89.8993 22.1L89.2153 22.28L89.5393 19.256ZM85.3393 26.24C85.8673 26.24 86.3313 26.156 86.7313 25.988C87.1313 25.812 87.4433 25.56 87.6673 25.232C87.8913 24.896 88.0033 24.492 88.0033 24.02C88.0033 23.556 87.8913 23.16 87.6673 22.832C87.4433 22.504 87.1313 22.252 86.7313 22.076C86.3313 21.9 85.8673 21.812 85.3393 21.812C84.8353 21.812 84.3793 21.904 83.9713 22.088C83.5713 22.264 83.2553 22.52 83.0233 22.856C82.7913 23.184 82.6753 23.584 82.6753 24.056C82.6753 24.52 82.7873 24.916 83.0113 25.244C83.2353 25.564 83.5473 25.812 83.9473 25.988C84.3473 26.156 84.8113 26.24 85.3393 26.24ZM95.6066 26.744V24.284H104.055L103.695 24.908C103.695 24.844 103.695 24.784 103.695 24.728C103.695 24.664 103.695 24.604 103.695 24.548C103.695 24.092 103.587 23.656 103.371 23.24C103.155 22.816 102.819 22.472 102.363 22.208C101.915 21.936 101.339 21.8 100.635 21.8C99.9306 21.8 99.3226 21.952 98.8106 22.256C98.3066 22.552 97.9186 22.98 97.6466 23.54C97.3826 24.1 97.2506 24.776 97.2506 25.568C97.2506 26.384 97.3786 27.084 97.6346 27.668C97.8986 28.244 98.2866 28.688 98.7986 29C99.3186 29.312 99.9626 29.468 100.731 29.468C101.227 29.468 101.655 29.424 102.015 29.336C102.375 29.24 102.667 29.12 102.891 28.976C103.123 28.832 103.299 28.672 103.419 28.496C103.539 28.32 103.611 28.148 103.635 27.98H107.307C107.259 28.516 107.075 29.044 106.755 29.564C106.435 30.076 105.991 30.54 105.423 30.956C104.855 31.364 104.163 31.688 103.347 31.928C102.539 32.168 101.615 32.288 100.575 32.288C99.1666 32.288 97.9386 32.008 96.8906 31.448C95.8426 30.88 95.0306 30.1 94.4546 29.108C93.8786 28.108 93.5906 26.956 93.5906 25.652C93.5906 24.332 93.8826 23.176 94.4666 22.184C95.0586 21.184 95.8786 20.408 96.9266 19.856C97.9826 19.296 99.2026 19.016 100.587 19.016C102.003 19.016 103.227 19.3 104.259 19.868C105.291 20.428 106.087 21.216 106.647 22.232C107.207 23.24 107.487 24.416 107.487 25.76C107.487 25.96 107.483 26.152 107.475 26.336C107.467 26.52 107.455 26.656 107.439 26.744H95.6066ZM118.787 32V26.588C118.787 26.284 118.787 26.008 118.787 25.76C118.787 25.512 118.787 25.288 118.787 25.088C118.787 24.56 118.719 24.08 118.583 23.648C118.447 23.208 118.203 22.856 117.851 22.592C117.499 22.328 116.991 22.196 116.327 22.196C115.751 22.196 115.251 22.328 114.827 22.592C114.411 22.856 114.091 23.224 113.867 23.696C113.643 24.168 113.531 24.712 113.531 25.328L112.499 24.584C112.499 23.48 112.739 22.512 113.219 21.68C113.699 20.848 114.347 20.196 115.163 19.724C115.987 19.252 116.899 19.016 117.899 19.016C118.947 19.016 119.807 19.228 120.479 19.652C121.159 20.068 121.663 20.652 121.991 21.404C122.327 22.148 122.495 23.02 122.495 24.02C122.495 24.428 122.495 24.884 122.495 25.388C122.495 25.892 122.495 26.408 122.495 26.936V32H118.787ZM109.811 32V19.256H113.531V32H109.811ZM131.7 32.288C130.3 32.288 129.072 32.008 128.016 31.448C126.96 30.88 126.14 30.092 125.556 29.084C124.98 28.076 124.692 26.912 124.692 25.592C124.692 24.256 124.98 23.1 125.556 22.124C126.14 21.14 126.96 20.376 128.016 19.832C129.072 19.288 130.3 19.016 131.7 19.016C132.748 19.016 133.676 19.172 134.484 19.484C135.292 19.788 135.968 20.192 136.512 20.696C137.056 21.2 137.468 21.752 137.748 22.352C138.028 22.952 138.168 23.548 138.168 24.14C138.168 24.148 138.168 24.164 138.168 24.188C138.168 24.204 138.168 24.22 138.168 24.236H134.484C134.484 24.188 134.48 24.144 134.472 24.104C134.472 24.056 134.464 24.008 134.448 23.96C134.384 23.624 134.244 23.308 134.028 23.012C133.812 22.716 133.508 22.476 133.116 22.292C132.732 22.1 132.252 22.004 131.676 22.004C131.06 22.004 130.508 22.14 130.02 22.412C129.54 22.684 129.16 23.088 128.88 23.624C128.6 24.152 128.46 24.808 128.46 25.592C128.46 26.36 128.6 27.024 128.88 27.584C129.16 28.136 129.54 28.56 130.02 28.856C130.508 29.152 131.06 29.3 131.676 29.3C132.308 29.3 132.824 29.204 133.224 29.012C133.624 28.812 133.924 28.548 134.124 28.22C134.324 27.884 134.444 27.516 134.484 27.116H138.168C138.168 27.708 138.028 28.312 137.748 28.928C137.476 29.536 137.068 30.092 136.524 30.596C135.988 31.1 135.316 31.508 134.508 31.82C133.7 32.132 132.764 32.288 131.7 32.288ZM140.938 37.508C140.538 37.508 140.178 37.492 139.858 37.46C139.546 37.436 139.35 37.408 139.27 37.376V34.556C139.374 34.604 139.554 34.64 139.81 34.664C140.074 34.696 140.354 34.712 140.65 34.712C141.042 34.712 141.394 34.632 141.706 34.472C142.026 34.32 142.298 34.1 142.522 33.812C142.754 33.532 142.934 33.2 143.062 32.816L143.278 32.168L138.886 19.256H142.762L145.534 29.708H145.102L147.766 19.256H151.594L147.214 32.636C146.886 33.644 146.482 34.512 146.002 35.24C145.522 35.968 144.882 36.528 144.082 36.92C143.282 37.312 142.234 37.508 140.938 37.508Z" fill="white"></path><path d="M4.11357 17.5385L24 3.09017L43.8864 17.5385L36.2905 40.9164H11.7095L4.11357 17.5385Z" stroke="#EF6D58" stroke-width="5"></path><path d="M23.5 14L32.535 20.5643L29.084 31.1857H17.916L14.465 20.5643L23.5 14Z" fill="#EF6D58"></path></g><defs><clipPath id="clip0_0_4"><rect width="152" height="48" fill="white"></rect></clipPath></defs></svg></div><div>reszta rzeczy</div></div>',1),na=[sa];function ra(e,t){return Ke(),nt("header",oa,na)}const ia=Br(ta,[["render",ra]]),la="/assets/me-1SGFpOny.png",ca={},aa={class:"grid md:grid-cols-6"},ua=qr('<div class="md:col-span-3 flex items-center text-my-white"><div class="grid gap-[20px]"><div class="text-[2.5em]">Hello, I am</div><div class="text-[3.5em] font-extrabold">Wojciech Świątek</div><div class="bg-accent rounded-[2px] text-my-black shadow-sm w-fit h-fit p-[4px]"> Frontend Developer </div></div></div><div class="md:col-span-3 flex justify-center"><img class="max-h-[400px] md:max-h-[500px]" src="'+la+'" alt="me"></div>',2),fa=[ua];function ha(e,t){return Ke(),nt("div",aa,fa)}const da=Br(ca,[["render",ha]]),pa={class:"promotion-dialog",open:""},ga=["aria-label","onClick","onTouchstartPassive"],ma=Er({__name:"PromotionDialog",props:{state:{}},emits:["promotionSelected"],setup(e,{emit:t}){const o=e,s=[{name:"Queen",data:"q"},{name:"Knight",data:"n"},{name:"Rook",data:"r"},{name:"Bishop",data:"b"}];function n(r){var i,l;(l=(i=o.state).callback)==null||l.call(i,r.data),t("promotionSelected")}return(r,i)=>(Ke(),nt("dialog",pa,[(Ke(),nt(Te,null,Wl(s,l=>At("button",{key:l.name,type:"button",class:Yt([l.name.toLowerCase(),r.state.color]),"aria-label":l.name,onClick:c=>n(l),onTouchstartPassive:c=>n(l)},null,42,ga)),64))]))}});/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const ce="w",Se="b",oe="p",ms="n",vo="b",Kt="r",et="q",se="k",Jo="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Ce=-1,ba={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},_a=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],I={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},N={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Xo={b:[16,32,17,15],w:[-16,-32,-17,-15]},Ln={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},va=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],ya=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Ca={p:1,n:2,b:4,r:8,q:16,k:32},wa="pnbrqkPNBRQK",Rn=[ms,vo,Kt,et],Sa=7,Ea=6,xa=1,ka=0,ao={[se]:I.KSIDE_CASTLE,[et]:I.QSIDE_CASTLE},Qe={w:[{square:N.a1,flag:I.QSIDE_CASTLE},{square:N.h1,flag:I.KSIDE_CASTLE}],b:[{square:N.a8,flag:I.QSIDE_CASTLE},{square:N.h8,flag:I.KSIDE_CASTLE}]},Ma={b:xa,w:Ea},Pa=["1-0","0-1","1/2-1/2","*"];function gt(e){return e>>4}function Qt(e){return e&15}function Ur(e){return"0123456789".indexOf(e)!==-1}function we(e){const t=Qt(e),o=gt(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(o,o+1)}function Nt(e){return e===ce?Se:ce}function Ta(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const o=parseInt(t[5],10);if(isNaN(o)||o<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(t[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const n=t[0].split("/");if(n.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let i=0;i<n.length;i++){let l=0,c=!1;for(let a=0;a<n[i].length;a++)if(Ur(n[i][a])){if(c)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(n[i][a],10),c=!0}else{if(!/^[prnbqkPRNBQK]$/.test(n[i][a]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,c=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const r=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:i,regex:l}of r){if(!l.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${i} king`};if((t[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${i} kings`}}return{ok:!0}}function Aa(e,t){const o=e.from,s=e.to,n=e.piece;let r=0,i=0,l=0;for(let c=0,a=t.length;c<a;c++){const h=t[c].from,d=t[c].to,p=t[c].piece;n===p&&o!==h&&s===d&&(r++,gt(o)===gt(h)&&i++,Qt(o)===Qt(h)&&l++)}return r>0?i>0&&l>0?we(o):l>0?we(o).charAt(1):we(o).charAt(0):""}function ze(e,t,o,s,n,r=void 0,i=I.NORMAL){const l=gt(s);if(n===oe&&(l===Sa||l===ka))for(let c=0;c<Rn.length;c++){const a=Rn[c];e.push({color:t,from:o,to:s,piece:n,captured:r,promotion:a,flags:i|I.PROMOTION})}else e.push({color:t,from:o,to:s,piece:n,captured:r,flags:i})}function Nn(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:oe:(t=t.toLowerCase(),t==="o"?se:t)}function es(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Oa{constructor(t=Jo){le(this,"_board",new Array(128));le(this,"_turn",ce);le(this,"_header",{});le(this,"_kings",{w:Ce,b:Ce});le(this,"_epSquare",-1);le(this,"_halfMoves",0);le(this,"_moveNumber",0);le(this,"_history",[]);le(this,"_comments",{});le(this,"_castling",{w:0,b:0});this.load(t)}clear(t=!1){this._board=new Array(128),this._kings={w:Ce,b:Ce},this._turn=ce,this._castling={w:0,b:0},this._epSquare=Ce,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._updateSetup(this.fen())}removeHeader(t){t in this._header&&delete this._header[t]}load(t,o=!1){let s=t.split(/\s+/);if(s.length>=2&&s.length<6){const c=["-","-","0","1"];t=s.concat(c.slice(-(6-s.length))).join(" ")}s=t.split(/\s+/);const{ok:n,error:r}=Ta(t);if(!n)throw new Error(r);const i=s[0];let l=0;this.clear(o);for(let c=0;c<i.length;c++){const a=i.charAt(c);if(a==="/")l+=8;else if(Ur(a))l+=parseInt(a,10);else{const h=a<"a"?ce:Se;this.put({type:a.toLowerCase(),color:h},we(l)),l++}}this._turn=s[1],s[2].indexOf("K")>-1&&(this._castling.w|=I.KSIDE_CASTLE),s[2].indexOf("Q")>-1&&(this._castling.w|=I.QSIDE_CASTLE),s[2].indexOf("k")>-1&&(this._castling.b|=I.KSIDE_CASTLE),s[2].indexOf("q")>-1&&(this._castling.b|=I.QSIDE_CASTLE),this._epSquare=s[3]==="-"?Ce:N[s[3]],this._halfMoves=parseInt(s[4],10),this._moveNumber=parseInt(s[5],10),this._updateSetup(this.fen())}fen(){var r,i;let t=0,o="";for(let l=N.a8;l<=N.h1;l++){if(this._board[l]){t>0&&(o+=t,t=0);const{color:c,type:a}=this._board[l];o+=c===ce?a.toUpperCase():a.toLowerCase()}else t++;l+1&136&&(t>0&&(o+=t),l!==N.h1&&(o+="/"),t=0,l+=8)}let s="";this._castling[ce]&I.KSIDE_CASTLE&&(s+="K"),this._castling[ce]&I.QSIDE_CASTLE&&(s+="Q"),this._castling[Se]&I.KSIDE_CASTLE&&(s+="k"),this._castling[Se]&I.QSIDE_CASTLE&&(s+="q"),s=s||"-";let n="-";if(this._epSquare!==Ce){const l=this._epSquare+(this._turn===ce?16:-16),c=[l+1,l-1];for(const a of c){if(a&136)continue;const h=this._turn;if(((r=this._board[a])==null?void 0:r.color)===h&&((i=this._board[a])==null?void 0:i.type)===oe){this._makeMove({color:h,from:a,to:this._epSquare,piece:oe,captured:oe,flags:I.EP_CAPTURE});const d=!this._isKingAttacked(h);if(this._undoMove(),d){n=we(this._epSquare);break}}}}return[o,this._turn,s,n,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==Jo?(this._header.SetUp="1",this._header.FEN=t):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(Jo)}get(t){return this._board[N[t]]||!1}put({type:t,color:o},s){if(wa.indexOf(t.toLowerCase())===-1||!(s in N))return!1;const n=N[s];return t==se&&!(this._kings[o]==Ce||this._kings[o]==n)?!1:(this._board[n]={type:t,color:o},t===se&&(this._kings[o]=n),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}remove(t){const o=this.get(t);return delete this._board[N[t]],o&&o.type===se&&(this._kings[o.color]=Ce),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),o}_updateCastlingRights(){var s,n,r,i,l,c,a,h,d,p,y,m;const t=((s=this._board[N.e1])==null?void 0:s.type)===se&&((n=this._board[N.e1])==null?void 0:n.color)===ce,o=((r=this._board[N.e8])==null?void 0:r.type)===se&&((i=this._board[N.e8])==null?void 0:i.color)===Se;(!t||((l=this._board[N.a1])==null?void 0:l.type)!==Kt||((c=this._board[N.a1])==null?void 0:c.color)!==ce)&&(this._castling.w&=~I.QSIDE_CASTLE),(!t||((a=this._board[N.h1])==null?void 0:a.type)!==Kt||((h=this._board[N.h1])==null?void 0:h.color)!==ce)&&(this._castling.w&=~I.KSIDE_CASTLE),(!o||((d=this._board[N.a8])==null?void 0:d.type)!==Kt||((p=this._board[N.a8])==null?void 0:p.color)!==Se)&&(this._castling.b&=~I.QSIDE_CASTLE),(!o||((y=this._board[N.h8])==null?void 0:y.type)!==Kt||((m=this._board[N.h8])==null?void 0:m.color)!==Se)&&(this._castling.b&=~I.KSIDE_CASTLE)}_updateEnPassantSquare(){var r,i;if(this._epSquare===Ce)return;const t=this._epSquare+(this._turn===ce?-16:16),o=this._epSquare+(this._turn===ce?16:-16),s=[o+1,o-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((r=this._board[o])==null?void 0:r.color)!==Nt(this._turn)||((i=this._board[o])==null?void 0:i.type)!==oe){this._epSquare=Ce;return}const n=l=>{var c,a;return!(l&136)&&((c=this._board[l])==null?void 0:c.color)===this._turn&&((a=this._board[l])==null?void 0:a.type)===oe};s.some(n)||(this._epSquare=Ce)}_attacked(t,o){for(let s=N.a8;s<=N.h1;s++){if(s&136){s+=7;continue}if(this._board[s]===void 0||this._board[s].color!==t)continue;const n=this._board[s],r=s-o;if(r===0)continue;const i=r+119;if(va[i]&Ca[n.type]){if(n.type===oe){if(r>0){if(n.color===ce)return!0}else if(n.color===Se)return!0;continue}if(n.type==="n"||n.type==="k")return!0;const l=ya[i];let c=s+l,a=!1;for(;c!==o;){if(this._board[c]!=null){a=!0;break}c+=l}if(!a)return!0}}return!1}_isKingAttacked(t){const o=this._kings[t];return o===-1?!1:this._attacked(Nt(t),o)}isAttacked(t,o){return this._attacked(o,N[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},o=[];let s=0,n=0;for(let r=N.a8;r<=N.h1;r++){if(n=(n+1)%2,r&136){r+=7;continue}const i=this._board[r];i&&(t[i.type]=i.type in t?t[i.type]+1:1,i.type===vo&&o.push(n),s++)}if(s===2||s===3&&(t[vo]===1||t[ms]===1))return!0;if(s===t[vo]+2){let r=0;const i=o.length;for(let l=0;l<i;l++)r+=o[l];if(r===0||r===i)return!0}return!1}isThreefoldRepetition(){const t=[],o={};let s=!1;for(;;){const n=this._undoMove();if(!n)break;t.push(n)}for(;;){const n=this.fen().split(" ").slice(0,4).join(" ");o[n]=n in o?o[n]+1:1,o[n]>=3&&(s=!0);const r=t.pop();if(r)this._makeMove(r);else break}return s}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:o=void 0,piece:s=void 0}={}){const n=this._moves({square:o,piece:s});return t?n.map(r=>this._makePretty(r)):n.map(r=>this._moveToSan(r,n))}_moves({legal:t=!0,piece:o=void 0,square:s=void 0}={}){var y;const n=s?s.toLowerCase():void 0,r=o==null?void 0:o.toLowerCase(),i=[],l=this._turn,c=Nt(l);let a=N.a8,h=N.h1,d=!1;if(n)if(n in N)a=h=N[n],d=!0;else return[];for(let m=a;m<=h;m++){if(m&136){m+=7;continue}if(!this._board[m]||this._board[m].color===c)continue;const{type:C}=this._board[m];let k;if(C===oe){if(r&&r!==C)continue;k=m+Xo[l][0],this._board[k]||(ze(i,l,m,k,oe),k=m+Xo[l][1],Ma[l]===gt(m)&&!this._board[k]&&ze(i,l,m,k,oe,void 0,I.BIG_PAWN));for(let L=2;L<4;L++)k=m+Xo[l][L],!(k&136)&&(((y=this._board[k])==null?void 0:y.color)===c?ze(i,l,m,k,oe,this._board[k].type,I.CAPTURE):k===this._epSquare&&ze(i,l,m,k,oe,oe,I.EP_CAPTURE))}else{if(r&&r!==C)continue;for(let L=0,P=Ln[C].length;L<P;L++){const O=Ln[C][L];for(k=m;k+=O,!(k&136);){if(!this._board[k])ze(i,l,m,k,C);else{if(this._board[k].color===l)break;ze(i,l,m,k,C,this._board[k].type,I.CAPTURE);break}if(C===ms||C===se)break}}}}if((r===void 0||r===se)&&(!d||h===this._kings[l])){if(this._castling[l]&I.KSIDE_CASTLE){const m=this._kings[l],C=m+2;!this._board[m+1]&&!this._board[C]&&!this._attacked(c,this._kings[l])&&!this._attacked(c,m+1)&&!this._attacked(c,C)&&ze(i,l,this._kings[l],C,se,void 0,I.KSIDE_CASTLE)}if(this._castling[l]&I.QSIDE_CASTLE){const m=this._kings[l],C=m-2;!this._board[m-1]&&!this._board[m-2]&&!this._board[m-3]&&!this._attacked(c,this._kings[l])&&!this._attacked(c,m-1)&&!this._attacked(c,C)&&ze(i,l,this._kings[l],C,se,void 0,I.QSIDE_CASTLE)}}if(!t||this._kings[l]===-1)return i;const p=[];for(let m=0,C=i.length;m<C;m++)this._makeMove(i[m]),this._isKingAttacked(l)||p.push(i[m]),this._undoMove();return p}move(t,{strict:o=!1}={}){let s=null;if(typeof t=="string")s=this._moveFromSan(t,o);else if(typeof t=="object"){const r=this._moves();for(let i=0,l=r.length;i<l;i++)if(t.from===we(r[i].from)&&t.to===we(r[i].to)&&(!("promotion"in r[i])||t.promotion===r[i].promotion)){s=r[i];break}}if(!s)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const n=this._makePretty(s);return this._makeMove(s),n}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const o=this._turn,s=Nt(o);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&I.EP_CAPTURE&&(this._turn===Se?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:o}),this._board[t.to].type===se){if(this._kings[o]=t.to,t.flags&I.KSIDE_CASTLE){const n=t.to-1,r=t.to+1;this._board[n]=this._board[r],delete this._board[r]}else if(t.flags&I.QSIDE_CASTLE){const n=t.to+1,r=t.to-2;this._board[n]=this._board[r],delete this._board[r]}this._castling[o]=0}if(this._castling[o]){for(let n=0,r=Qe[o].length;n<r;n++)if(t.from===Qe[o][n].square&&this._castling[o]&Qe[o][n].flag){this._castling[o]^=Qe[o][n].flag;break}}if(this._castling[s]){for(let n=0,r=Qe[s].length;n<r;n++)if(t.to===Qe[s][n].square&&this._castling[s]&Qe[s][n].flag){this._castling[s]^=Qe[s][n].flag;break}}t.flags&I.BIG_PAWN?o===Se?this._epSquare=t.to-16:this._epSquare=t.to+16:this._epSquare=Ce,t.piece===oe?this._halfMoves=0:t.flags&(I.CAPTURE|I.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,o===Se&&this._moveNumber++,this._turn=s}undo(){const t=this._undoMove();return t?this._makePretty(t):null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;const o=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const s=this._turn,n=Nt(s);if(this._board[o.from]=this._board[o.to],this._board[o.from].type=o.piece,delete this._board[o.to],o.captured)if(o.flags&I.EP_CAPTURE){let r;s===Se?r=o.to-16:r=o.to+16,this._board[r]={type:oe,color:n}}else this._board[o.to]={type:o.captured,color:n};if(o.flags&(I.KSIDE_CASTLE|I.QSIDE_CASTLE)){let r,i;o.flags&I.KSIDE_CASTLE?(r=o.to+1,i=o.to-1):(r=o.to-2,i=o.to+1),this._board[r]=this._board[i],delete this._board[i]}return o}pgn({newline:t=`
`,maxWidth:o=0}={}){const s=[];let n=!1;for(const p in this._header)s.push("["+p+' "'+this._header[p]+'"]'+t),n=!0;n&&this._history.length&&s.push(t);const r=p=>{const y=this._comments[this.fen()];if(typeof y<"u"){const m=p.length>0?" ":"";p=`${p}${m}{${y}}`}return p},i=[];for(;this._history.length>0;)i.push(this._undoMove());const l=[];let c="";for(i.length===0&&l.push(r(""));i.length>0;){c=r(c);const p=i.pop();if(!p)break;if(!this._history.length&&p.color==="b"){const y=`${this._moveNumber}. ...`;c=c?`${c} ${y}`:y}else p.color==="w"&&(c.length&&l.push(c),c=this._moveNumber+".");c=c+" "+this._moveToSan(p,this._moves({legal:!0})),this._makeMove(p)}if(c.length&&l.push(r(c)),typeof this._header.Result<"u"&&l.push(this._header.Result),o===0)return s.join("")+l.join(" ");const a=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},h=function(p,y){for(const m of y.split(" "))if(m){if(p+m.length>o){for(;a();)p--;s.push(t),p=0}s.push(m),p+=m.length,s.push(" "),p++}return a()&&p--,p};let d=0;for(let p=0;p<l.length;p++){if(d+l[p].length>o&&l[p].includes("{")){d=h(d,l[p]);continue}d+l[p].length>o&&p!==0?(s[s.length-1]===" "&&s.pop(),s.push(t),d=0):p!==0&&(s.push(" "),d++),s.push(l[p]),d+=l[p].length}return s.join("")}header(...t){for(let o=0;o<t.length;o+=2)typeof t[o]=="string"&&typeof t[o+1]=="string"&&(this._header[t[o]]=t[o+1]);return this._header}loadPgn(t,{strict:o=!1,newlineChar:s=`\r?
`}={}){function n(P){return P.replace(/\\/g,"\\")}function r(P){const O={},j=P.split(new RegExp(n(s)));let U="",$="";for(let J=0;J<j.length;J++){const K=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;U=j[J].replace(K,"$1"),$=j[J].replace(K,"$2"),U.trim().length>0&&(O[U]=$)}return O}t=t.trim();const i=new RegExp("^(\\[((?:"+n(s)+")|.)*\\])((?:\\s*"+n(s)+"){2}|(?:\\s*"+n(s)+")*$)").exec(t),l=i&&i.length>=2?i[1]:"";this.reset();const c=r(l);let a="";for(const P in c)P.toLowerCase()==="fen"&&(a=c[P]),this.header(P,c[P]);if(!o)a&&this.load(a,!0);else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,!0)}function h(P){return Array.from(P).map(function(O){return O.charCodeAt(0)<128?O.charCodeAt(0).toString(16):encodeURIComponent(O).replace(/%/g,"").toLowerCase()}).join("")}function d(P){return P.length==0?"":decodeURIComponent("%"+(P.match(/.{1,2}/g)||[]).join("%"))}const p=function(P){return P=P.replace(new RegExp(n(s),"g")," "),`{${h(P.slice(1,P.length-1))}}`},y=function(P){if(P.startsWith("{")&&P.endsWith("}"))return d(P.slice(1,P.length-1))};let m=t.replace(l,"").replace(new RegExp(`({[^}]*})+?|;([^${n(s)}]*)`,"g"),function(P,O,j){return O!==void 0?p(O):" "+p(`{${j.slice(1)}}`)}).replace(new RegExp(n(s),"g")," ");const C=/(\([^()]+\))+?/g;for(;C.test(m);)m=m.replace(C,"");m=m.replace(/\d+\.(\.\.)?/g,""),m=m.replace(/\.\.\./g,""),m=m.replace(/\$\d+/g,"");let k=m.trim().split(new RegExp(/\s+/));k=k.filter(P=>P!=="");let L="";for(let P=0;P<k.length;P++){const O=y(k[P]);if(O!==void 0){this._comments[this.fen()]=O;continue}const j=this._moveFromSan(k[P],o);if(j==null)if(Pa.indexOf(k[P])>-1)L=k[P];else throw new Error(`Invalid move in PGN: ${k[P]}`);else L="",this._makeMove(j)}L&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",L)}_moveToSan(t,o){let s="";if(t.flags&I.KSIDE_CASTLE)s="O-O";else if(t.flags&I.QSIDE_CASTLE)s="O-O-O";else{if(t.piece!==oe){const n=Aa(t,o);s+=t.piece.toUpperCase()+n}t.flags&(I.CAPTURE|I.EP_CAPTURE)&&(t.piece===oe&&(s+=we(t.from)[0]),s+="x"),s+=we(t.to),t.promotion&&(s+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(t,o=!1){const s=es(t);let n=Nn(s),r=this._moves({legal:!0,piece:n});for(let p=0,y=r.length;p<y;p++)if(s===es(this._moveToSan(r[p],r)))return r[p];if(o)return null;let i,l,c,a,h,d=!1;if(l=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(i=l[1],c=l[2],a=l[3],h=l[4],c.length==1&&(d=!0)):(l=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(i=l[1],c=l[2],a=l[3],h=l[4],c.length==1&&(d=!0))),n=Nn(s),r=this._moves({legal:!0,piece:i||n}),!a)return null;for(let p=0,y=r.length;p<y;p++)if(c){if((!i||i.toLowerCase()==r[p].piece)&&N[c]==r[p].from&&N[a]==r[p].to&&(!h||h.toLowerCase()==r[p].promotion))return r[p];if(d){const m=we(r[p].from);if((!i||i.toLowerCase()==r[p].piece)&&N[a]==r[p].to&&(c==m[0]||c==m[1])&&(!h||h.toLowerCase()==r[p].promotion))return r[p]}}else if(s===es(this._moveToSan(r[p],r)).replace("x",""))return r[p];return null}ascii(){let t=`   +------------------------+
`;for(let o=N.a8;o<=N.h1;o++){if(Qt(o)===0&&(t+=" "+"87654321"[gt(o)]+" |"),this._board[o]){const s=this._board[o].type,n=this._board[o].color===ce?s.toUpperCase():s.toLowerCase();t+=" "+n+" "}else t+=" . ";o+1&136&&(t+=`|
`,o+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const o=this._moves({legal:!1});let s=0;const n=this._turn;for(let r=0,i=o.length;r<i;r++)this._makeMove(o[r]),this._isKingAttacked(n)||(t-1>0?s+=this.perft(t-1):s++),this._undoMove();return s}_makePretty(t){const{color:o,piece:s,from:n,to:r,flags:i,captured:l,promotion:c}=t;let a="";for(const y in I)I[y]&i&&(a+=ba[y]);const h=we(n),d=we(r),p={color:o,piece:s,from:h,to:d,san:this._moveToSan(t,this._moves({legal:!0})),flags:a,lan:h+d,before:this.fen(),after:""};return this._makeMove(t),p.after=this.fen(),this._undoMove(),l&&(p.captured=l),c&&(p.promotion=c,p.lan+=c),p}turn(){return this._turn}board(){const t=[];let o=[];for(let s=N.a8;s<=N.h1;s++)this._board[s]==null?o.push(null):o.push({square:we(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(t.push(o),o=[],s+=8);return t}squareColor(t){if(t in N){const o=N[t];return(gt(o)+Qt(o))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const o=[],s=[];for(;this._history.length>0;)o.push(this._undoMove());for(;;){const n=o.pop();if(!n)break;t?s.push(this._makePretty(n)):s.push(this._moveToSan(n,this._moves())),this._makeMove(n)}return s}_pruneComments(){const t=[],o={},s=n=>{n in this._comments&&(o[n]=this._comments[n])};for(;this._history.length>0;)t.push(this._undoMove());for(s(this.fen());;){const n=t.pop();if(!n)break;this._makeMove(n),s(this.fen())}this._comments=o}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const o=this._comments[t];return delete this._comments[t],{fen:t,comment:o}})}setCastlingRights(t,o){for(const n of[se,et])o[n]!==void 0&&(o[n]?this._castling[t]|=ao[n]:this._castling[t]&=~ao[n]);this._updateCastlingRights();const s=this.getCastlingRights(t);return(o[se]===void 0||o[se]===s[se])&&(o[et]===void 0||o[et]===s[et])}getCastlingRights(t){return{[se]:(this._castling[t]&ao[se])!==0,[et]:(this._castling[t]&ao[et])!==0}}moveNumber(){return this._moveNumber}}function Ia(e){const t=[];for(const o of e)t.push({orig:o.to,brush:"yellow"}),o.captured&&t.push({orig:o.from,dest:o.to,brush:"red"}),o.san.includes("+")&&t.push({orig:o.from,dest:o.to,brush:"blue"});return t}function uo(e){return e==="w"?"white":"black"}function Fn(e){const t=new Map;for(const o of _a){const s=e.moves({square:o,verbose:!0});s.length&&t.set(s[0].from,s.map(n=>n.to))}return t}function La(e,t){if((t==null?void 0:t.type)!=="p")return!1;const o=(t==null?void 0:t.color)==="w"?"8":"1";return e[1]===o}function zt(e){return!!e&&e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)}function ko(e){return zt(e)?Object.fromEntries(Object.entries(e).map(([t,o])=>[t,ko(o)])):e}function Wr(e,t){const o={...e,...t};for(const s in o)o[s]=zt(e==null?void 0:e[s])&&zt(t==null?void 0:t[s])?Wr(e[s],t[s]):ko(o[s]);return o}function Gr(e,t){const o={};for(const s in t)if(zt(e==null?void 0:e[s])&&zt(t==null?void 0:t[s])){const n=Gr(e[s],t[s]);Object.keys(n).length>0&&(o[s]=n)}else(e==null?void 0:e[s])!==t[s]&&(o[s]=t[s]);return o}const Ra={p:"pawn",n:"knight",b:"bishop",r:"rook",q:"queen",k:"king"},Na=new Map([["b1",["a3","c3"]],["g1",["f3","h3"]],["a2",["a3","a4"]],["b2",["b3","b4"]],["c2",["c3","c4"]],["d2",["d3","d4"]],["e2",["e3","e4"]],["f2",["f3","f4"]],["g2",["g3","g4"]],["h2",["h3","h4"]]]),Fa="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Da={fen:Fa,orientation:"white",turnColor:"white",coordinates:!1,autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:300},lastMove:void 0,movable:{free:!1,color:"white",showDests:!0,dests:Na,events:{after:()=>{},afterNewPiece:void 0},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{set:void 0,unset:void 0}},predroppable:{enabled:!1,events:{set:void 0,unset:void 0}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},selectable:{enabled:!0},events:{change:void 0,move:void 0,dropNewPiece:void 0,select:void 0,insert:void 0},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}}}},$a=["white","black"],Ks=["a","b","c","d","e","f","g","h"],Hs=["1","2","3","4","5","6","7","8"],Ka=[...Hs].reverse(),qs=Array.prototype.concat(...Ks.map(e=>Hs.map(t=>e+t))),Ee=e=>qs[8*e[0]+e[1]],Z=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],Qr=qs.map(Z);function Ha(e){let t;const o=()=>(t===void 0&&(t=e()),t);return o.clear=()=>{t=void 0},o}const qa=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},js=e=>e==="white"?"black":"white",Zt=(e,t)=>{const o=e[0]-t[0],s=e[1]-t[1];return o*o+s*s},bs=(e,t)=>e.role===t.role&&e.color===t.color,Xt=e=>(t,o)=>[(o?t[0]:7-t[0])*e.width/8,(o?7-t[1]:t[1])*e.height/8],Ne=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},zr=(e,t,o=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${o})`},Vs=(e,t)=>{e.style.visibility=t?"visible":"hidden"},yt=e=>{var t;if(e.clientX||e.clientX===0)return[e.clientX,e.clientY];if(!((t=e.targetTouches)===null||t===void 0)&&t[0])return[e.targetTouches[0].clientX,e.targetTouches[0].clientY]},Zr=e=>e.buttons===2||e.button===2,Be=(e,t)=>{const o=document.createElement(e);return t&&(o.className=t),o};function Yr(e,t,o){const s=Z(e);return t||(s[0]=7-s[0],s[1]=7-s[1]),[o.left+o.width*s[0]/8+o.width/16,o.top+o.height*(7-s[1])/8+o.height/16]}const bt=(e,t)=>Math.abs(e-t),ja=e=>(t,o,s,n)=>bt(t,s)<2&&(e==="white"?n===o+1||o<=1&&n===o+2&&t===s:n===o-1||o>=6&&n===o-2&&t===s),Jr=(e,t,o,s)=>{const n=bt(e,o),r=bt(t,s);return n===1&&r===2||n===2&&r===1},Xr=(e,t,o,s)=>bt(e,o)===bt(t,s),ei=(e,t,o,s)=>e===o||t===s,ti=(e,t,o,s)=>Xr(e,t,o,s)||ei(e,t,o,s),Va=(e,t,o)=>(s,n,r,i)=>bt(s,r)<2&&bt(n,i)<2||o&&n===i&&n===(e==="white"?0:7)&&(s===4&&(r===2&&t.includes(0)||r===6&&t.includes(7))||t.includes(r));function Ba(e,t){const o=t==="white"?"1":"8",s=[];for(const[n,r]of e)n[1]===o&&r.color===t&&r.role==="rook"&&s.push(Z(n)[0]);return s}function oi(e,t,o){const s=e.get(t);if(!s)return[];const n=Z(t),r=s.role,i=r==="pawn"?ja(s.color):r==="knight"?Jr:r==="bishop"?Xr:r==="rook"?ei:r==="queen"?ti:Va(s.color,Ba(e,s.color),o);return Qr.filter(l=>(n[0]!==l[0]||n[1]!==l[1])&&i(n[0],n[1],l[0],l[1])).map(Ee)}function _e(e,...t){e&&setTimeout(()=>e(...t),1)}function Ua(e){e.orientation=js(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}function Wa(e,t){for(const[o,s]of t)s?e.pieces.set(o,s):e.pieces.delete(o)}function Ga(e,t){if(e.check=void 0,t===!0&&(t=e.turnColor),t)for(const[o,s]of e.pieces)s.role==="king"&&s.color===t&&(e.check=o)}function Qa(e,t,o,s){it(e),e.premovable.current=[t,o],_e(e.premovable.events.set,t,o,s)}function rt(e){e.premovable.current&&(e.premovable.current=void 0,_e(e.premovable.events.unset))}function za(e,t,o){rt(e),e.predroppable.current={role:t,key:o},_e(e.predroppable.events.set,t,o)}function it(e){const t=e.predroppable;t.current&&(t.current=void 0,_e(t.events.unset))}function Za(e,t,o){if(!e.autoCastle)return!1;const s=e.pieces.get(t);if(!s||s.role!=="king")return!1;const n=Z(t),r=Z(o);if(n[1]!==0&&n[1]!==7||n[1]!==r[1])return!1;n[0]===4&&!e.pieces.has(o)&&(r[0]===6?o=Ee([7,r[1]]):r[0]===2&&(o=Ee([0,r[1]])));const i=e.pieces.get(o);return!i||i.color!==s.color||i.role!=="rook"?!1:(e.pieces.delete(t),e.pieces.delete(o),n[0]<r[0]?(e.pieces.set(Ee([6,r[1]]),s),e.pieces.set(Ee([5,r[1]]),i)):(e.pieces.set(Ee([2,r[1]]),s),e.pieces.set(Ee([3,r[1]]),i)),!0)}function si(e,t,o){const s=e.pieces.get(t),n=e.pieces.get(o);if(t===o||!s)return!1;const r=n&&n.color!==s.color?n:void 0;return o===e.selected&&ke(e),_e(e.events.move,t,o,r),Za(e,t,o)||(e.pieces.set(o,s),e.pieces.delete(t)),e.lastMove=[t,o],e.check=void 0,_e(e.events.change),r||!0}function Bs(e,t,o,s){if(e.pieces.has(o))if(s)e.pieces.delete(o);else return!1;return _e(e.events.dropNewPiece,t,o),e.pieces.set(o,t),e.lastMove=[o],e.check=void 0,_e(e.events.change),e.movable.dests=void 0,e.turnColor=js(e.turnColor),!0}function ni(e,t,o){const s=si(e,t,o);return s&&(e.movable.dests=void 0,e.turnColor=js(e.turnColor),e.animation.current=void 0),s}function ri(e,t,o){if(Us(e,t,o)){const s=ni(e,t,o);if(s){const n=e.hold.stop();ke(e);const r={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:n};return s!==!0&&(r.captured=s),_e(e.movable.events.after,t,o,r),!0}}else if(Ja(e,t,o))return Qa(e,t,o,{ctrlKey:e.stats.ctrlKey}),ke(e),!0;return ke(e),!1}function ii(e,t,o,s){const n=e.pieces.get(t);n&&(Ya(e,t,o)||s)?(e.pieces.delete(t),Bs(e,n,o,s),_e(e.movable.events.afterNewPiece,n.role,o,{premove:!1,predrop:!1})):n&&Xa(e,t,o)?za(e,n.role,o):(rt(e),it(e)),e.pieces.delete(t),ke(e)}function _s(e,t,o){if(_e(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled){ke(e),e.hold.cancel();return}else if((e.selectable.enabled||o)&&e.selected!==t&&ri(e,e.selected,t)){e.stats.dragged=!1;return}}(e.selectable.enabled||e.draggable.enabled)&&(ci(e,t)||Ws(e,t))&&(li(e,t),e.hold.start())}function li(e,t){e.selected=t,Ws(e,t)?e.premovable.customDests||(e.premovable.dests=oi(e.pieces,t,e.premovable.castle)):e.premovable.dests=void 0}function ke(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function ci(e,t){const o=e.pieces.get(t);return!!o&&(e.movable.color==="both"||e.movable.color===o.color&&e.turnColor===o.color)}const Us=(e,t,o)=>{var s,n;return t!==o&&ci(e,t)&&(e.movable.free||!!(!((n=(s=e.movable.dests)===null||s===void 0?void 0:s.get(t))===null||n===void 0)&&n.includes(o)))};function Ya(e,t,o){const s=e.pieces.get(t);return!!s&&(t===o||!e.pieces.has(o))&&(e.movable.color==="both"||e.movable.color===s.color&&e.turnColor===s.color)}function Ws(e,t){const o=e.pieces.get(t);return!!o&&e.premovable.enabled&&e.movable.color===o.color&&e.turnColor!==o.color}function Ja(e,t,o){var s,n;const r=(n=(s=e.premovable.customDests)===null||s===void 0?void 0:s.get(t))!==null&&n!==void 0?n:oi(e.pieces,t,e.premovable.castle);return t!==o&&Ws(e,t)&&r.includes(o)}function Xa(e,t,o){const s=e.pieces.get(t),n=e.pieces.get(o);return!!s&&(!n||n.color!==e.movable.color)&&e.predroppable.enabled&&(s.role!=="pawn"||o[1]!=="1"&&o[1]!=="8")&&e.movable.color===s.color&&e.turnColor!==s.color}function eu(e,t){const o=e.pieces.get(t);return!!o&&e.draggable.enabled&&(e.movable.color==="both"||e.movable.color===o.color&&(e.turnColor===o.color||e.premovable.enabled))}function tu(e){const t=e.premovable.current;if(!t)return!1;const o=t[0],s=t[1];let n=!1;if(Us(e,o,s)){const r=ni(e,o,s);if(r){const i={premove:!0};r!==!0&&(i.captured=r),_e(e.movable.events.after,o,s,i),n=!0}}return rt(e),n}function ou(e,t){const o=e.predroppable.current;let s=!1;if(!o)return!1;if(t(o)){const n={role:o.role,color:e.movable.color};Bs(e,n,o.key)&&(_e(e.movable.events.afterNewPiece,o.role,o.key,{premove:!1,predrop:!0}),s=!0)}return it(e),s}function Gs(e){rt(e),it(e),ke(e)}function Dn(e){e.movable.color=e.movable.dests=e.animation.current=void 0,Gs(e)}function Ct(e,t,o){let s=Math.floor(8*(e[0]-o.left)/o.width);t||(s=7-s);let n=7-Math.floor(8*(e[1]-o.top)/o.height);return t||(n=7-n),s>=0&&s<8&&n>=0&&n<8?Ee([s,n]):void 0}function su(e,t,o,s){const n=Z(e),r=Qr.filter(c=>ti(n[0],n[1],c[0],c[1])||Jr(n[0],n[1],c[0],c[1])),i=r.map(c=>Yr(Ee(c),o,s)).map(c=>Zt(t,c)),[,l]=i.reduce((c,a,h)=>c[0]<a?c:[a,h],[i[0],0]);return Ee(r[l])}const ve=e=>e.orientation==="white",ai="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",nu={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},ru={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function ui(e){e==="start"&&(e=ai);const t=new Map;let o=7,s=0;for(const n of e)switch(n){case" ":case"[":return t;case"/":if(--o,o<0)return t;s=0;break;case"~":{const r=t.get(Ee([s-1,o]));r&&(r.promoted=!0);break}default:{const r=n.charCodeAt(0);if(r<57)s+=r-48;else{const i=n.toLowerCase();t.set(Ee([s,o]),{role:nu[i],color:n===i?"black":"white"}),++s}}}return t}function iu(e){return Ka.map(t=>Ks.map(o=>{const s=e.get(o+t);if(s){let n=ru[s.role];return s.color==="white"&&(n=n.toUpperCase()),s.promoted&&(n+="~"),n}else return"1"}).join("")).join("/").replace(/1{2,}/g,t=>t.length.toString())}function fi(e,t){t.animation&&(Qs(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function hi(e,t){var o,s,n;if(!((o=t.movable)===null||o===void 0)&&o.dests&&(e.movable.dests=void 0),!((s=t.drawable)===null||s===void 0)&&s.autoShapes&&(e.drawable.autoShapes=[]),Qs(e,t),t.fen&&(e.pieces=ui(t.fen),e.drawable.shapes=((n=t.drawable)===null||n===void 0?void 0:n.shapes)||[]),"check"in t&&Ga(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&li(e,e.selected),fi(e,t),!e.movable.rookCastle&&e.movable.dests){const r=e.movable.color==="white"?"1":"8",i="e"+r,l=e.movable.dests.get(i),c=e.pieces.get(i);if(!l||!c||c.role!=="king")return;e.movable.dests.set(i,l.filter(a=>!(a==="a"+r&&l.includes("c"+r))&&!(a==="h"+r&&l.includes("g"+r))))}}function Qs(e,t){for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(Object.prototype.hasOwnProperty.call(e,o)&&$n(e[o])&&$n(t[o])?Qs(e[o],t[o]):e[o]=t[o])}function $n(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}const ft=(e,t)=>t.animation.enabled?au(e,t):Ze(e,t);function Ze(e,t){const o=e(t);return t.dom.redraw(),o}const ts=(e,t)=>({key:e,pos:Z(e),piece:t}),lu=(e,t)=>t.sort((o,s)=>Zt(e.pos,o.pos)-Zt(e.pos,s.pos))[0];function cu(e,t){const o=new Map,s=[],n=new Map,r=[],i=[],l=new Map;let c,a,h;for(const[d,p]of e)l.set(d,ts(d,p));for(const d of qs)c=t.pieces.get(d),a=l.get(d),c?a?bs(c,a.piece)||(r.push(a),i.push(ts(d,c))):i.push(ts(d,c)):a&&r.push(a);for(const d of i)a=lu(d,r.filter(p=>bs(d.piece,p.piece))),a&&(h=[a.pos[0]-d.pos[0],a.pos[1]-d.pos[1]],o.set(d.key,h.concat(h)),s.push(a.key));for(const d of r)s.includes(d.key)||n.set(d.key,d.piece);return{anims:o,fadings:n}}function di(e,t){const o=e.animation.current;if(o===void 0){e.dom.destroyed||e.dom.redrawNow();return}const s=1-(t-o.start)*o.frequency;if(s<=0)e.animation.current=void 0,e.dom.redrawNow();else{const n=uu(s);for(const r of o.plan.anims.values())r[2]=r[0]*n,r[3]=r[1]*n;e.dom.redrawNow(!0),requestAnimationFrame((r=performance.now())=>di(e,r))}}function au(e,t){const o=new Map(t.pieces),s=e(t),n=cu(o,t);if(n.anims.size||n.fadings.size){const r=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:n},r||di(t,performance.now())}else t.dom.redraw();return s}const uu=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,fu=["green","red","blue","yellow"];function hu(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?ke(e):Gs(e);const o=yt(t),s=Ct(o,ve(e),e.dom.bounds());s&&(e.drawable.current={orig:s,pos:o,brush:mu(t),snapToValidMove:e.drawable.defaultSnapToValidMove},pi(e))}function pi(e){requestAnimationFrame(()=>{const t=e.drawable.current;if(t){const o=Ct(t.pos,ve(e),e.dom.bounds());o||(t.snapToValidMove=!1);const s=t.snapToValidMove?su(t.orig,t.pos,ve(e),e.dom.bounds()):o;s!==t.mouseSq&&(t.mouseSq=s,t.dest=s!==t.orig?s:void 0,e.dom.redrawNow()),pi(e)}})}function du(e,t){e.drawable.current&&(e.drawable.current.pos=yt(t))}function pu(e){const t=e.drawable.current;t&&(t.mouseSq&&bu(e.drawable,t),gi(e))}function gi(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function gu(e){e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),mi(e.drawable))}function mu(e){var t;const o=(e.shiftKey||e.ctrlKey)&&Zr(e),s=e.altKey||e.metaKey||((t=e.getModifierState)===null||t===void 0?void 0:t.call(e,"AltGraph"));return fu[(o?1:0)+(s?2:0)]}function bu(e,t){const o=n=>n.orig===t.orig&&n.dest===t.dest,s=e.shapes.find(o);s&&(e.shapes=e.shapes.filter(n=>!o(n))),(!s||s.brush!==t.brush)&&e.shapes.push({orig:t.orig,dest:t.dest,brush:t.brush}),mi(e)}function mi(e){e.onChange&&e.onChange(e.shapes)}function _u(e,t){if(!(e.trustAllEvents||t.isTrusted)||t.button!==void 0&&t.button!==0||t.touches&&t.touches.length>1)return;const o=e.dom.bounds(),s=yt(t),n=Ct(s,ve(e),o);if(!n)return;const r=e.pieces.get(n),i=e.selected;if(!i&&e.drawable.enabled&&(e.drawable.eraseOnClick||!r||r.color!==e.turnColor)&&gu(e),t.cancelable!==!1&&(!t.touches||e.blockTouchScroll||r||i||vu(e,s)))t.preventDefault();else if(t.touches)return;const l=!!e.premovable.current,c=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&Us(e,e.selected,n)?ft(d=>_s(d,n),e):_s(e,n);const a=e.selected===n,h=_i(e,n);if(r&&h&&a&&eu(e,n)){e.draggable.current={orig:n,piece:r,origPos:s,pos:s,started:e.draggable.autoDistance&&e.stats.dragged,element:h,previouslySelected:i,originTarget:t.target,keyHasChanged:!1},h.cgDragging=!0,h.classList.add("dragging");const d=e.dom.elements.ghost;d&&(d.className=`ghost ${r.color} ${r.role}`,Ne(d,Xt(o)(Z(n),ve(e))),Vs(d,!0)),zs(e)}else l&&rt(e),c&&it(e);e.dom.redraw()}function vu(e,t){const o=ve(e),s=e.dom.bounds(),n=Math.pow(s.width/8,2);for(const r of e.pieces.keys()){const i=Yr(r,o,s);if(Zt(i,t)<=n)return!0}return!1}function yu(e,t,o,s){const n="a0";e.pieces.set(n,t),e.dom.redraw();const r=yt(o);e.draggable.current={orig:n,piece:t,origPos:r,pos:r,started:!0,element:()=>_i(e,n),originTarget:o.target,newPiece:!0,force:!!s,keyHasChanged:!1},zs(e)}function zs(e){requestAnimationFrame(()=>{var t;const o=e.draggable.current;if(!o)return;!((t=e.animation.current)===null||t===void 0)&&t.plan.anims.has(o.orig)&&(e.animation.current=void 0);const s=e.pieces.get(o.orig);if(!s||!bs(s,o.piece))Mo(e);else if(!o.started&&Zt(o.pos,o.origPos)>=Math.pow(e.draggable.distance,2)&&(o.started=!0),o.started){if(typeof o.element=="function"){const r=o.element();if(!r)return;r.cgDragging=!0,r.classList.add("dragging"),o.element=r}const n=e.dom.bounds();Ne(o.element,[o.pos[0]-n.left-n.width/16,o.pos[1]-n.top-n.height/16]),o.keyHasChanged||(o.keyHasChanged=o.orig!==Ct(o.pos,ve(e),n))}zs(e)})}function Cu(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=yt(t))}function wu(e,t){const o=e.draggable.current;if(!o)return;if(t.type==="touchend"&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchend"&&o.originTarget!==t.target&&!o.newPiece){e.draggable.current=void 0;return}rt(e),it(e);const s=yt(t)||o.pos,n=Ct(s,ve(e),e.dom.bounds());n&&o.started&&o.orig!==n?o.newPiece?ii(e,o.orig,n,o.force):(e.stats.ctrlKey=t.ctrlKey,ri(e,o.orig,n)&&(e.stats.dragged=!0)):o.newPiece?e.pieces.delete(o.orig):e.draggable.deleteOnDropOff&&!n&&(e.pieces.delete(o.orig),_e(e.events.change)),(o.orig===o.previouslySelected||o.keyHasChanged)&&(o.orig===n||!n)?ke(e):e.selectable.enabled||ke(e),bi(e),e.draggable.current=void 0,e.dom.redraw()}function Mo(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,ke(e),bi(e),e.dom.redraw())}function bi(e){const t=e.dom.elements;t.ghost&&Vs(t.ghost,!1)}function _i(e,t){let o=e.dom.elements.board.firstChild;for(;o;){if(o.cgKey===t&&o.tagName==="PIECE")return o;o=o.nextSibling}}function Su(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout(()=>{Kn(e,2),setTimeout(()=>Kn(e,void 0),120)},120)}function Kn(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function Eu(e,t){function o(){Ua(e),t()}return{set(s){s.orientation&&s.orientation!==e.orientation&&o(),fi(e,s),(s.fen?ft:Ze)(n=>hi(n,s),e)},state:e,getFen:()=>iu(e.pieces),toggleOrientation:o,setPieces(s){ft(n=>Wa(n,s),e)},selectSquare(s,n){s?ft(r=>_s(r,s,n),e):e.selected&&(ke(e),e.dom.redraw())},move(s,n){ft(r=>si(r,s,n),e)},newPiece(s,n){ft(r=>Bs(r,s,n),e)},playPremove(){if(e.premovable.current){if(ft(tu,e))return!0;e.dom.redraw()}return!1},playPredrop(s){if(e.predroppable.current){const n=ou(e,s);return e.dom.redraw(),n}return!1},cancelPremove(){Ze(rt,e)},cancelPredrop(){Ze(it,e)},cancelMove(){Ze(s=>{Gs(s),Mo(s)},e)},stop(){Ze(s=>{Dn(s),Mo(s)},e)},explode(s){Su(e,s)},setAutoShapes(s){Ze(n=>n.drawable.autoShapes=s,e)},setShapes(s){Ze(n=>n.drawable.shapes=s,e)},getKeyAtDomPos(s){return Ct(s,ve(e),e.dom.bounds())},redrawAll:t,dragNewPiece(s,n,r){yu(e,s,n,r)},destroy(){Dn(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}function xu(){return{pieces:ui(ai),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,trustAllEvents:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15},purple:{key:"purp",color:"#68217a",opacity:.65,lineWidth:10},pink:{key:"pink",color:"#ee2080",opacity:.5,lineWidth:10},hilite:{key:"hilite",color:"#fff",opacity:1,lineWidth:1}},prevSvgHash:""},hold:qa()}}function ku(){const e=X("defs"),t=pe(X("filter"),{id:"cg-filter-blur"});return t.appendChild(pe(X("feGaussianBlur"),{stdDeviation:"0.022"})),e.appendChild(t),e}function Mu(e,t,o){var s;const n=e.drawable,r=n.current,i=r&&r.mouseSq?r:void 0,l=new Map,c=e.dom.bounds(),a=n.autoShapes.filter(y=>!y.piece);for(const y of n.shapes.concat(a).concat(i?[i]:[])){if(!y.dest)continue;const m=(s=l.get(y.dest))!==null&&s!==void 0?s:new Set,C=To(Po(Z(y.orig),e.orientation),c),k=To(Po(Z(y.dest),e.orientation),c);m.add(ys(C,k)),l.set(y.dest,m)}const h=n.shapes.concat(a).map(y=>({shape:y,current:!1,hash:Hn(y,vs(y.dest,l),!1,c)}));i&&h.push({shape:i,current:!0,hash:Hn(i,vs(i.dest,l),!0,c)});const d=h.map(y=>y.hash).join(";");if(d===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=d;const p=t.querySelector("defs");Pu(n,h,p),Tu(h,t.querySelector("g"),o.querySelector("g"),y=>Iu(e,y,n.brushes,l,c))}function Pu(e,t,o){var s;const n=new Map;let r;for(const c of t.filter(a=>a.shape.dest&&a.shape.brush))r=vi(e.brushes[c.shape.brush],c.shape.modifiers),!((s=c.shape.modifiers)===null||s===void 0)&&s.hilite&&n.set("hilite",e.brushes.hilite),n.set(r.key,r);const i=new Set;let l=o.firstElementChild;for(;l;)i.add(l.getAttribute("cgKey")),l=l.nextElementSibling;for(const[c,a]of n.entries())i.has(c)||o.appendChild(Nu(a))}function Tu(e,t,o,s){const n=new Map;for(const r of e)n.set(r.hash,!1);for(const r of[t,o]){const i=[];let l=r.firstElementChild,c;for(;l;)c=l.getAttribute("cgHash"),n.has(c)?n.set(c,!0):i.push(l),l=l.nextElementSibling;for(const a of i)r.removeChild(a)}for(const r of e.filter(i=>!n.get(i.hash)))for(const i of s(r))i.isCustom?o.appendChild(i.el):t.appendChild(i.el)}function Hn({orig:e,dest:t,brush:o,piece:s,modifiers:n,customSvg:r,label:i},l,c,a){var h,d;return[a.width,a.height,c,e,t,o,l&&"-",s&&Au(s),n&&Ou(n),r&&`custom-${qn(r.html)},${(d=(h=r.center)===null||h===void 0?void 0:h[0])!==null&&d!==void 0?d:"o"}`,i&&`label-${qn(i.text)}`].filter(p=>p).join(",")}function Au(e){return[e.color,e.role,e.scale].filter(t=>t).join(",")}function Ou(e){return[e.lineWidth,e.hilite&&"*"].filter(t=>t).join(",")}function qn(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o)>>>0;return t.toString()}function Iu(e,{shape:t,current:o,hash:s},n,r,i){var l,c;const a=To(Po(Z(t.orig),e.orientation),i),h=t.dest?To(Po(Z(t.dest),e.orientation),i):a,d=t.brush&&vi(n[t.brush],t.modifiers),p=r.get(t.dest),y=[];if(d){const m=pe(X("g"),{cgHash:s});y.push({el:m}),a[0]!==h[0]||a[1]!==h[1]?m.appendChild(Ru(t,d,a,h,o,vs(t.dest,r))):m.appendChild(Lu(n[t.brush],a,o,i))}if(t.label){const m=t.label;(l=m.fill)!==null&&l!==void 0||(m.fill=t.brush&&n[t.brush].color);const C=t.brush?void 0:"tr";y.push({el:Fu(m,s,a,h,p,C),isCustom:!0})}if(t.customSvg){const m=(c=t.customSvg.center)!==null&&c!==void 0?c:"orig",[C,k]=m==="label"?Ci(a,h,p).map(P=>P-.5):m==="dest"?h:a,L=pe(X("g"),{transform:`translate(${C},${k})`,cgHash:s});L.innerHTML=`<svg width="1" height="1" viewBox="0 0 100 100">${t.customSvg.html}</svg>`,y.push({el:L,isCustom:!0})}return y}function Lu(e,t,o,s){const n=Du(),r=(s.width+s.height)/(4*Math.max(s.width,s.height));return pe(X("circle"),{stroke:e.color,"stroke-width":n[o?0:1],fill:"none",opacity:yi(e,o),cx:t[0],cy:t[1],r:r-n[1]/2})}function Ru(e,t,o,s,n,r){var i;function l(h){var d;const p=Ku(r&&!n),y=s[0]-o[0],m=s[1]-o[1],C=Math.atan2(m,y),k=Math.cos(C)*p,L=Math.sin(C)*p;return pe(X("line"),{stroke:h?"white":t.color,"stroke-width":$u(t,n)+(h?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${h?"hilite":t.key})`,opacity:!((d=e.modifiers)===null||d===void 0)&&d.hilite?1:yi(t,n),x1:o[0],y1:o[1],x2:s[0]-k,y2:s[1]-L})}if(!(!((i=e.modifiers)===null||i===void 0)&&i.hilite))return l(!1);const c=X("g"),a=pe(X("g"),{filter:"url(#cg-filter-blur)"});return a.appendChild(Hu(o,s)),a.appendChild(l(!0)),c.appendChild(a),c.appendChild(l(!1)),c}function Nu(e){const t=pe(X("marker"),{id:"arrowhead-"+e.key,orient:"auto",overflow:"visible",markerWidth:4,markerHeight:4,refX:e.key==="hilite"?1.86:2.05,refY:2});return t.appendChild(pe(X("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function Fu(e,t,o,s,n,r){var i;const l=.4*.75**e.text.length,c=Ci(o,s,n),a=r==="tr"?.4:0,h=pe(X("g"),{transform:`translate(${c[0]+a},${c[1]-a})`,cgHash:t});h.appendChild(pe(X("circle"),{r:.4/2,"fill-opacity":r?1:.8,"stroke-opacity":r?1:.7,"stroke-width":.03,fill:(i=e.fill)!==null&&i!==void 0?i:"#666",stroke:"white"}));const d=pe(X("text"),{"font-size":l,"font-family":"Noto Sans","text-anchor":"middle",fill:"white",y:.13*.75**e.text.length});return d.innerHTML=e.text,h.appendChild(d),h}function Po(e,t){return t==="white"?e:[7-e[0],7-e[1]]}function vs(e,t){return(e&&t.has(e)&&t.get(e).size>1)===!0}function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function pe(e,t){for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.setAttribute(o,t[o]);return e}function vi(e,t){return t?{color:e.color,opacity:Math.round(e.opacity*10)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter(o=>o).join("")}:e}function Du(){return[3/64,4/64]}function $u(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function yi(e,t){return(e.opacity||1)*(t?.9:1)}function Ku(e){return(e?20:10)/64}function To(e,t){const o=Math.min(1,t.width/t.height),s=Math.min(1,t.height/t.width);return[(e[0]-3.5)*o,(3.5-e[1])*s]}function Hu(e,t){const o={from:[Math.floor(Math.min(e[0],t[0])),Math.floor(Math.min(e[1],t[1]))],to:[Math.ceil(Math.max(e[0],t[0])),Math.ceil(Math.max(e[1],t[1]))]};return pe(X("rect"),{x:o.from[0],y:o.from[1],width:o.to[0]-o.from[0],height:o.to[1]-o.from[1],fill:"none",stroke:"none"})}function ys(e,t,o=!0){const s=Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI;return o?(Math.round(s*8/Math.PI)+16)%16:s}function qu(e,t){return Math.sqrt([e[0]-t[0],e[1]-t[1]].reduce((o,s)=>o+s*s,0))}function Ci(e,t,o){let s=qu(e,t);const n=ys(e,t,!1);if(o&&(s-=33/64,o.size>1)){s-=10/64;const r=ys(e,t);(o.has((r+1)%16)||o.has((r+15)%16))&&r&1&&(s-=.4)}return[e[0]-Math.cos(n)*s,e[1]-Math.sin(n)*s].map(r=>r+.5)}function ju(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const c of $a)e.classList.toggle("orientation-"+c,t.orientation===c);e.classList.toggle("manipulable",!t.viewOnly);const o=Be("cg-container");e.appendChild(o);const s=Be("cg-board");o.appendChild(s);let n,r,i;if(t.drawable.visible&&(n=pe(X("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),n.appendChild(ku()),n.appendChild(X("g")),r=pe(X("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),r.appendChild(X("g")),i=Be("cg-auto-pieces"),o.appendChild(n),o.appendChild(r),o.appendChild(i)),t.coordinates){const c=t.orientation==="black"?" black":"",a=t.ranksPosition==="left"?" left":"";o.appendChild(jn(Hs,"ranks"+c+a)),o.appendChild(jn(Ks,"files"+c))}let l;return t.draggable.enabled&&t.draggable.showGhost&&(l=Be("piece","ghost"),Vs(l,!1),o.appendChild(l)),{board:s,container:o,wrap:e,ghost:l,svg:n,customSvg:r,autoPieces:i}}function jn(e,t){const o=Be("coords",t);let s;for(const n of e)s=Be("coord"),s.textContent=n,o.appendChild(s);return o}function Vu(e,t){if(!e.dropmode.active)return;rt(e),it(e);const o=e.dropmode.piece;if(o){e.pieces.set("a0",o);const s=yt(t),n=s&&Ct(s,ve(e),e.dom.bounds());n&&ii(e,"a0",n)}e.dom.redraw()}function Bu(e,t){const o=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),(e.disableContextMenu||e.drawable.enabled)&&o.addEventListener("contextmenu",n=>n.preventDefault()),e.viewOnly)return;const s=Wu(e);o.addEventListener("touchstart",s,{passive:!1}),o.addEventListener("mousedown",s,{passive:!1})}function Uu(e,t){const o=[];if("ResizeObserver"in window||o.push(Ft(document.body,"chessground.resize",t)),!e.viewOnly){const s=Vn(e,Cu,du),n=Vn(e,wu,pu);for(const i of["touchmove","mousemove"])o.push(Ft(document,i,s));for(const i of["touchend","mouseup"])o.push(Ft(document,i,n));const r=()=>e.dom.bounds.clear();o.push(Ft(document,"scroll",r,{capture:!0,passive:!0})),o.push(Ft(window,"resize",r,{passive:!0}))}return()=>o.forEach(s=>s())}function Ft(e,t,o,s){return e.addEventListener(t,o,s),()=>e.removeEventListener(t,o,s)}const Wu=e=>t=>{e.draggable.current?Mo(e):e.drawable.current?gi(e):t.shiftKey||Zr(t)?e.drawable.enabled&&hu(e,t):e.viewOnly||(e.dropmode.active?Vu(e,t):_u(e,t))},Vn=(e,t,o)=>s=>{e.drawable.current?e.drawable.enabled&&o(e,s):e.viewOnly||t(e,s)};function Gu(e){const t=ve(e),o=Xt(e.dom.bounds()),s=e.dom.elements.board,n=e.pieces,r=e.animation.current,i=r?r.plan.anims:new Map,l=r?r.plan.fadings:new Map,c=e.draggable.current,a=zu(e),h=new Set,d=new Set,p=new Map,y=new Map;let m,C,k,L,P,O,j,U,$,J;for(C=s.firstChild;C;){if(m=C.cgKey,wi(C))if(k=n.get(m),P=i.get(m),O=l.get(m),L=C.cgPiece,C.cgDragging&&(!c||c.orig!==m)&&(C.classList.remove("dragging"),Ne(C,o(Z(m),t)),C.cgDragging=!1),!O&&C.cgFading&&(C.cgFading=!1,C.classList.remove("fading")),k){if(P&&C.cgAnimating&&L===Dt(k)){const K=Z(m);K[0]+=P[2],K[1]+=P[3],C.classList.add("anim"),Ne(C,o(K,t))}else C.cgAnimating&&(C.cgAnimating=!1,C.classList.remove("anim"),Ne(C,o(Z(m),t)),e.addPieceZIndex&&(C.style.zIndex=os(Z(m),t)));L===Dt(k)&&(!O||!C.cgFading)?h.add(m):O&&L===Dt(O)?(C.classList.add("fading"),C.cgFading=!0):ss(p,L,C)}else ss(p,L,C);else if(Si(C)){const K=C.className;a.get(m)===K?d.add(m):ss(y,K,C)}C=C.nextSibling}for(const[K,He]of a)if(!d.has(K)){$=y.get(He),J=$&&$.pop();const ee=o(Z(K),t);if(J)J.cgKey=K,Ne(J,ee);else{const ie=Be("square",He);ie.cgKey=K,Ne(ie,ee),s.insertBefore(ie,s.firstChild)}}for(const[K,He]of n)if(P=i.get(K),!h.has(K))if(j=p.get(Dt(He)),U=j&&j.pop(),U){U.cgKey=K,U.cgFading&&(U.classList.remove("fading"),U.cgFading=!1);const ee=Z(K);e.addPieceZIndex&&(U.style.zIndex=os(ee,t)),P&&(U.cgAnimating=!0,U.classList.add("anim"),ee[0]+=P[2],ee[1]+=P[3]),Ne(U,o(ee,t))}else{const ee=Dt(He),ie=Be("piece",ee),qe=Z(K);ie.cgPiece=ee,ie.cgKey=K,P&&(ie.cgAnimating=!0,qe[0]+=P[2],qe[1]+=P[3]),Ne(ie,o(qe,t)),e.addPieceZIndex&&(ie.style.zIndex=os(qe,t)),s.appendChild(ie)}for(const K of p.values())Un(e,K);for(const K of y.values())Un(e,K)}function Qu(e){const t=ve(e),o=Xt(e.dom.bounds());let s=e.dom.elements.board.firstChild;for(;s;)(wi(s)&&!s.cgAnimating||Si(s))&&Ne(s,o(Z(s.cgKey),t)),s=s.nextSibling}function Bn(e){var t,o;const s=e.dom.elements.wrap.getBoundingClientRect(),n=e.dom.elements.container,r=s.height/s.width,i=Math.floor(s.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,l=i*r;n.style.width=i+"px",n.style.height=l+"px",e.dom.bounds.clear(),(t=e.addDimensionsCssVarsTo)===null||t===void 0||t.style.setProperty("--cg-width",i+"px"),(o=e.addDimensionsCssVarsTo)===null||o===void 0||o.style.setProperty("--cg-height",l+"px")}const wi=e=>e.tagName==="PIECE",Si=e=>e.tagName==="SQUARE";function Un(e,t){for(const o of t)e.dom.elements.board.removeChild(o)}function os(e,t){const o=e[1];return`${t?10-o:3+o}`}const Dt=e=>`${e.color} ${e.role}`;function zu(e){var t,o,s;const n=new Map;if(e.lastMove&&e.highlight.lastMove)for(const l of e.lastMove)Ve(n,l,"last-move");if(e.check&&e.highlight.check&&Ve(n,e.check,"check"),e.selected&&(Ve(n,e.selected,"selected"),e.movable.showDests)){const l=(t=e.movable.dests)===null||t===void 0?void 0:t.get(e.selected);if(l)for(const a of l)Ve(n,a,"move-dest"+(e.pieces.has(a)?" oc":""));const c=(s=(o=e.premovable.customDests)===null||o===void 0?void 0:o.get(e.selected))!==null&&s!==void 0?s:e.premovable.dests;if(c)for(const a of c)Ve(n,a,"premove-dest"+(e.pieces.has(a)?" oc":""))}const r=e.premovable.current;if(r)for(const l of r)Ve(n,l,"current-premove");else e.predroppable.current&&Ve(n,e.predroppable.current.key,"current-premove");const i=e.exploding;if(i)for(const l of i.keys)Ve(n,l,"exploding"+i.stage);return e.highlight.custom&&e.highlight.custom.forEach((l,c)=>{Ve(n,c,l)}),n}function Ve(e,t,o){const s=e.get(t);s?e.set(t,`${s} ${o}`):e.set(t,o)}function ss(e,t,o){const s=e.get(t);s?s.push(o):e.set(t,[o])}function Zu(e,t,o){const s=new Map,n=[];for(const l of e)s.set(l.hash,!1);let r=t.firstElementChild,i;for(;r;)i=r.getAttribute("cgHash"),s.has(i)?s.set(i,!0):n.push(r),r=r.nextElementSibling;for(const l of n)t.removeChild(l);for(const l of e)s.get(l.hash)||t.appendChild(o(l))}function Yu(e,t){const o=e.drawable.autoShapes.filter(s=>s.piece).map(s=>({shape:s,hash:ef(s),current:!1}));Zu(o,t,s=>Xu(e,s,e.dom.bounds()))}function Ju(e){var t;const o=ve(e),s=Xt(e.dom.bounds());let n=(t=e.dom.elements.autoPieces)===null||t===void 0?void 0:t.firstChild;for(;n;)zr(n,s(Z(n.cgKey),o),n.cgScale),n=n.nextSibling}function Xu(e,{shape:t,hash:o},s){var n,r,i;const l=t.orig,c=(n=t.piece)===null||n===void 0?void 0:n.role,a=(r=t.piece)===null||r===void 0?void 0:r.color,h=(i=t.piece)===null||i===void 0?void 0:i.scale,d=Be("piece",`${c} ${a}`);return d.setAttribute("cgHash",o),d.cgKey=l,d.cgScale=h,zr(d,Xt(s)(Z(l),ve(e)),h),d}const ef=e=>{var t,o,s;return[e.orig,(t=e.piece)===null||t===void 0?void 0:t.role,(o=e.piece)===null||o===void 0?void 0:o.color,(s=e.piece)===null||s===void 0?void 0:s.scale].join(",")};function tf(e,t){const o=xu();hi(o,t||{});function s(){const n="dom"in o?o.dom.unbind:void 0,r=ju(e,o),i=Ha(()=>r.board.getBoundingClientRect()),l=h=>{Gu(a),r.autoPieces&&Yu(a,r.autoPieces),!h&&r.svg&&Mu(a,r.svg,r.customSvg)},c=()=>{Bn(a),Qu(a),r.autoPieces&&Ju(a)},a=o;return a.dom={elements:r,bounds:i,redraw:of(l),redrawNow:l,unbind:n},a.drawable.prevSvgHash="",Bn(a),l(!1),Bu(a,c),n||(a.dom.unbind=Uu(a,c)),a.events.insert&&a.events.insert(r),a}return Eu(s(),s)}function of(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame(()=>{e(),t=!1}))}}class Ei{constructor(t,o,s,n){le(this,"game");le(this,"board");le(this,"boardState");le(this,"props");le(this,"emit");this.boardState=o,this.props=s,this.emit=n,this.game=new Oa,this.board=tf(t),this.resetBoard()}updateGameState({updateFen:t=!0}={}){this.boardState.historyViewerState.isEnabled||(t&&this.board.set({fen:this.game.fen()}),this.board.state.turnColor=this.getTurnColor(),this.board.state.movable.free?(this.board.state.movable.color="both",this.board.state.movable.dests=new Map):(this.board.state.movable.color=this.props.playerColor||this.board.state.turnColor,this.board.state.movable.dests=Fn(this.game)),this.displayInCheck(this.game.inCheck(),this.board.state.turnColor),this.boardState.showThreats&&this.drawMoves()),this.emitEvents()}displayInCheck(t,o){if(t){for(const[s,n]of this.board.state.pieces)if(n.role==="king"&&n.color===o){this.board.state.check=s;return}}else this.board.state.check=void 0}emitEvents(){this.game.inCheck()&&this.emit(this.game.isCheckmate()?"checkmate":"check",this.board.state.turnColor),this.game.isDraw()&&this.emit("draw"),this.game.isStalemate()&&this.emit("stalemate")}async changeTurn(t,o,s){let n;La(o,this.game.get(t))&&(n=await new Promise(r=>{this.boardState.promotionDialogState={isEnabled:!0,color:this.getTurnColor(),callback:r}})),this.move({from:t,to:o,promotion:n})}resetBoard(){this.setConfig(this.props.boardConfig,!0)}undoLastMove(){const t=this.game.undo();if(t!=null&&(this.boardState.historyViewerState.isEnabled&&this.boardState.historyViewerState.plyViewing===this.getCurrentPlyNumber()&&this.stopViewingHistory(),!this.boardState.historyViewerState.isEnabled)){this.board.set({fen:t.before}),this.updateGameState({updateFen:!1});const o=this.getLastMove();this.board.state.lastMove=o?[o==null?void 0:o.from,o==null?void 0:o.to]:void 0}}getMaterialCount(){const t=this.board.state.pieces,o={pawn:1,knight:3,bishop:3,rook:5,queen:9,king:0},s={materialWhite:0,materialBlack:0,materialDiff:0};for(const n of t)n[1].color==="white"?s.materialWhite+=o[n[1].role]:s.materialBlack+=o[n[1].role];return s.materialDiff=s.materialWhite-s.materialBlack,s}getCapturedPieces(){const t={white:[],black:[]};for(const{color:o,captured:s}of this.getHistory(!0))s&&t[uo(o)].push(s);return t}toggleOrientation(){this.board.toggleOrientation()}drawMoves(){this.boardState.showThreats=!0,this.board.setShapes(Ia(this.game.moves({verbose:!0})))}hideMoves(){this.boardState.showThreats=!1,this.board.setShapes([])}drawMove(t,o,s){this.board.setShapes([{orig:t,dest:o,brush:s}])}toggleMoves(){this.boardState.showThreats?this.hideMoves():this.drawMoves()}async getOpeningName(){var t;try{const o=this.game.history({verbose:!0}).map(s=>s.lan).join(",");return((t=(await(await fetch(`https://explorer.lichess.ovh/masters?play=${o}`)).json()).opening)==null?void 0:t.name)??null}catch{return null}}move(t){let o;try{o=this.game.move(t)}catch{return typeof t=="object"&&this.board.state.movable.free&&(this.board.move(t.from,t.to),this.updateGameState({updateFen:!1})),!1}return this.emit("move",o),o!=null&&o.promotion&&this.emit("promotion",{color:uo(o.color),promotedTo:o.promotion.toUpperCase(),sanMove:o.san}),this.boardState.historyViewerState.isEnabled||(this.board.move(o.from,o.to),(o.flags==="e"||o!=null&&o.promotion)&&setTimeout(()=>this.board.set({fen:o.after}),this.board.state.animation.current?this.board.state.animation.duration:0),this.updateGameState({updateFen:!1}),mr(this.board.playPremove)),!0}getTurnColor(){return uo(this.game.turn())}getPossibleMoves(){return Fn(this.game)}getCurrentTurnNumber(){return this.game.moveNumber()}getCurrentPlyNumber(){return 2*this.getCurrentTurnNumber()-(this.getTurnColor()==="black"?1:2)}getLastMove(){return this.game.history({verbose:!0}).at(-1)}getHistory(t=!1){return this.game.history({verbose:t})}getFen(){return this.game.fen()}getBoardPosition(){return this.game.board()}getPgn(){return this.game.pgn()}getIsGameOver(){return this.game.isGameOver()}getIsCheckmate(){return this.game.isCheckmate()}getIsCheck(){return this.game.isCheck()}getIsStalemate(){return this.game.isStalemate()}getIsDraw(){return this.game.isDraw()}getIsThreefoldRepetition(){return this.game.isThreefoldRepetition()}getIsInsufficientMaterial(){return this.game.isInsufficientMaterial()}getSquareColor(t){return this.game.squareColor(t)}getSquare(t){return this.game.get(t)}setPosition(t){this.game.load(t),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState()}putPiece(t,o){if(this.board.state.movable.free){const s=this.board.state.pieces;return s.set(o,{color:t.color==="w"?"white":"black",role:Ra[t.type]}),this.board.setPieces(s),!0}else{const s=this.game.put(t,o);return s&&this.updateGameState(),s}}clearBoard(){this.game.clear(),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState()}setShapes(t){this.board.setShapes(t)}loadPgn(t){this.game.loadPgn(t),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState();const o=this.getLastMove();o&&this.board.set({lastMove:[o.from,o.to]})}getPgnInfo(){return this.game.header()}setPgnInfo(t){return this.game.header(...Object.entries(t).flat())}setConfig(t,o=!1){var r;if(o&&(t=Wr(Da,t),this.board.state.selected=void 0),((r=t.movable)==null?void 0:r.events)&&"after"in t.movable.events){const i=t.movable.events.after;t.movable.events.after=i?async(...l)=>{await this.changeTurn(...l),i(...l)}:this.changeTurn.bind(this)}const{fen:s,...n}=t;this.board.set(n),s&&this.setPosition(s),this.board.redrawAll()}viewHistory(t){const o=this.getHistory(!0);if(t<0||t>o.length)return;const s=this.board.state.animation.enabled&&(this.boardState.historyViewerState.isEnabled&&Math.abs(this.boardState.historyViewerState.plyViewing-t)!==1||!this.boardState.historyViewerState.isEnabled&&t!==o.length-1);if(s&&this.board.set({animation:{enabled:!1}}),t<o.length)this.boardState.historyViewerState.isEnabled?this.boardState.historyViewerState.plyViewing=t:this.boardState.historyViewerState={isEnabled:!0,plyViewing:t,viewOnly:this.board.state.viewOnly},this.board.set({fen:o[t].before,viewOnly:!0,lastMove:t>0?[o[t-1].from,o[t-1].to]:void 0,selected:void 0}),this.displayInCheck(t>0?"+#".includes(o[t-1].san.at(-1)):!1,uo(o[t].color)),this.board.cancelPremove();else if(this.boardState.historyViewerState.isEnabled){const n=o.at(-1);this.board.set({fen:n.after,viewOnly:this.boardState.historyViewerState.viewOnly,lastMove:[n.from,n.to]}),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState({updateFen:!1})}s&&this.board.set({animation:{enabled:!0}})}stopViewingHistory(){this.boardState.historyViewerState.isEnabled&&this.viewHistory(this.getCurrentPlyNumber())}viewStart(){this.viewHistory(0)}viewNext(){this.boardState.historyViewerState.isEnabled&&this.viewHistory(this.boardState.historyViewerState.plyViewing+1)}viewPrevious(){const t=this.boardState.historyViewerState.isEnabled?this.boardState.historyViewerState.plyViewing:this.getCurrentPlyNumber();this.viewHistory(t-1)}}const sf={class:"main-board"},nf=Er({__name:"TheChessboard",props:{boardConfig:{default:()=>({})},playerColor:{},reactiveConfig:{type:Boolean,default:!1}},emits:["boardCreated","check","checkmate","stalemate","draw","promotion","move"],setup(e,{emit:t}){const o=e,s=pl(null),n=Vt({showThreats:!1,promotionDialogState:{isEnabled:!1},historyViewerState:{isEnabled:!1}});return Mr(()=>{if(s.value==null)throw new Error("vue3-chessboard: Failed to mount board.");const r=new Ei(s.value,n,o,t);if(t("boardCreated",r),o.reactiveConfig){let i=ko(o.boardConfig);po(Vt(o.boardConfig),l=>{r.setConfig(Gr(i,l)),i=ko(l)})}}),(r,i)=>(Ke(),nt("section",{class:Yt(["main-wrap",{disabledBoard:n.promotionDialogState.isEnabled,viewingHistory:n.historyViewerState.isEnabled}])},[At("div",sf,[n.promotionDialogState.isEnabled?(Ke(),Kr(ma,{key:0,state:n.promotionDialogState,onPromotionSelected:i[0]||(i[0]=l=>n.promotionDialogState={isEnabled:!1})},null,8,["state"])):bc("",!0),At("div",{ref_key:"boardElement",ref:s},null,512)])],2))}});class rf{constructor(t){this._stockfish,this._boardApi=t,this.bestMove,this.engineName;const o=typeof WebAssembly=="object"&&WebAssembly.validate(Uint8Array.of(0,97,115,109,1,0,0,0));this._stockfish=new Worker(o?"stockfish.wasm.js":"stockfish.js"),this._setupListeners(),this._stockfish.postMessage("uci")}_setupListeners(){this._stockfish.addEventListener("message",t=>this._handleEngineStdout(t)),this._stockfish.addEventListener("error",t=>console.error(t)),this._stockfish.addEventListener("messageerror",t=>console.error(t))}_handleEngineStdout(t){const o=t.data.split(" ");if(o[0]==="uciok"){this._setOption("UCI_AnalyseMode","true"),this._setOption("Analysis Contempt","Off"),this._stockfish.postMessage("ucinewgame"),this._stockfish.postMessage("isready");return}if(o[0]==="readyok"){this._stockfish.postMessage("go movetime 1500");return}o[0]==="bestmove"&&o[1]&&o[1]!==this.bestMove&&(this.bestMove=o[1],this._boardApi.getTurnColor()==="black"&&this._boardApi.move({from:this.bestMove.slice(0,2),to:this.bestMove.slice(2,4)}))}_setOption(t,o){this._stockfish.postMessage(`setoption name ${t} value ${o}`)}sendPosition(t){this._stockfish.postMessage(`position startpos moves ${t}`),this._stockfish.postMessage("go movetime 500")}}const lf=At("div",null,"Play chass with me!",-1),cf={__name:"Board",setup(e){const t={coordinates:!0,svg:"vite.svg"};let o,s;function n(l=Ei){o=l,s=new rf(l),s._setOption("Skill Level",10);const c=document.getElementsByTagName("cg-board");c[0].style.filter="grayscale(1)"}function r(l){alert(l==="w"?"Black wins!":"White wins!")}function i(){const l=o==null?void 0:o.getHistory(!0),c=l==null?void 0:l.map(a=>typeof a=="object"?a.lan:a);c&&(s==null||s.sendPosition(c.join(" ")))}return(l,c)=>(Ke(),nt("div",null,[lf,de(dr(nf),{onBoardCreated:n,"board-config":t,onMove:i,onCheckmate:r})]))}},af={class:"container mx-auto"},uf={__name:"Main",setup(e){return(t,o)=>(Ke(),nt("main",af,[de(da),de(cf)]))}},ff={__name:"App",setup(e){return(t,o)=>(Ke(),nt(Te,null,[de(ia),de(uf)],64))}};Jc(ff).mount("#app");

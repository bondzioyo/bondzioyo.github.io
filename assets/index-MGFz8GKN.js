var Ei=Object.defineProperty;var xi=(e,t,o)=>t in e?Ei(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var le=(e,t,o)=>(xi(e,typeof t!="symbol"?t+"":t,o),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Cn(e,t){const o=new Set(e.split(","));return t?n=>o.has(n.toLowerCase()):n=>o.has(n)}const Q={},Et=[],Ee=()=>{},ki=()=>!1,To=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Sn=e=>e.startsWith("onUpdate:"),re=Object.assign,En=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},Pi=Object.prototype.hasOwnProperty,j=(e,t)=>Pi.call(e,t),F=Array.isArray,qt=e=>Io(e)==="[object Map]",Mi=e=>Io(e)==="[object Set]",D=e=>typeof e=="function",se=e=>typeof e=="string",Ao=e=>typeof e=="symbol",Z=e=>e!==null&&typeof e=="object",Ws=e=>(Z(e)||D(e))&&D(e.then)&&D(e.catch),Ti=Object.prototype.toString,Io=e=>Ti.call(e),Ai=e=>Io(e).slice(8,-1),Ii=e=>Io(e)==="[object Object]",xn=e=>se(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,uo=Cn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oo=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},Oi=/-(\w)/g,Pt=Oo(e=>e.replace(Oi,(t,o)=>o?o.toUpperCase():"")),Ri=/\B([A-Z])/g,It=Oo(e=>e.replace(Ri,"-$1").toLowerCase()),Gs=Oo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bo=Oo(e=>e?`on${Gs(e)}`:""),nt=(e,t)=>!Object.is(e,t),Uo=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},_o=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},Ni=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ns;const Qs=()=>ns||(ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kn(e){if(F(e)){const t={};for(let o=0;o<e.length;o++){const n=e[o],s=se(n)?Ki(n):kn(n);if(s)for(const r in s)t[r]=s[r]}return t}else if(se(e)||Z(e))return e}const Li=/;(?![^(]*\))/g,Fi=/:([^]+)/,Di=/\/\*[^]*?\*\//g;function Ki(e){const t={};return e.replace(Di,"").split(Li).forEach(o=>{if(o){const n=o.split(Fi);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Yt(e){let t="";if(se(e))t=e;else if(F(e))for(let o=0;o<e.length;o++){const n=Yt(e[o]);n&&(t+=n+" ")}else if(Z(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const qi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$i=Cn(qi);function zs(e){return!!e||e===""}/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pe;class ji{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pe,!t&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=Pe;try{return Pe=this,t()}finally{Pe=o}}}on(){Pe=this}off(){Pe=this.parent}stop(t){if(this._active){let o,n;for(o=0,n=this.effects.length;o<n;o++)this.effects[o].stop();for(o=0,n=this.cleanups.length;o<n;o++)this.cleanups[o]();if(this.scopes)for(o=0,n=this.scopes.length;o<n;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Hi(e,t=Pe){t&&t.active&&t.effects.push(e)}function Vi(){return Pe}let ht;class Pn{constructor(t,o,n,s){this.fn=t,this.trigger=o,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Hi(this,s)}get dirty(){if(this._dirtyLevel===1){bt();for(let t=0;t<this._depsLength;t++){const o=this.deps[t];if(o.computed&&(Bi(o.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),_t()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=tt,o=ht;try{return tt=!0,ht=this,this._runnings++,ss(this),this.fn()}finally{rs(this),this._runnings--,ht=o,tt=t}}stop(){var t;this.active&&(ss(this),rs(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Bi(e){return e.value}function ss(e){e._trackId++,e._depsLength=0}function rs(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Ys(e.deps[t],e);e.deps.length=e._depsLength}}function Ys(e,t){const o=e.get(t);o!==void 0&&t._trackId!==o&&(e.delete(t),e.size===0&&e.cleanup())}let tt=!0,sn=0;const Zs=[];function bt(){Zs.push(tt),tt=!1}function _t(){const e=Zs.pop();tt=e===void 0?!0:e}function Mn(){sn++}function Tn(){for(sn--;!sn&&rn.length;)rn.shift()()}function Js(e,t,o){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&Ys(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const rn=[];function Xs(e,t,o){Mn();for(const n of e.keys())if(n._dirtyLevel<t&&e.get(n)===n._trackId){const s=n._dirtyLevel;n._dirtyLevel=t,s===0&&(n._shouldSchedule=!0,n.trigger())}er(e),Tn()}function er(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,rn.push(t.scheduler))}const tr=(e,t)=>{const o=new Map;return o.cleanup=e,o.computed=t,o},ln=new WeakMap,dt=Symbol(""),cn=Symbol("");function ge(e,t,o){if(tt&&ht){let n=ln.get(e);n||ln.set(e,n=new Map);let s=n.get(o);s||n.set(o,s=tr(()=>n.delete(o))),Js(ht,s)}}function Ue(e,t,o,n,s,r){const i=ln.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(o==="length"&&F(e)){const c=Number(n);i.forEach((a,h)=>{(h==="length"||!Ao(h)&&h>=c)&&l.push(a)})}else switch(o!==void 0&&l.push(i.get(o)),t){case"add":F(e)?xn(o)&&l.push(i.get("length")):(l.push(i.get(dt)),qt(e)&&l.push(i.get(cn)));break;case"delete":F(e)||(l.push(i.get(dt)),qt(e)&&l.push(i.get(cn)));break;case"set":qt(e)&&l.push(i.get(dt));break}Mn();for(const c of l)c&&Xs(c,2);Tn()}const Ui=Cn("__proto__,__v_isRef,__isVue"),or=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ao)),is=Wi();function Wi(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const n=V(this);for(let r=0,i=this.length;r<i;r++)ge(n,"get",r+"");const s=n[t](...o);return s===-1||s===!1?n[t](...o.map(V)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){bt(),Mn();const n=V(this)[t].apply(this,o);return Tn(),_t(),n}}),e}function Gi(e){const t=V(this);return ge(t,"has",e),t.hasOwnProperty(e)}class nr{constructor(t=!1,o=!1){this._isReadonly=t,this._shallow=o}get(t,o,n){const s=this._isReadonly,r=this._shallow;if(o==="__v_isReactive")return!s;if(o==="__v_isReadonly")return s;if(o==="__v_isShallow")return r;if(o==="__v_raw")return n===(s?r?il:lr:r?ir:rr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=F(t);if(!s){if(i&&j(is,o))return Reflect.get(is,o,n);if(o==="hasOwnProperty")return Gi}const l=Reflect.get(t,o,n);return(Ao(o)?or.has(o):Ui(o))||(s||ge(t,"get",o),r)?l:me(l)?i&&xn(o)?l:l.value:Z(l)?s?cr(l):Ht(l):l}}class sr extends nr{constructor(t=!1){super(!1,t)}set(t,o,n,s){let r=t[o];if(!this._shallow){const c=Mt(r);if(!vo(n)&&!Mt(n)&&(r=V(r),n=V(n)),!F(t)&&me(r)&&!me(n))return c?!1:(r.value=n,!0)}const i=F(t)&&xn(o)?Number(o)<t.length:j(t,o),l=Reflect.set(t,o,n,s);return t===V(s)&&(i?nt(n,r)&&Ue(t,"set",o,n):Ue(t,"add",o,n)),l}deleteProperty(t,o){const n=j(t,o);t[o];const s=Reflect.deleteProperty(t,o);return s&&n&&Ue(t,"delete",o,void 0),s}has(t,o){const n=Reflect.has(t,o);return(!Ao(o)||!or.has(o))&&ge(t,"has",o),n}ownKeys(t){return ge(t,"iterate",F(t)?"length":dt),Reflect.ownKeys(t)}}class Qi extends nr{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const zi=new sr,Yi=new Qi,Zi=new sr(!0),An=e=>e,Ro=e=>Reflect.getPrototypeOf(e);function oo(e,t,o=!1,n=!1){e=e.__v_raw;const s=V(e),r=V(t);o||(nt(t,r)&&ge(s,"get",t),ge(s,"get",r));const{has:i}=Ro(s),l=n?An:o?Rn:Vt;if(i.call(s,t))return l(e.get(t));if(i.call(s,r))return l(e.get(r));e!==s&&e.get(t)}function no(e,t=!1){const o=this.__v_raw,n=V(o),s=V(e);return t||(nt(e,s)&&ge(n,"has",e),ge(n,"has",s)),e===s?o.has(e):o.has(e)||o.has(s)}function so(e,t=!1){return e=e.__v_raw,!t&&ge(V(e),"iterate",dt),Reflect.get(e,"size",e)}function ls(e){e=V(e);const t=V(this);return Ro(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function cs(e,t){t=V(t);const o=V(this),{has:n,get:s}=Ro(o);let r=n.call(o,e);r||(e=V(e),r=n.call(o,e));const i=s.call(o,e);return o.set(e,t),r?nt(t,i)&&Ue(o,"set",e,t):Ue(o,"add",e,t),this}function as(e){const t=V(this),{has:o,get:n}=Ro(t);let s=o.call(t,e);s||(e=V(e),s=o.call(t,e)),n&&n.call(t,e);const r=t.delete(e);return s&&Ue(t,"delete",e,void 0),r}function us(){const e=V(this),t=e.size!==0,o=e.clear();return t&&Ue(e,"clear",void 0,void 0),o}function ro(e,t){return function(n,s){const r=this,i=r.__v_raw,l=V(i),c=t?An:e?Rn:Vt;return!e&&ge(l,"iterate",dt),i.forEach((a,h)=>n.call(s,c(a),c(h),r))}}function io(e,t,o){return function(...n){const s=this.__v_raw,r=V(s),i=qt(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,a=s[e](...n),h=o?An:t?Rn:Vt;return!t&&ge(r,"iterate",c?cn:dt),{next(){const{value:d,done:p}=a.next();return p?{value:d,done:p}:{value:l?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function Ge(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ji(){const e={get(r){return oo(this,r)},get size(){return so(this)},has:no,add:ls,set:cs,delete:as,clear:us,forEach:ro(!1,!1)},t={get(r){return oo(this,r,!1,!0)},get size(){return so(this)},has:no,add:ls,set:cs,delete:as,clear:us,forEach:ro(!1,!0)},o={get(r){return oo(this,r,!0)},get size(){return so(this,!0)},has(r){return no.call(this,r,!0)},add:Ge("add"),set:Ge("set"),delete:Ge("delete"),clear:Ge("clear"),forEach:ro(!0,!1)},n={get(r){return oo(this,r,!0,!0)},get size(){return so(this,!0)},has(r){return no.call(this,r,!0)},add:Ge("add"),set:Ge("set"),delete:Ge("delete"),clear:Ge("clear"),forEach:ro(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=io(r,!1,!1),o[r]=io(r,!0,!1),t[r]=io(r,!1,!0),n[r]=io(r,!0,!0)}),[e,o,t,n]}const[Xi,el,tl,ol]=Ji();function In(e,t){const o=t?e?ol:tl:e?el:Xi;return(n,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(j(o,s)&&s in n?o:n,s,r)}const nl={get:In(!1,!1)},sl={get:In(!1,!0)},rl={get:In(!0,!1)},rr=new WeakMap,ir=new WeakMap,lr=new WeakMap,il=new WeakMap;function ll(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cl(e){return e.__v_skip||!Object.isExtensible(e)?0:ll(Ai(e))}function Ht(e){return Mt(e)?e:On(e,!1,zi,nl,rr)}function al(e){return On(e,!1,Zi,sl,ir)}function cr(e){return On(e,!0,Yi,rl,lr)}function On(e,t,o,n,s){if(!Z(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const i=cl(e);if(i===0)return e;const l=new Proxy(e,i===2?n:o);return s.set(e,l),l}function xt(e){return Mt(e)?xt(e.__v_raw):!!(e&&e.__v_isReactive)}function Mt(e){return!!(e&&e.__v_isReadonly)}function vo(e){return!!(e&&e.__v_isShallow)}function ar(e){return xt(e)||Mt(e)}function V(e){const t=e&&e.__v_raw;return t?V(t):e}function ur(e){return _o(e,"__v_skip",!0),e}const Vt=e=>Z(e)?Ht(e):e,Rn=e=>Z(e)?cr(e):e;class fr{constructor(t,o,n,s){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Pn(()=>t(this._value),()=>fo(this,1),()=>this.dep&&er(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=V(this);return(!t._cacheable||t.effect.dirty)&&nt(t._value,t._value=t.effect.run())&&fo(t,2),hr(t),t.effect._dirtyLevel>=1&&fo(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function ul(e,t,o=!1){let n,s;const r=D(e);return r?(n=e,s=Ee):(n=e.get,s=e.set),new fr(n,s,r||!s,o)}function hr(e){tt&&ht&&(e=V(e),Js(ht,e.dep||(e.dep=tr(()=>e.dep=void 0,e instanceof fr?e:void 0))))}function fo(e,t=2,o){e=V(e);const n=e.dep;n&&Xs(n,t)}function me(e){return!!(e&&e.__v_isRef===!0)}function fl(e){return hl(e,!1)}function hl(e,t){return me(e)?e:new dl(e,t)}class dl{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:V(t),this._value=o?t:Vt(t)}get value(){return hr(this),this._value}set value(t){const o=this.__v_isShallow||vo(t)||Mt(t);t=o?t:V(t),nt(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:Vt(t),fo(this,2))}}function dr(e){return me(e)?e.value:e}const pl={get:(e,t,o)=>dr(Reflect.get(e,t,o)),set:(e,t,o,n)=>{const s=e[t];return me(s)&&!me(o)?(s.value=o,!0):Reflect.set(e,t,o,n)}};function pr(e){return xt(e)?e:new Proxy(e,pl)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ot(e,t,o,n){let s;try{s=n?e(...n):e()}catch(r){No(r,t,o)}return s}function Ae(e,t,o,n){if(D(e)){const r=ot(e,t,o,n);return r&&Ws(r)&&r.catch(i=>{No(i,t,o)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(Ae(e[r],t,o,n));return s}function No(e,t,o,n=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${o}`;for(;r;){const a=r.ec;if(a){for(let h=0;h<a.length;h++)if(a[h](e,i,l)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){ot(c,null,10,[e,i,l]);return}}gl(e,o,s,n)}function gl(e,t,o,n=!0){console.error(e)}let Bt=!1,an=!1;const ae=[];let De=0;const kt=[];let Ze=null,ft=0;const gr=Promise.resolve();let Nn=null;function mr(e){const t=Nn||gr;return e?t.then(this?e.bind(this):e):t}function ml(e){let t=De+1,o=ae.length;for(;t<o;){const n=t+o>>>1,s=ae[n],r=Ut(s);r<e||r===e&&s.pre?t=n+1:o=n}return t}function Ln(e){(!ae.length||!ae.includes(e,Bt&&e.allowRecurse?De+1:De))&&(e.id==null?ae.push(e):ae.splice(ml(e.id),0,e),br())}function br(){!Bt&&!an&&(an=!0,Nn=gr.then(vr))}function bl(e){const t=ae.indexOf(e);t>De&&ae.splice(t,1)}function _l(e){F(e)?kt.push(...e):(!Ze||!Ze.includes(e,e.allowRecurse?ft+1:ft))&&kt.push(e),br()}function fs(e,t,o=Bt?De+1:0){for(;o<ae.length;o++){const n=ae[o];if(n&&n.pre){if(e&&n.id!==e.uid)continue;ae.splice(o,1),o--,n()}}}function _r(e){if(kt.length){const t=[...new Set(kt)].sort((o,n)=>Ut(o)-Ut(n));if(kt.length=0,Ze){Ze.push(...t);return}for(Ze=t,ft=0;ft<Ze.length;ft++)Ze[ft]();Ze=null,ft=0}}const Ut=e=>e.id==null?1/0:e.id,vl=(e,t)=>{const o=Ut(e)-Ut(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function vr(e){an=!1,Bt=!0,ae.sort(vl);try{for(De=0;De<ae.length;De++){const t=ae[De];t&&t.active!==!1&&ot(t,null,14)}}finally{De=0,ae.length=0,_r(),Bt=!1,Nn=null,(ae.length||kt.length)&&vr()}}function yl(e,t,...o){if(e.isUnmounted)return;const n=e.vnode.props||Q;let s=o;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in n){const h=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:p}=n[h]||Q;p&&(s=o.map(y=>se(y)?y.trim():y)),d&&(s=o.map(Ni))}let l,c=n[l=Bo(t)]||n[l=Bo(Pt(t))];!c&&r&&(c=n[l=Bo(It(t))]),c&&Ae(c,e,6,s);const a=n[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ae(a,e,6,s)}}function yr(e,t,o=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const r=e.emits;let i={},l=!1;if(!D(e)){const c=a=>{const h=yr(a,t,!0);h&&(l=!0,re(i,h))};!o&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(Z(e)&&n.set(e,null),null):(F(r)?r.forEach(c=>i[c]=null):re(i,r),Z(e)&&n.set(e,i),i)}function Lo(e,t){return!e||!To(t)?!1:(t=t.slice(2).replace(/Once$/,""),j(e,t[0].toLowerCase()+t.slice(1))||j(e,It(t))||j(e,t))}let Ke=null,wr=null;function yo(e){const t=Ke;return Ke=e,wr=e&&e.type.__scopeId||null,t}function wl(e,t=Ke,o){if(!t||e._n)return e;const n=(...s)=>{n._d&&ws(-1);const r=yo(t);let i;try{i=e(...s)}finally{yo(r),n._d&&ws(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function Wo(e){const{type:t,vnode:o,proxy:n,withProxy:s,props:r,propsOptions:[i],slots:l,attrs:c,emit:a,render:h,renderCache:d,data:p,setupState:y,ctx:m,inheritAttrs:w}=e;let k,R;const M=yo(e);try{if(o.shapeFlag&4){const H=s||n,U=H;k=Fe(h.call(U,H,d,r,y,p,m)),R=c}else{const H=t;k=Fe(H.length>1?H(r,{attrs:c,slots:l,emit:a}):H(r,null)),R=t.props?c:Cl(c)}}catch(H){jt.length=0,No(H,e,1),k=qe(gt)}let I=k;if(R&&w!==!1){const H=Object.keys(R),{shapeFlag:U}=I;H.length&&U&7&&(i&&H.some(Sn)&&(R=Sl(R,i)),I=At(I,R))}return o.dirs&&(I=At(I),I.dirs=I.dirs?I.dirs.concat(o.dirs):o.dirs),o.transition&&(I.transition=o.transition),k=I,yo(M),k}const Cl=e=>{let t;for(const o in e)(o==="class"||o==="style"||To(o))&&((t||(t={}))[o]=e[o]);return t},Sl=(e,t)=>{const o={};for(const n in e)(!Sn(n)||!(n.slice(9)in t))&&(o[n]=e[n]);return o};function El(e,t,o){const{props:n,children:s,component:r}=e,{props:i,children:l,patchFlag:c}=t,a=r.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&c>=0){if(c&1024)return!0;if(c&16)return n?hs(n,i,a):!!i;if(c&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(i[p]!==n[p]&&!Lo(a,p))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:n===i?!1:n?i?hs(n,i,a):!0:!!i;return!1}function hs(e,t,o){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(t[r]!==e[r]&&!Lo(o,r))return!0}return!1}function xl({vnode:e,parent:t},o){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=o,t=t.parent;else break}}const kl=Symbol.for("v-ndc"),Pl=e=>e.__isSuspense;function Ml(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):_l(e)}const Tl=Symbol.for("v-scx"),Al=()=>go(Tl),lo={};function ho(e,t,o){return Cr(e,t,o)}function Cr(e,t,{immediate:o,deep:n,flush:s,once:r,onTrack:i,onTrigger:l}=Q){if(t&&r){const K=t;t=(...J)=>{K(...J),U()}}const c=he,a=K=>n===!0?K:St(K,n===!1?1:void 0);let h,d=!1,p=!1;if(me(e)?(h=()=>e.value,d=vo(e)):xt(e)?(h=()=>a(e),d=!0):F(e)?(p=!0,d=e.some(K=>xt(K)||vo(K)),h=()=>e.map(K=>{if(me(K))return K.value;if(xt(K))return a(K);if(D(K))return ot(K,c,2)})):D(e)?t?h=()=>ot(e,c,2):h=()=>(y&&y(),Ae(e,c,3,[m])):h=Ee,t&&n){const K=h;h=()=>St(K())}let y,m=K=>{y=I.onStop=()=>{ot(K,c,4),y=I.onStop=void 0}},w;if(qo)if(m=Ee,t?o&&Ae(t,c,3,[h(),p?[]:void 0,m]):h(),s==="sync"){const K=Al();w=K.__watcherHandles||(K.__watcherHandles=[])}else return Ee;let k=p?new Array(e.length).fill(lo):lo;const R=()=>{if(!(!I.active||!I.dirty))if(t){const K=I.run();(n||d||(p?K.some((J,q)=>nt(J,k[q])):nt(K,k)))&&(y&&y(),Ae(t,c,3,[K,k===lo?void 0:p&&k[0]===lo?[]:k,m]),k=K)}else I.run()};R.allowRecurse=!!t;let M;s==="sync"?M=R:s==="post"?M=()=>pe(R,c&&c.suspense):(R.pre=!0,c&&(R.id=c.uid),M=()=>Ln(R));const I=new Pn(h,Ee,M),H=Vi(),U=()=>{I.stop(),H&&En(H.effects,I)};return t?o?R():k=I.run():s==="post"?pe(I.run.bind(I),c&&c.suspense):I.run(),w&&w.push(U),U}function Il(e,t,o){const n=this.proxy,s=se(e)?e.includes(".")?Sr(n,e):()=>n[e]:e.bind(n,n);let r;D(t)?r=t:(r=t.handler,o=t);const i=Zt(this),l=Cr(s,r.bind(n),o);return i(),l}function Sr(e,t){const o=t.split(".");return()=>{let n=e;for(let s=0;s<o.length&&n;s++)n=n[o[s]];return n}}function St(e,t,o=0,n){if(!Z(e)||e.__v_skip)return e;if(t&&t>0){if(o>=t)return e;o++}if(n=n||new Set,n.has(e))return e;if(n.add(e),me(e))St(e.value,t,o,n);else if(F(e))for(let s=0;s<e.length;s++)St(e[s],t,o,n);else if(Mi(e)||qt(e))e.forEach(s=>{St(s,t,o,n)});else if(Ii(e))for(const s in e)St(e[s],t,o,n);return e}function ct(e,t,o,n){const s=e.dirs,r=t&&t.dirs;for(let i=0;i<s.length;i++){const l=s[i];r&&(l.oldValue=r[i].value);let c=l.dir[n];c&&(bt(),Ae(c,o,8,[e.el,l,e,t]),_t())}}/*! #__NO_SIDE_EFFECTS__ */function Er(e,t){return D(e)?re({name:e.name},t,{setup:e}):e}const po=e=>!!e.type.__asyncLoader,xr=e=>e.type.__isKeepAlive;function Ol(e,t){kr(e,"a",t)}function Rl(e,t){kr(e,"da",t)}function kr(e,t,o=he){const n=e.__wdc||(e.__wdc=()=>{let s=o;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Fo(t,n,o),o){let s=o.parent;for(;s&&s.parent;)xr(s.parent.vnode)&&Nl(n,t,o,s),s=s.parent}}function Nl(e,t,o,n){const s=Fo(t,e,n,!0);Mr(()=>{En(n[t],s)},o)}function Fo(e,t,o=he,n=!1){if(o){const s=o[e]||(o[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(o.isUnmounted)return;bt();const l=Zt(o),c=Ae(t,o,e,i);return l(),_t(),c});return n?s.unshift(r):s.push(r),r}}const We=e=>(t,o=he)=>(!qo||e==="sp")&&Fo(e,(...n)=>t(...n),o),Ll=We("bm"),Pr=We("m"),Fl=We("bu"),Dl=We("u"),Kl=We("bum"),Mr=We("um"),ql=We("sp"),$l=We("rtg"),jl=We("rtc");function Hl(e,t=he){Fo("ec",e,t)}function Vl(e,t,o,n){let s;const r=o&&o[n];if(F(e)||se(e)){s=new Array(e.length);for(let i=0,l=e.length;i<l;i++)s[i]=t(e[i],i,void 0,r&&r[i])}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,r&&r[i])}else if(Z(e))if(e[Symbol.iterator])s=Array.from(e,(i,l)=>t(i,l,void 0,r&&r[l]));else{const i=Object.keys(e);s=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const a=i[l];s[l]=t(e[a],a,l,r&&r[l])}}else s=[];return o&&(o[n]=s),s}const un=e=>e?jr(e)?qn(e)||e.proxy:un(e.parent):null,$t=re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>un(e.parent),$root:e=>un(e.root),$emit:e=>e.emit,$options:e=>Fn(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ln(e.update)}),$nextTick:e=>e.n||(e.n=mr.bind(e.proxy)),$watch:e=>Il.bind(e)}),Go=(e,t)=>e!==Q&&!e.__isScriptSetup&&j(e,t),Bl={get({_:e},t){const{ctx:o,setupState:n,data:s,props:r,accessCache:i,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return n[t];case 2:return s[t];case 4:return o[t];case 3:return r[t]}else{if(Go(n,t))return i[t]=1,n[t];if(s!==Q&&j(s,t))return i[t]=2,s[t];if((a=e.propsOptions[0])&&j(a,t))return i[t]=3,r[t];if(o!==Q&&j(o,t))return i[t]=4,o[t];fn&&(i[t]=0)}}const h=$t[t];let d,p;if(h)return t==="$attrs"&&ge(e,"get",t),h(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(o!==Q&&j(o,t))return i[t]=4,o[t];if(p=c.config.globalProperties,j(p,t))return p[t]},set({_:e},t,o){const{data:n,setupState:s,ctx:r}=e;return Go(s,t)?(s[t]=o,!0):n!==Q&&j(n,t)?(n[t]=o,!0):j(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:n,appContext:s,propsOptions:r}},i){let l;return!!o[i]||e!==Q&&j(e,i)||Go(t,i)||(l=r[0])&&j(l,i)||j(n,i)||j($t,i)||j(s.config.globalProperties,i)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:j(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function ds(e){return F(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let fn=!0;function Ul(e){const t=Fn(e),o=e.proxy,n=e.ctx;fn=!1,t.beforeCreate&&ps(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:i,watch:l,provide:c,inject:a,created:h,beforeMount:d,mounted:p,beforeUpdate:y,updated:m,activated:w,deactivated:k,beforeDestroy:R,beforeUnmount:M,destroyed:I,unmounted:H,render:U,renderTracked:K,renderTriggered:J,errorCaptured:q,serverPrefetch:$e,expose:ee,inheritAttrs:ie,components:je,directives:Xt,filters:$o}=t;if(a&&Wl(a,n,null),i)for(const z in i){const W=i[z];D(W)&&(n[z]=W.bind(o))}if(s){const z=s.call(o,o);Z(z)&&(e.data=Ht(z))}if(fn=!0,r)for(const z in r){const W=r[z],it=D(W)?W.bind(o,o):D(W.get)?W.get.bind(o,o):Ee,eo=!D(W)&&D(W.set)?W.set.bind(o):Ee,lt=Ec({get:it,set:eo});Object.defineProperty(n,z,{enumerable:!0,configurable:!0,get:()=>lt.value,set:Oe=>lt.value=Oe})}if(l)for(const z in l)Tr(l[z],n,o,z);if(c){const z=D(c)?c.call(o):c;Reflect.ownKeys(z).forEach(W=>{Jl(W,z[W])})}h&&ps(h,e,"c");function ue(z,W){F(W)?W.forEach(it=>z(it.bind(o))):W&&z(W.bind(o))}if(ue(Ll,d),ue(Pr,p),ue(Fl,y),ue(Dl,m),ue(Ol,w),ue(Rl,k),ue(Hl,q),ue(jl,K),ue($l,J),ue(Kl,M),ue(Mr,H),ue(ql,$e),F(ee))if(ee.length){const z=e.exposed||(e.exposed={});ee.forEach(W=>{Object.defineProperty(z,W,{get:()=>o[W],set:it=>o[W]=it})})}else e.exposed||(e.exposed={});U&&e.render===Ee&&(e.render=U),ie!=null&&(e.inheritAttrs=ie),je&&(e.components=je),Xt&&(e.directives=Xt)}function Wl(e,t,o=Ee){F(e)&&(e=hn(e));for(const n in e){const s=e[n];let r;Z(s)?"default"in s?r=go(s.from||n,s.default,!0):r=go(s.from||n):r=go(s),me(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[n]=r}}function ps(e,t,o){Ae(F(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,o)}function Tr(e,t,o,n){const s=n.includes(".")?Sr(o,n):()=>o[n];if(se(e)){const r=t[e];D(r)&&ho(s,r)}else if(D(e))ho(s,e.bind(o));else if(Z(e))if(F(e))e.forEach(r=>Tr(r,t,o,n));else{const r=D(e.handler)?e.handler.bind(o):t[e.handler];D(r)&&ho(s,r,e)}}function Fn(e){const t=e.type,{mixins:o,extends:n}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!s.length&&!o&&!n?c=t:(c={},s.length&&s.forEach(a=>wo(c,a,i,!0)),wo(c,t,i)),Z(t)&&r.set(t,c),c}function wo(e,t,o,n=!1){const{mixins:s,extends:r}=t;r&&wo(e,r,o,!0),s&&s.forEach(i=>wo(e,i,o,!0));for(const i in t)if(!(n&&i==="expose")){const l=Gl[i]||o&&o[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Gl={data:gs,props:ms,emits:ms,methods:Dt,computed:Dt,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:Dt,directives:Dt,watch:zl,provide:gs,inject:Ql};function gs(e,t){return t?e?function(){return re(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function Ql(e,t){return Dt(hn(e),hn(t))}function hn(e){if(F(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function Dt(e,t){return e?re(Object.create(null),e,t):t}function ms(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:re(Object.create(null),ds(e),ds(t??{})):t}function zl(e,t){if(!e)return t;if(!t)return e;const o=re(Object.create(null),e);for(const n in t)o[n]=fe(e[n],t[n]);return o}function Ar(){return{app:null,config:{isNativeTag:ki,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yl=0;function Zl(e,t){return function(n,s=null){D(n)||(n=re({},n)),s!=null&&!Z(s)&&(s=null);const r=Ar(),i=new WeakSet;let l=!1;const c=r.app={_uid:Yl++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:xc,get config(){return r.config},set config(a){},use(a,...h){return i.has(a)||(a&&D(a.install)?(i.add(a),a.install(c,...h)):D(a)&&(i.add(a),a(c,...h))),c},mixin(a){return r.mixins.includes(a)||r.mixins.push(a),c},component(a,h){return h?(r.components[a]=h,c):r.components[a]},directive(a,h){return h?(r.directives[a]=h,c):r.directives[a]},mount(a,h,d){if(!l){const p=qe(n,s);return p.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),h&&t?t(p,a):e(p,a,d),l=!0,c._container=a,a.__vue_app__=c,qn(p.component)||p.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(a,h){return r.provides[a]=h,c},runWithContext(a){Co=c;try{return a()}finally{Co=null}}};return c}}let Co=null;function Jl(e,t){if(he){let o=he.provides;const n=he.parent&&he.parent.provides;n===o&&(o=he.provides=Object.create(n)),o[e]=t}}function go(e,t,o=!1){const n=he||Ke;if(n||Co){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Co._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return o&&D(t)?t.call(n&&n.proxy):t}}function Xl(e,t,o,n=!1){const s={},r={};_o(r,Ko,1),e.propsDefaults=Object.create(null),Ir(e,t,s,r);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);o?e.props=n?s:al(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function ec(e,t,o,n){const{props:s,attrs:r,vnode:{patchFlag:i}}=e,l=V(s),[c]=e.propsOptions;let a=!1;if((n||i>0)&&!(i&16)){if(i&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(Lo(e.emitsOptions,p))continue;const y=t[p];if(c)if(j(r,p))y!==r[p]&&(r[p]=y,a=!0);else{const m=Pt(p);s[m]=dn(c,l,m,y,e,!1)}else y!==r[p]&&(r[p]=y,a=!0)}}}else{Ir(e,t,s,r)&&(a=!0);let h;for(const d in l)(!t||!j(t,d)&&((h=It(d))===d||!j(t,h)))&&(c?o&&(o[d]!==void 0||o[h]!==void 0)&&(s[d]=dn(c,l,d,void 0,e,!0)):delete s[d]);if(r!==l)for(const d in r)(!t||!j(t,d))&&(delete r[d],a=!0)}a&&Ue(e,"set","$attrs")}function Ir(e,t,o,n){const[s,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(uo(c))continue;const a=t[c];let h;s&&j(s,h=Pt(c))?!r||!r.includes(h)?o[h]=a:(l||(l={}))[h]=a:Lo(e.emitsOptions,c)||(!(c in n)||a!==n[c])&&(n[c]=a,i=!0)}if(r){const c=V(o),a=l||Q;for(let h=0;h<r.length;h++){const d=r[h];o[d]=dn(s,c,d,a[d],e,!j(a,d))}}return i}function dn(e,t,o,n,s,r){const i=e[o];if(i!=null){const l=j(i,"default");if(l&&n===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&D(c)){const{propsDefaults:a}=s;if(o in a)n=a[o];else{const h=Zt(s);n=a[o]=c.call(null,t),h()}}else n=c}i[0]&&(r&&!l?n=!1:i[1]&&(n===""||n===It(o))&&(n=!0))}return n}function Or(e,t,o=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const r=e.props,i={},l=[];let c=!1;if(!D(e)){const h=d=>{c=!0;const[p,y]=Or(d,t,!0);re(i,p),y&&l.push(...y)};!o&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!c)return Z(e)&&n.set(e,Et),Et;if(F(r))for(let h=0;h<r.length;h++){const d=Pt(r[h]);bs(d)&&(i[d]=Q)}else if(r)for(const h in r){const d=Pt(h);if(bs(d)){const p=r[h],y=i[d]=F(p)||D(p)?{type:p}:re({},p);if(y){const m=ys(Boolean,y.type),w=ys(String,y.type);y[0]=m>-1,y[1]=w<0||m<w,(m>-1||j(y,"default"))&&l.push(d)}}}const a=[i,l];return Z(e)&&n.set(e,a),a}function bs(e){return e[0]!=="$"}function _s(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function vs(e,t){return _s(e)===_s(t)}function ys(e,t){return F(t)?t.findIndex(o=>vs(o,e)):D(t)&&vs(t,e)?0:-1}const Rr=e=>e[0]==="_"||e==="$stable",Dn=e=>F(e)?e.map(Fe):[Fe(e)],tc=(e,t,o)=>{if(t._n)return t;const n=wl((...s)=>Dn(t(...s)),o);return n._c=!1,n},Nr=(e,t,o)=>{const n=e._ctx;for(const s in e){if(Rr(s))continue;const r=e[s];if(D(r))t[s]=tc(s,r,n);else if(r!=null){const i=Dn(r);t[s]=()=>i}}},Lr=(e,t)=>{const o=Dn(t);e.slots.default=()=>o},oc=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=V(t),_o(t,"_",o)):Nr(t,e.slots={})}else e.slots={},t&&Lr(e,t);_o(e.slots,Ko,1)},nc=(e,t,o)=>{const{vnode:n,slots:s}=e;let r=!0,i=Q;if(n.shapeFlag&32){const l=t._;l?o&&l===1?r=!1:(re(s,t),!o&&l===1&&delete s._):(r=!t.$stable,Nr(t,s)),i=t}else t&&(Lr(e,t),i={default:1});if(r)for(const l in s)!Rr(l)&&i[l]==null&&delete s[l]};function pn(e,t,o,n,s=!1){if(F(e)){e.forEach((p,y)=>pn(p,t&&(F(t)?t[y]:t),o,n,s));return}if(po(n)&&!s)return;const r=n.shapeFlag&4?qn(n.component)||n.component.proxy:n.el,i=s?null:r,{i:l,r:c}=e,a=t&&t.r,h=l.refs===Q?l.refs={}:l.refs,d=l.setupState;if(a!=null&&a!==c&&(se(a)?(h[a]=null,j(d,a)&&(d[a]=null)):me(a)&&(a.value=null)),D(c))ot(c,l,12,[i,h]);else{const p=se(c),y=me(c),m=e.f;if(p||y){const w=()=>{if(m){const k=p?j(d,c)?d[c]:h[c]:c.value;s?F(k)&&En(k,r):F(k)?k.includes(r)||k.push(r):p?(h[c]=[r],j(d,c)&&(d[c]=h[c])):(c.value=[r],e.k&&(h[e.k]=c.value))}else p?(h[c]=i,j(d,c)&&(d[c]=i)):y&&(c.value=i,e.k&&(h[e.k]=i))};s||m?w():(w.id=-1,pe(w,o))}}}const pe=Ml;function sc(e){return rc(e)}function rc(e,t){const o=Qs();o.__VUE__=!0;const{insert:n,remove:s,patchProp:r,createElement:i,createText:l,createComment:c,setText:a,setElementText:h,parentNode:d,nextSibling:p,setScopeId:y=Ee,insertStaticContent:m}=e,w=(u,f,g,b=null,_=null,S=null,x=void 0,C=null,E=!!f.dynamicChildren)=>{if(u===f)return;u&&!Rt(u,f)&&(b=to(u),Oe(u,_,S,!0),u=null),f.patchFlag===-2&&(E=!1,f.dynamicChildren=null);const{type:v,ref:P,shapeFlag:A}=f;switch(v){case Do:k(u,f,g,b);break;case gt:R(u,f,g,b);break;case zo:u==null&&M(f,g,b,x);break;case Me:je(u,f,g,b,_,S,x,C,E);break;default:A&1?U(u,f,g,b,_,S,x,C,E):A&6?Xt(u,f,g,b,_,S,x,C,E):(A&64||A&128)&&v.process(u,f,g,b,_,S,x,C,E,wt)}P!=null&&_&&pn(P,u&&u.ref,S,f||u,!f)},k=(u,f,g,b)=>{if(u==null)n(f.el=l(f.children),g,b);else{const _=f.el=u.el;f.children!==u.children&&a(_,f.children)}},R=(u,f,g,b)=>{u==null?n(f.el=c(f.children||""),g,b):f.el=u.el},M=(u,f,g,b)=>{[u.el,u.anchor]=m(u.children,f,g,b,u.el,u.anchor)},I=({el:u,anchor:f},g,b)=>{let _;for(;u&&u!==f;)_=p(u),n(u,g,b),u=_;n(f,g,b)},H=({el:u,anchor:f})=>{let g;for(;u&&u!==f;)g=p(u),s(u),u=g;s(f)},U=(u,f,g,b,_,S,x,C,E)=>{f.type==="svg"?x="svg":f.type==="math"&&(x="mathml"),u==null?K(f,g,b,_,S,x,C,E):$e(u,f,_,S,x,C,E)},K=(u,f,g,b,_,S,x,C)=>{let E,v;const{props:P,shapeFlag:A,transition:T,dirs:N}=u;if(E=u.el=i(u.type,S,P&&P.is,P),A&8?h(E,u.children):A&16&&q(u.children,E,null,b,_,Qo(u,S),x,C),N&&ct(u,null,b,"created"),J(E,u,u.scopeId,x,b),P){for(const B in P)B!=="value"&&!uo(B)&&r(E,B,null,P[B],S,u.children,b,_,He);"value"in P&&r(E,"value",null,P.value,S),(v=P.onVnodeBeforeMount)&&Ne(v,b,u)}N&&ct(u,null,b,"beforeMount");const $=ic(_,T);$&&T.beforeEnter(E),n(E,f,g),((v=P&&P.onVnodeMounted)||$||N)&&pe(()=>{v&&Ne(v,b,u),$&&T.enter(E),N&&ct(u,null,b,"mounted")},_)},J=(u,f,g,b,_)=>{if(g&&y(u,g),b)for(let S=0;S<b.length;S++)y(u,b[S]);if(_){let S=_.subTree;if(f===S){const x=_.vnode;J(u,x,x.scopeId,x.slotScopeIds,_.parent)}}},q=(u,f,g,b,_,S,x,C,E=0)=>{for(let v=E;v<u.length;v++){const P=u[v]=C?Je(u[v]):Fe(u[v]);w(null,P,f,g,b,_,S,x,C)}},$e=(u,f,g,b,_,S,x)=>{const C=f.el=u.el;let{patchFlag:E,dynamicChildren:v,dirs:P}=f;E|=u.patchFlag&16;const A=u.props||Q,T=f.props||Q;let N;if(g&&at(g,!1),(N=T.onVnodeBeforeUpdate)&&Ne(N,g,f,u),P&&ct(f,u,g,"beforeUpdate"),g&&at(g,!0),v?ee(u.dynamicChildren,v,C,g,b,Qo(f,_),S):x||W(u,f,C,null,g,b,Qo(f,_),S,!1),E>0){if(E&16)ie(C,f,A,T,g,b,_);else if(E&2&&A.class!==T.class&&r(C,"class",null,T.class,_),E&4&&r(C,"style",A.style,T.style,_),E&8){const $=f.dynamicProps;for(let B=0;B<$.length;B++){const G=$[B],te=A[G],ke=T[G];(ke!==te||G==="value")&&r(C,G,te,ke,_,u.children,g,b,He)}}E&1&&u.children!==f.children&&h(C,f.children)}else!x&&v==null&&ie(C,f,A,T,g,b,_);((N=T.onVnodeUpdated)||P)&&pe(()=>{N&&Ne(N,g,f,u),P&&ct(f,u,g,"updated")},b)},ee=(u,f,g,b,_,S,x)=>{for(let C=0;C<f.length;C++){const E=u[C],v=f[C],P=E.el&&(E.type===Me||!Rt(E,v)||E.shapeFlag&70)?d(E.el):g;w(E,v,P,null,b,_,S,x,!0)}},ie=(u,f,g,b,_,S,x)=>{if(g!==b){if(g!==Q)for(const C in g)!uo(C)&&!(C in b)&&r(u,C,g[C],null,x,f.children,_,S,He);for(const C in b){if(uo(C))continue;const E=b[C],v=g[C];E!==v&&C!=="value"&&r(u,C,v,E,x,f.children,_,S,He)}"value"in b&&r(u,"value",g.value,b.value,x)}},je=(u,f,g,b,_,S,x,C,E)=>{const v=f.el=u?u.el:l(""),P=f.anchor=u?u.anchor:l("");let{patchFlag:A,dynamicChildren:T,slotScopeIds:N}=f;N&&(C=C?C.concat(N):N),u==null?(n(v,g,b),n(P,g,b),q(f.children||[],g,P,_,S,x,C,E)):A>0&&A&64&&T&&u.dynamicChildren?(ee(u.dynamicChildren,T,g,_,S,x,C),(f.key!=null||_&&f===_.subTree)&&Fr(u,f,!0)):W(u,f,g,P,_,S,x,C,E)},Xt=(u,f,g,b,_,S,x,C,E)=>{f.slotScopeIds=C,u==null?f.shapeFlag&512?_.ctx.activate(f,g,b,x,E):$o(f,g,b,_,S,x,E):Zn(u,f,E)},$o=(u,f,g,b,_,S,x)=>{const C=u.component=_c(u,b,_);if(xr(u)&&(C.ctx.renderer=wt),vc(C),C.asyncDep){if(_&&_.registerDep(C,ue),!u.el){const E=C.subTree=qe(gt);R(null,E,f,g)}}else ue(C,u,f,g,_,S,x)},Zn=(u,f,g)=>{const b=f.component=u.component;if(El(u,f,g))if(b.asyncDep&&!b.asyncResolved){z(b,f,g);return}else b.next=f,bl(b.update),b.effect.dirty=!0,b.update();else f.el=u.el,b.vnode=f},ue=(u,f,g,b,_,S,x)=>{const C=()=>{if(u.isMounted){let{next:P,bu:A,u:T,parent:N,vnode:$}=u;{const Ct=Dr(u);if(Ct){P&&(P.el=$.el,z(u,P,x)),Ct.asyncDep.then(()=>{u.isUnmounted||C()});return}}let B=P,G;at(u,!1),P?(P.el=$.el,z(u,P,x)):P=$,A&&Uo(A),(G=P.props&&P.props.onVnodeBeforeUpdate)&&Ne(G,N,P,$),at(u,!0);const te=Wo(u),ke=u.subTree;u.subTree=te,w(ke,te,d(ke.el),to(ke),u,_,S),P.el=te.el,B===null&&xl(u,te.el),T&&pe(T,_),(G=P.props&&P.props.onVnodeUpdated)&&pe(()=>Ne(G,N,P,$),_)}else{let P;const{el:A,props:T}=f,{bm:N,m:$,parent:B}=u,G=po(f);if(at(u,!1),N&&Uo(N),!G&&(P=T&&T.onVnodeBeforeMount)&&Ne(P,B,f),at(u,!0),A&&Vo){const te=()=>{u.subTree=Wo(u),Vo(A,u.subTree,u,_,null)};G?f.type.__asyncLoader().then(()=>!u.isUnmounted&&te()):te()}else{const te=u.subTree=Wo(u);w(null,te,g,b,u,_,S),f.el=te.el}if($&&pe($,_),!G&&(P=T&&T.onVnodeMounted)){const te=f;pe(()=>Ne(P,B,te),_)}(f.shapeFlag&256||B&&po(B.vnode)&&B.vnode.shapeFlag&256)&&u.a&&pe(u.a,_),u.isMounted=!0,f=g=b=null}},E=u.effect=new Pn(C,Ee,()=>Ln(v),u.scope),v=u.update=()=>{E.dirty&&E.run()};v.id=u.uid,at(u,!0),v()},z=(u,f,g)=>{f.component=u;const b=u.vnode.props;u.vnode=f,u.next=null,ec(u,f.props,b,g),nc(u,f.children,g),bt(),fs(u),_t()},W=(u,f,g,b,_,S,x,C,E=!1)=>{const v=u&&u.children,P=u?u.shapeFlag:0,A=f.children,{patchFlag:T,shapeFlag:N}=f;if(T>0){if(T&128){eo(v,A,g,b,_,S,x,C,E);return}else if(T&256){it(v,A,g,b,_,S,x,C,E);return}}N&8?(P&16&&He(v,_,S),A!==v&&h(g,A)):P&16?N&16?eo(v,A,g,b,_,S,x,C,E):He(v,_,S,!0):(P&8&&h(g,""),N&16&&q(A,g,b,_,S,x,C,E))},it=(u,f,g,b,_,S,x,C,E)=>{u=u||Et,f=f||Et;const v=u.length,P=f.length,A=Math.min(v,P);let T;for(T=0;T<A;T++){const N=f[T]=E?Je(f[T]):Fe(f[T]);w(u[T],N,g,null,_,S,x,C,E)}v>P?He(u,_,S,!0,!1,A):q(f,g,b,_,S,x,C,E,A)},eo=(u,f,g,b,_,S,x,C,E)=>{let v=0;const P=f.length;let A=u.length-1,T=P-1;for(;v<=A&&v<=T;){const N=u[v],$=f[v]=E?Je(f[v]):Fe(f[v]);if(Rt(N,$))w(N,$,g,null,_,S,x,C,E);else break;v++}for(;v<=A&&v<=T;){const N=u[A],$=f[T]=E?Je(f[T]):Fe(f[T]);if(Rt(N,$))w(N,$,g,null,_,S,x,C,E);else break;A--,T--}if(v>A){if(v<=T){const N=T+1,$=N<P?f[N].el:b;for(;v<=T;)w(null,f[v]=E?Je(f[v]):Fe(f[v]),g,$,_,S,x,C,E),v++}}else if(v>T)for(;v<=A;)Oe(u[v],_,S,!0),v++;else{const N=v,$=v,B=new Map;for(v=$;v<=T;v++){const ve=f[v]=E?Je(f[v]):Fe(f[v]);ve.key!=null&&B.set(ve.key,v)}let G,te=0;const ke=T-$+1;let Ct=!1,es=0;const Ot=new Array(ke);for(v=0;v<ke;v++)Ot[v]=0;for(v=N;v<=A;v++){const ve=u[v];if(te>=ke){Oe(ve,_,S,!0);continue}let Re;if(ve.key!=null)Re=B.get(ve.key);else for(G=$;G<=T;G++)if(Ot[G-$]===0&&Rt(ve,f[G])){Re=G;break}Re===void 0?Oe(ve,_,S,!0):(Ot[Re-$]=v+1,Re>=es?es=Re:Ct=!0,w(ve,f[Re],g,null,_,S,x,C,E),te++)}const ts=Ct?lc(Ot):Et;for(G=ts.length-1,v=ke-1;v>=0;v--){const ve=$+v,Re=f[ve],os=ve+1<P?f[ve+1].el:b;Ot[v]===0?w(null,Re,g,os,_,S,x,C,E):Ct&&(G<0||v!==ts[G]?lt(Re,g,os,2):G--)}}},lt=(u,f,g,b,_=null)=>{const{el:S,type:x,transition:C,children:E,shapeFlag:v}=u;if(v&6){lt(u.component.subTree,f,g,b);return}if(v&128){u.suspense.move(f,g,b);return}if(v&64){x.move(u,f,g,wt);return}if(x===Me){n(S,f,g);for(let A=0;A<E.length;A++)lt(E[A],f,g,b);n(u.anchor,f,g);return}if(x===zo){I(u,f,g);return}if(b!==2&&v&1&&C)if(b===0)C.beforeEnter(S),n(S,f,g),pe(()=>C.enter(S),_);else{const{leave:A,delayLeave:T,afterLeave:N}=C,$=()=>n(S,f,g),B=()=>{A(S,()=>{$(),N&&N()})};T?T(S,$,B):B()}else n(S,f,g)},Oe=(u,f,g,b=!1,_=!1)=>{const{type:S,props:x,ref:C,children:E,dynamicChildren:v,shapeFlag:P,patchFlag:A,dirs:T}=u;if(C!=null&&pn(C,null,g,u,!0),P&256){f.ctx.deactivate(u);return}const N=P&1&&T,$=!po(u);let B;if($&&(B=x&&x.onVnodeBeforeUnmount)&&Ne(B,f,u),P&6)Si(u.component,g,b);else{if(P&128){u.suspense.unmount(g,b);return}N&&ct(u,null,f,"beforeUnmount"),P&64?u.type.remove(u,f,g,_,wt,b):v&&(S!==Me||A>0&&A&64)?He(v,f,g,!1,!0):(S===Me&&A&384||!_&&P&16)&&He(E,f,g),b&&Jn(u)}($&&(B=x&&x.onVnodeUnmounted)||N)&&pe(()=>{B&&Ne(B,f,u),N&&ct(u,null,f,"unmounted")},g)},Jn=u=>{const{type:f,el:g,anchor:b,transition:_}=u;if(f===Me){Ci(g,b);return}if(f===zo){H(u);return}const S=()=>{s(g),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(u.shapeFlag&1&&_&&!_.persisted){const{leave:x,delayLeave:C}=_,E=()=>x(g,S);C?C(u.el,S,E):E()}else S()},Ci=(u,f)=>{let g;for(;u!==f;)g=p(u),s(u),u=g;s(f)},Si=(u,f,g)=>{const{bum:b,scope:_,update:S,subTree:x,um:C}=u;b&&Uo(b),_.stop(),S&&(S.active=!1,Oe(x,u,f,g)),C&&pe(C,f),pe(()=>{u.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},He=(u,f,g,b=!1,_=!1,S=0)=>{for(let x=S;x<u.length;x++)Oe(u[x],f,g,b,_)},to=u=>u.shapeFlag&6?to(u.component.subTree):u.shapeFlag&128?u.suspense.next():p(u.anchor||u.el);let jo=!1;const Xn=(u,f,g)=>{u==null?f._vnode&&Oe(f._vnode,null,null,!0):w(f._vnode||null,u,f,null,null,null,g),jo||(jo=!0,fs(),_r(),jo=!1),f._vnode=u},wt={p:w,um:Oe,m:lt,r:Jn,mt:$o,mc:q,pc:W,pbc:ee,n:to,o:e};let Ho,Vo;return t&&([Ho,Vo]=t(wt)),{render:Xn,hydrate:Ho,createApp:Zl(Xn,Ho)}}function Qo({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function at({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function ic(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fr(e,t,o=!1){const n=e.children,s=t.children;if(F(n)&&F(s))for(let r=0;r<n.length;r++){const i=n[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=Je(s[r]),l.el=i.el),o||Fr(i,l)),l.type===Do&&(l.el=i.el)}}function lc(e){const t=e.slice(),o=[0];let n,s,r,i,l;const c=e.length;for(n=0;n<c;n++){const a=e[n];if(a!==0){if(s=o[o.length-1],e[s]<a){t[n]=s,o.push(n);continue}for(r=0,i=o.length-1;r<i;)l=r+i>>1,e[o[l]]<a?r=l+1:i=l;a<e[o[r]]&&(r>0&&(t[n]=o[r-1]),o[r]=n)}}for(r=o.length,i=o[r-1];r-- >0;)o[r]=i,i=t[i];return o}function Dr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Dr(t)}const cc=e=>e.__isTeleport,Me=Symbol.for("v-fgt"),Do=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),zo=Symbol.for("v-stc"),jt=[];let Te=null;function Tt(e=!1){jt.push(Te=e?null:[])}function ac(){jt.pop(),Te=jt[jt.length-1]||null}let Wt=1;function ws(e){Wt+=e}function Kr(e){return e.dynamicChildren=Wt>0?Te||Et:null,ac(),Wt>0&&Te&&Te.push(e),e}function So(e,t,o,n,s,r){return Kr(Ie(e,t,o,n,s,r,!0))}function qr(e,t,o,n,s){return Kr(qe(e,t,o,n,s,!0))}function uc(e){return e?e.__v_isVNode===!0:!1}function Rt(e,t){return e.type===t.type&&e.key===t.key}const Ko="__vInternal",$r=({key:e})=>e??null,mo=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?se(e)||me(e)||D(e)?{i:Ke,r:e,k:t,f:!!o}:e:null);function Ie(e,t=null,o=null,n=0,s=null,r=e===Me?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$r(t),ref:t&&mo(t),scopeId:wr,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ke};return l?(Kn(c,o),r&128&&e.normalize(c)):o&&(c.shapeFlag|=se(o)?8:16),Wt>0&&!i&&Te&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Te.push(c),c}const qe=fc;function fc(e,t=null,o=null,n=0,s=null,r=!1){if((!e||e===kl)&&(e=gt),uc(e)){const l=At(e,t,!0);return o&&Kn(l,o),Wt>0&&!r&&Te&&(l.shapeFlag&6?Te[Te.indexOf(e)]=l:Te.push(l)),l.patchFlag|=-2,l}if(Sc(e)&&(e=e.__vccOpts),t){t=hc(t);let{class:l,style:c}=t;l&&!se(l)&&(t.class=Yt(l)),Z(c)&&(ar(c)&&!F(c)&&(c=re({},c)),t.style=kn(c))}const i=se(e)?1:Pl(e)?128:cc(e)?64:Z(e)?4:D(e)?2:0;return Ie(e,t,o,n,s,i,r,!0)}function hc(e){return e?ar(e)||Ko in e?re({},e):e:null}function At(e,t,o=!1){const{props:n,ref:s,patchFlag:r,children:i}=e,l=t?gc(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&$r(l),ref:t&&t.ref?o&&s?F(s)?s.concat(mo(t)):[s,mo(t)]:mo(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&At(e.ssContent),ssFallback:e.ssFallback&&At(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function dc(e=" ",t=0){return qe(Do,null,e,t)}function pc(e="",t=!1){return t?(Tt(),qr(gt,null,e)):qe(gt,null,e)}function Fe(e){return e==null||typeof e=="boolean"?qe(gt):F(e)?qe(Me,null,e.slice()):typeof e=="object"?Je(e):qe(Do,null,String(e))}function Je(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:At(e)}function Kn(e,t){let o=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(F(t))o=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Kn(e,s()),s._c&&(s._d=!0));return}else{o=32;const s=t._;!s&&!(Ko in t)?t._ctx=Ke:s===3&&Ke&&(Ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else D(t)?(t={default:t,_ctx:Ke},o=32):(t=String(t),n&64?(o=16,t=[dc(t)]):o=8);e.children=t,e.shapeFlag|=o}function gc(...e){const t={};for(let o=0;o<e.length;o++){const n=e[o];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Yt([t.class,n.class]));else if(s==="style")t.style=kn([t.style,n.style]);else if(To(s)){const r=t[s],i=n[s];i&&r!==i&&!(F(r)&&r.includes(i))&&(t[s]=r?[].concat(r,i):i)}else s!==""&&(t[s]=n[s])}return t}function Ne(e,t,o,n=null){Ae(e,t,7,[o,n])}const mc=Ar();let bc=0;function _c(e,t,o){const n=e.type,s=(t?t.appContext:e.appContext)||mc,r={uid:bc++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Or(n,s),emitsOptions:yr(n,s),emit:null,emitted:null,propsDefaults:Q,inheritAttrs:n.inheritAttrs,ctx:Q,data:Q,props:Q,attrs:Q,slots:Q,refs:Q,setupState:Q,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=yl.bind(null,r),e.ce&&e.ce(r),r}let he=null,Eo,gn;{const e=Qs(),t=(o,n)=>{let s;return(s=e[o])||(s=e[o]=[]),s.push(n),r=>{s.length>1?s.forEach(i=>i(r)):s[0](r)}};Eo=t("__VUE_INSTANCE_SETTERS__",o=>he=o),gn=t("__VUE_SSR_SETTERS__",o=>qo=o)}const Zt=e=>{const t=he;return Eo(e),e.scope.on(),()=>{e.scope.off(),Eo(t)}},Cs=()=>{he&&he.scope.off(),Eo(null)};function jr(e){return e.vnode.shapeFlag&4}let qo=!1;function vc(e,t=!1){t&&gn(t);const{props:o,children:n}=e.vnode,s=jr(e);Xl(e,o,s,t),oc(e,n);const r=s?yc(e,t):void 0;return t&&gn(!1),r}function yc(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=ur(new Proxy(e.ctx,Bl));const{setup:n}=o;if(n){const s=e.setupContext=n.length>1?Cc(e):null,r=Zt(e);bt();const i=ot(n,e,0,[e.props,s]);if(_t(),r(),Ws(i)){if(i.then(Cs,Cs),t)return i.then(l=>{Ss(e,l,t)}).catch(l=>{No(l,e,0)});e.asyncDep=i}else Ss(e,i,t)}else Hr(e,t)}function Ss(e,t,o){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Z(t)&&(e.setupState=pr(t)),Hr(e,o)}let Es;function Hr(e,t,o){const n=e.type;if(!e.render){if(!t&&Es&&!n.render){const s=n.template||Fn(e).template;if(s){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=n,a=re(re({isCustomElement:r,delimiters:l},i),c);n.render=Es(s,a)}}e.render=n.render||Ee}{const s=Zt(e);bt();try{Ul(e)}finally{_t(),s()}}}function wc(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,o){return ge(e,"get","$attrs"),t[o]}}))}function Cc(e){const t=o=>{e.exposed=o||{}};return{get attrs(){return wc(e)},slots:e.slots,emit:e.emit,expose:t}}function qn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pr(ur(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in $t)return $t[o](e)},has(t,o){return o in t||o in $t}}))}function Sc(e){return D(e)&&"__vccOpts"in e}const Ec=(e,t)=>ul(e,t,qo),xc="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const kc="http://www.w3.org/2000/svg",Pc="http://www.w3.org/1998/Math/MathML",Xe=typeof document<"u"?document:null,xs=Xe&&Xe.createElement("template"),Mc={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,n)=>{const s=t==="svg"?Xe.createElementNS(kc,e):t==="mathml"?Xe.createElementNS(Pc,e):Xe.createElement(e,o?{is:o}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>Xe.createTextNode(e),createComment:e=>Xe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,n,s,r){const i=o?o.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),o),!(s===r||!(s=s.nextSibling)););else{xs.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const l=xs.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,o)}return[i?i.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},Tc=Symbol("_vtc");function Ac(e,t,o){const n=e[Tc];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const Ic=Symbol("_vod"),Oc=Symbol("");function Rc(e,t,o){const n=e.style,s=n.display,r=se(o);if(o&&!r){if(t&&!se(t))for(const i in t)o[i]==null&&mn(n,i,"");for(const i in o)mn(n,i,o[i])}else if(r){if(t!==o){const i=n[Oc];i&&(o+=";"+i),n.cssText=o}}else t&&e.removeAttribute("style");Ic in e&&(n.display=s)}const ks=/\s*!important$/;function mn(e,t,o){if(F(o))o.forEach(n=>mn(e,t,n));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const n=Nc(e,t);ks.test(o)?e.setProperty(It(n),o.replace(ks,""),"important"):e[n]=o}}const Ps=["Webkit","Moz","ms"],Yo={};function Nc(e,t){const o=Yo[t];if(o)return o;let n=Pt(t);if(n!=="filter"&&n in e)return Yo[t]=n;n=Gs(n);for(let s=0;s<Ps.length;s++){const r=Ps[s]+n;if(r in e)return Yo[t]=r}return t}const Ms="http://www.w3.org/1999/xlink";function Lc(e,t,o,n,s){if(n&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(Ms,t.slice(6,t.length)):e.setAttributeNS(Ms,t,o);else{const r=$i(t);o==null||r&&!zs(o)?e.removeAttribute(t):e.setAttribute(t,r?"":o)}}function Fc(e,t,o,n,s,r,i){if(t==="innerHTML"||t==="textContent"){n&&i(n,s,r),e[t]=o??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=o;const a=l==="OPTION"?e.getAttribute("value"):e.value,h=o??"";a!==h&&(e.value=h),o==null&&e.removeAttribute(t);return}let c=!1;if(o===""||o==null){const a=typeof e[t];a==="boolean"?o=zs(o):o==null&&a==="string"?(o="",c=!0):a==="number"&&(o=0,c=!0)}try{e[t]=o}catch{}c&&e.removeAttribute(t)}function Dc(e,t,o,n){e.addEventListener(t,o,n)}function Kc(e,t,o,n){e.removeEventListener(t,o,n)}const Ts=Symbol("_vei");function qc(e,t,o,n,s=null){const r=e[Ts]||(e[Ts]={}),i=r[t];if(n&&i)i.value=n;else{const[l,c]=$c(t);if(n){const a=r[t]=Vc(n,s);Dc(e,l,a,c)}else i&&(Kc(e,l,i,c),r[t]=void 0)}}const As=/(?:Once|Passive|Capture)$/;function $c(e){let t;if(As.test(e)){t={};let n;for(;n=e.match(As);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):It(e.slice(2)),t]}let Zo=0;const jc=Promise.resolve(),Hc=()=>Zo||(jc.then(()=>Zo=0),Zo=Date.now());function Vc(e,t){const o=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=o.attached)return;Ae(Bc(n,o.value),t,5,[n])};return o.value=e,o.attached=Hc(),o}function Bc(e,t){if(F(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const Is=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Uc=(e,t,o,n,s,r,i,l,c)=>{const a=s==="svg";t==="class"?Ac(e,n,a):t==="style"?Rc(e,o,n):To(t)?Sn(t)||qc(e,t,o,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Wc(e,t,n,a))?Fc(e,t,n,r,i,l,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Lc(e,t,n,a))};function Wc(e,t,o,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Is(t)&&D(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Is(t)&&se(o)?!1:t in e}const Gc=re({patchProp:Uc},Mc);let Os;function Qc(){return Os||(Os=sc(Gc))}const zc=(...e)=>{const t=Qc().createApp(...e),{mount:o}=t;return t.mount=n=>{const s=Zc(n);if(!s)return;const r=t._component;!D(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const i=o(s,!1,Yc(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t};function Yc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Zc(e){return se(e)?document.querySelector(e):e}const Jc={class:"promotion-dialog",open:""},Xc=["aria-label","onClick","onTouchstartPassive"],ea=Er({__name:"PromotionDialog",props:{state:{}},emits:["promotionSelected"],setup(e,{emit:t}){const o=e,n=[{name:"Queen",data:"q"},{name:"Knight",data:"n"},{name:"Rook",data:"r"},{name:"Bishop",data:"b"}];function s(r){var i,l;(l=(i=o.state).callback)==null||l.call(i,r.data),t("promotionSelected")}return(r,i)=>(Tt(),So("dialog",Jc,[(Tt(),So(Me,null,Vl(n,l=>Ie("button",{key:l.name,type:"button",class:Yt([l.name.toLowerCase(),r.state.color]),"aria-label":l.name,onClick:c=>s(l),onTouchstartPassive:c=>s(l)},null,42,Xc)),64))]))}});/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const ce="w",Ce="b",oe="p",bn="n",bo="b",Kt="r",et="q",ne="k",Jo="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",ye=-1,ta={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},oa=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],O={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},L={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Xo={b:[16,32,17,15],w:[-16,-32,-17,-15]},Rs={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},na=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],sa=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],ra={p:1,n:2,b:4,r:8,q:16,k:32},ia="pnbrqkPNBRQK",Ns=[bn,bo,Kt,et],la=7,ca=6,aa=1,ua=0,co={[ne]:O.KSIDE_CASTLE,[et]:O.QSIDE_CASTLE},Qe={w:[{square:L.a1,flag:O.QSIDE_CASTLE},{square:L.h1,flag:O.KSIDE_CASTLE}],b:[{square:L.a8,flag:O.QSIDE_CASTLE},{square:L.h8,flag:O.KSIDE_CASTLE}]},fa={b:aa,w:ca},ha=["1-0","0-1","1/2-1/2","*"];function pt(e){return e>>4}function Gt(e){return e&15}function Vr(e){return"0123456789".indexOf(e)!==-1}function we(e){const t=Gt(e),o=pt(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(o,o+1)}function Nt(e){return e===ce?Ce:ce}function da(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const o=parseInt(t[5],10);if(isNaN(o)||o<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(t[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=t[0].split("/");if(s.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let i=0;i<s.length;i++){let l=0,c=!1;for(let a=0;a<s[i].length;a++)if(Vr(s[i][a])){if(c)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(s[i][a],10),c=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[i][a]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,c=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const r=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:i,regex:l}of r){if(!l.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${i} king`};if((t[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${i} kings`}}return{ok:!0}}function pa(e,t){const o=e.from,n=e.to,s=e.piece;let r=0,i=0,l=0;for(let c=0,a=t.length;c<a;c++){const h=t[c].from,d=t[c].to,p=t[c].piece;s===p&&o!==h&&n===d&&(r++,pt(o)===pt(h)&&i++,Gt(o)===Gt(h)&&l++)}return r>0?i>0&&l>0?we(o):l>0?we(o).charAt(1):we(o).charAt(0):""}function ze(e,t,o,n,s,r=void 0,i=O.NORMAL){const l=pt(n);if(s===oe&&(l===la||l===ua))for(let c=0;c<Ns.length;c++){const a=Ns[c];e.push({color:t,from:o,to:n,piece:s,captured:r,promotion:a,flags:i|O.PROMOTION})}else e.push({color:t,from:o,to:n,piece:s,captured:r,flags:i})}function Ls(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:oe:(t=t.toLowerCase(),t==="o"?ne:t)}function en(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class ga{constructor(t=Jo){le(this,"_board",new Array(128));le(this,"_turn",ce);le(this,"_header",{});le(this,"_kings",{w:ye,b:ye});le(this,"_epSquare",-1);le(this,"_halfMoves",0);le(this,"_moveNumber",0);le(this,"_history",[]);le(this,"_comments",{});le(this,"_castling",{w:0,b:0});this.load(t)}clear(t=!1){this._board=new Array(128),this._kings={w:ye,b:ye},this._turn=ce,this._castling={w:0,b:0},this._epSquare=ye,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._updateSetup(this.fen())}removeHeader(t){t in this._header&&delete this._header[t]}load(t,o=!1){let n=t.split(/\s+/);if(n.length>=2&&n.length<6){const c=["-","-","0","1"];t=n.concat(c.slice(-(6-n.length))).join(" ")}n=t.split(/\s+/);const{ok:s,error:r}=da(t);if(!s)throw new Error(r);const i=n[0];let l=0;this.clear(o);for(let c=0;c<i.length;c++){const a=i.charAt(c);if(a==="/")l+=8;else if(Vr(a))l+=parseInt(a,10);else{const h=a<"a"?ce:Ce;this.put({type:a.toLowerCase(),color:h},we(l)),l++}}this._turn=n[1],n[2].indexOf("K")>-1&&(this._castling.w|=O.KSIDE_CASTLE),n[2].indexOf("Q")>-1&&(this._castling.w|=O.QSIDE_CASTLE),n[2].indexOf("k")>-1&&(this._castling.b|=O.KSIDE_CASTLE),n[2].indexOf("q")>-1&&(this._castling.b|=O.QSIDE_CASTLE),this._epSquare=n[3]==="-"?ye:L[n[3]],this._halfMoves=parseInt(n[4],10),this._moveNumber=parseInt(n[5],10),this._updateSetup(this.fen())}fen(){var r,i;let t=0,o="";for(let l=L.a8;l<=L.h1;l++){if(this._board[l]){t>0&&(o+=t,t=0);const{color:c,type:a}=this._board[l];o+=c===ce?a.toUpperCase():a.toLowerCase()}else t++;l+1&136&&(t>0&&(o+=t),l!==L.h1&&(o+="/"),t=0,l+=8)}let n="";this._castling[ce]&O.KSIDE_CASTLE&&(n+="K"),this._castling[ce]&O.QSIDE_CASTLE&&(n+="Q"),this._castling[Ce]&O.KSIDE_CASTLE&&(n+="k"),this._castling[Ce]&O.QSIDE_CASTLE&&(n+="q"),n=n||"-";let s="-";if(this._epSquare!==ye){const l=this._epSquare+(this._turn===ce?16:-16),c=[l+1,l-1];for(const a of c){if(a&136)continue;const h=this._turn;if(((r=this._board[a])==null?void 0:r.color)===h&&((i=this._board[a])==null?void 0:i.type)===oe){this._makeMove({color:h,from:a,to:this._epSquare,piece:oe,captured:oe,flags:O.EP_CAPTURE});const d=!this._isKingAttacked(h);if(this._undoMove(),d){s=we(this._epSquare);break}}}}return[o,this._turn,n,s,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==Jo?(this._header.SetUp="1",this._header.FEN=t):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(Jo)}get(t){return this._board[L[t]]||!1}put({type:t,color:o},n){if(ia.indexOf(t.toLowerCase())===-1||!(n in L))return!1;const s=L[n];return t==ne&&!(this._kings[o]==ye||this._kings[o]==s)?!1:(this._board[s]={type:t,color:o},t===ne&&(this._kings[o]=s),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}remove(t){const o=this.get(t);return delete this._board[L[t]],o&&o.type===ne&&(this._kings[o.color]=ye),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),o}_updateCastlingRights(){var n,s,r,i,l,c,a,h,d,p,y,m;const t=((n=this._board[L.e1])==null?void 0:n.type)===ne&&((s=this._board[L.e1])==null?void 0:s.color)===ce,o=((r=this._board[L.e8])==null?void 0:r.type)===ne&&((i=this._board[L.e8])==null?void 0:i.color)===Ce;(!t||((l=this._board[L.a1])==null?void 0:l.type)!==Kt||((c=this._board[L.a1])==null?void 0:c.color)!==ce)&&(this._castling.w&=~O.QSIDE_CASTLE),(!t||((a=this._board[L.h1])==null?void 0:a.type)!==Kt||((h=this._board[L.h1])==null?void 0:h.color)!==ce)&&(this._castling.w&=~O.KSIDE_CASTLE),(!o||((d=this._board[L.a8])==null?void 0:d.type)!==Kt||((p=this._board[L.a8])==null?void 0:p.color)!==Ce)&&(this._castling.b&=~O.QSIDE_CASTLE),(!o||((y=this._board[L.h8])==null?void 0:y.type)!==Kt||((m=this._board[L.h8])==null?void 0:m.color)!==Ce)&&(this._castling.b&=~O.KSIDE_CASTLE)}_updateEnPassantSquare(){var r,i;if(this._epSquare===ye)return;const t=this._epSquare+(this._turn===ce?-16:16),o=this._epSquare+(this._turn===ce?16:-16),n=[o+1,o-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((r=this._board[o])==null?void 0:r.color)!==Nt(this._turn)||((i=this._board[o])==null?void 0:i.type)!==oe){this._epSquare=ye;return}const s=l=>{var c,a;return!(l&136)&&((c=this._board[l])==null?void 0:c.color)===this._turn&&((a=this._board[l])==null?void 0:a.type)===oe};n.some(s)||(this._epSquare=ye)}_attacked(t,o){for(let n=L.a8;n<=L.h1;n++){if(n&136){n+=7;continue}if(this._board[n]===void 0||this._board[n].color!==t)continue;const s=this._board[n],r=n-o;if(r===0)continue;const i=r+119;if(na[i]&ra[s.type]){if(s.type===oe){if(r>0){if(s.color===ce)return!0}else if(s.color===Ce)return!0;continue}if(s.type==="n"||s.type==="k")return!0;const l=sa[i];let c=n+l,a=!1;for(;c!==o;){if(this._board[c]!=null){a=!0;break}c+=l}if(!a)return!0}}return!1}_isKingAttacked(t){const o=this._kings[t];return o===-1?!1:this._attacked(Nt(t),o)}isAttacked(t,o){return this._attacked(o,L[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},o=[];let n=0,s=0;for(let r=L.a8;r<=L.h1;r++){if(s=(s+1)%2,r&136){r+=7;continue}const i=this._board[r];i&&(t[i.type]=i.type in t?t[i.type]+1:1,i.type===bo&&o.push(s),n++)}if(n===2||n===3&&(t[bo]===1||t[bn]===1))return!0;if(n===t[bo]+2){let r=0;const i=o.length;for(let l=0;l<i;l++)r+=o[l];if(r===0||r===i)return!0}return!1}isThreefoldRepetition(){const t=[],o={};let n=!1;for(;;){const s=this._undoMove();if(!s)break;t.push(s)}for(;;){const s=this.fen().split(" ").slice(0,4).join(" ");o[s]=s in o?o[s]+1:1,o[s]>=3&&(n=!0);const r=t.pop();if(r)this._makeMove(r);else break}return n}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:o=void 0,piece:n=void 0}={}){const s=this._moves({square:o,piece:n});return t?s.map(r=>this._makePretty(r)):s.map(r=>this._moveToSan(r,s))}_moves({legal:t=!0,piece:o=void 0,square:n=void 0}={}){var y;const s=n?n.toLowerCase():void 0,r=o==null?void 0:o.toLowerCase(),i=[],l=this._turn,c=Nt(l);let a=L.a8,h=L.h1,d=!1;if(s)if(s in L)a=h=L[s],d=!0;else return[];for(let m=a;m<=h;m++){if(m&136){m+=7;continue}if(!this._board[m]||this._board[m].color===c)continue;const{type:w}=this._board[m];let k;if(w===oe){if(r&&r!==w)continue;k=m+Xo[l][0],this._board[k]||(ze(i,l,m,k,oe),k=m+Xo[l][1],fa[l]===pt(m)&&!this._board[k]&&ze(i,l,m,k,oe,void 0,O.BIG_PAWN));for(let R=2;R<4;R++)k=m+Xo[l][R],!(k&136)&&(((y=this._board[k])==null?void 0:y.color)===c?ze(i,l,m,k,oe,this._board[k].type,O.CAPTURE):k===this._epSquare&&ze(i,l,m,k,oe,oe,O.EP_CAPTURE))}else{if(r&&r!==w)continue;for(let R=0,M=Rs[w].length;R<M;R++){const I=Rs[w][R];for(k=m;k+=I,!(k&136);){if(!this._board[k])ze(i,l,m,k,w);else{if(this._board[k].color===l)break;ze(i,l,m,k,w,this._board[k].type,O.CAPTURE);break}if(w===bn||w===ne)break}}}}if((r===void 0||r===ne)&&(!d||h===this._kings[l])){if(this._castling[l]&O.KSIDE_CASTLE){const m=this._kings[l],w=m+2;!this._board[m+1]&&!this._board[w]&&!this._attacked(c,this._kings[l])&&!this._attacked(c,m+1)&&!this._attacked(c,w)&&ze(i,l,this._kings[l],w,ne,void 0,O.KSIDE_CASTLE)}if(this._castling[l]&O.QSIDE_CASTLE){const m=this._kings[l],w=m-2;!this._board[m-1]&&!this._board[m-2]&&!this._board[m-3]&&!this._attacked(c,this._kings[l])&&!this._attacked(c,m-1)&&!this._attacked(c,w)&&ze(i,l,this._kings[l],w,ne,void 0,O.QSIDE_CASTLE)}}if(!t||this._kings[l]===-1)return i;const p=[];for(let m=0,w=i.length;m<w;m++)this._makeMove(i[m]),this._isKingAttacked(l)||p.push(i[m]),this._undoMove();return p}move(t,{strict:o=!1}={}){let n=null;if(typeof t=="string")n=this._moveFromSan(t,o);else if(typeof t=="object"){const r=this._moves();for(let i=0,l=r.length;i<l;i++)if(t.from===we(r[i].from)&&t.to===we(r[i].to)&&(!("promotion"in r[i])||t.promotion===r[i].promotion)){n=r[i];break}}if(!n)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const s=this._makePretty(n);return this._makeMove(n),s}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const o=this._turn,n=Nt(o);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&O.EP_CAPTURE&&(this._turn===Ce?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:o}),this._board[t.to].type===ne){if(this._kings[o]=t.to,t.flags&O.KSIDE_CASTLE){const s=t.to-1,r=t.to+1;this._board[s]=this._board[r],delete this._board[r]}else if(t.flags&O.QSIDE_CASTLE){const s=t.to+1,r=t.to-2;this._board[s]=this._board[r],delete this._board[r]}this._castling[o]=0}if(this._castling[o]){for(let s=0,r=Qe[o].length;s<r;s++)if(t.from===Qe[o][s].square&&this._castling[o]&Qe[o][s].flag){this._castling[o]^=Qe[o][s].flag;break}}if(this._castling[n]){for(let s=0,r=Qe[n].length;s<r;s++)if(t.to===Qe[n][s].square&&this._castling[n]&Qe[n][s].flag){this._castling[n]^=Qe[n][s].flag;break}}t.flags&O.BIG_PAWN?o===Ce?this._epSquare=t.to-16:this._epSquare=t.to+16:this._epSquare=ye,t.piece===oe?this._halfMoves=0:t.flags&(O.CAPTURE|O.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,o===Ce&&this._moveNumber++,this._turn=n}undo(){const t=this._undoMove();return t?this._makePretty(t):null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;const o=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const n=this._turn,s=Nt(n);if(this._board[o.from]=this._board[o.to],this._board[o.from].type=o.piece,delete this._board[o.to],o.captured)if(o.flags&O.EP_CAPTURE){let r;n===Ce?r=o.to-16:r=o.to+16,this._board[r]={type:oe,color:s}}else this._board[o.to]={type:o.captured,color:s};if(o.flags&(O.KSIDE_CASTLE|O.QSIDE_CASTLE)){let r,i;o.flags&O.KSIDE_CASTLE?(r=o.to+1,i=o.to-1):(r=o.to-2,i=o.to+1),this._board[r]=this._board[i],delete this._board[i]}return o}pgn({newline:t=`
`,maxWidth:o=0}={}){const n=[];let s=!1;for(const p in this._header)n.push("["+p+' "'+this._header[p]+'"]'+t),s=!0;s&&this._history.length&&n.push(t);const r=p=>{const y=this._comments[this.fen()];if(typeof y<"u"){const m=p.length>0?" ":"";p=`${p}${m}{${y}}`}return p},i=[];for(;this._history.length>0;)i.push(this._undoMove());const l=[];let c="";for(i.length===0&&l.push(r(""));i.length>0;){c=r(c);const p=i.pop();if(!p)break;if(!this._history.length&&p.color==="b"){const y=`${this._moveNumber}. ...`;c=c?`${c} ${y}`:y}else p.color==="w"&&(c.length&&l.push(c),c=this._moveNumber+".");c=c+" "+this._moveToSan(p,this._moves({legal:!0})),this._makeMove(p)}if(c.length&&l.push(r(c)),typeof this._header.Result<"u"&&l.push(this._header.Result),o===0)return n.join("")+l.join(" ");const a=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},h=function(p,y){for(const m of y.split(" "))if(m){if(p+m.length>o){for(;a();)p--;n.push(t),p=0}n.push(m),p+=m.length,n.push(" "),p++}return a()&&p--,p};let d=0;for(let p=0;p<l.length;p++){if(d+l[p].length>o&&l[p].includes("{")){d=h(d,l[p]);continue}d+l[p].length>o&&p!==0?(n[n.length-1]===" "&&n.pop(),n.push(t),d=0):p!==0&&(n.push(" "),d++),n.push(l[p]),d+=l[p].length}return n.join("")}header(...t){for(let o=0;o<t.length;o+=2)typeof t[o]=="string"&&typeof t[o+1]=="string"&&(this._header[t[o]]=t[o+1]);return this._header}loadPgn(t,{strict:o=!1,newlineChar:n=`\r?
`}={}){function s(M){return M.replace(/\\/g,"\\")}function r(M){const I={},H=M.split(new RegExp(s(n)));let U="",K="";for(let J=0;J<H.length;J++){const q=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;U=H[J].replace(q,"$1"),K=H[J].replace(q,"$2"),U.trim().length>0&&(I[U]=K)}return I}t=t.trim();const i=new RegExp("^(\\[((?:"+s(n)+")|.)*\\])((?:\\s*"+s(n)+"){2}|(?:\\s*"+s(n)+")*$)").exec(t),l=i&&i.length>=2?i[1]:"";this.reset();const c=r(l);let a="";for(const M in c)M.toLowerCase()==="fen"&&(a=c[M]),this.header(M,c[M]);if(!o)a&&this.load(a,!0);else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,!0)}function h(M){return Array.from(M).map(function(I){return I.charCodeAt(0)<128?I.charCodeAt(0).toString(16):encodeURIComponent(I).replace(/%/g,"").toLowerCase()}).join("")}function d(M){return M.length==0?"":decodeURIComponent("%"+(M.match(/.{1,2}/g)||[]).join("%"))}const p=function(M){return M=M.replace(new RegExp(s(n),"g")," "),`{${h(M.slice(1,M.length-1))}}`},y=function(M){if(M.startsWith("{")&&M.endsWith("}"))return d(M.slice(1,M.length-1))};let m=t.replace(l,"").replace(new RegExp(`({[^}]*})+?|;([^${s(n)}]*)`,"g"),function(M,I,H){return I!==void 0?p(I):" "+p(`{${H.slice(1)}}`)}).replace(new RegExp(s(n),"g")," ");const w=/(\([^()]+\))+?/g;for(;w.test(m);)m=m.replace(w,"");m=m.replace(/\d+\.(\.\.)?/g,""),m=m.replace(/\.\.\./g,""),m=m.replace(/\$\d+/g,"");let k=m.trim().split(new RegExp(/\s+/));k=k.filter(M=>M!=="");let R="";for(let M=0;M<k.length;M++){const I=y(k[M]);if(I!==void 0){this._comments[this.fen()]=I;continue}const H=this._moveFromSan(k[M],o);if(H==null)if(ha.indexOf(k[M])>-1)R=k[M];else throw new Error(`Invalid move in PGN: ${k[M]}`);else R="",this._makeMove(H)}R&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",R)}_moveToSan(t,o){let n="";if(t.flags&O.KSIDE_CASTLE)n="O-O";else if(t.flags&O.QSIDE_CASTLE)n="O-O-O";else{if(t.piece!==oe){const s=pa(t,o);n+=t.piece.toUpperCase()+s}t.flags&(O.CAPTURE|O.EP_CAPTURE)&&(t.piece===oe&&(n+=we(t.from)[0]),n+="x"),n+=we(t.to),t.promotion&&(n+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(t,o=!1){const n=en(t);let s=Ls(n),r=this._moves({legal:!0,piece:s});for(let p=0,y=r.length;p<y;p++)if(n===en(this._moveToSan(r[p],r)))return r[p];if(o)return null;let i,l,c,a,h,d=!1;if(l=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(i=l[1],c=l[2],a=l[3],h=l[4],c.length==1&&(d=!0)):(l=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(i=l[1],c=l[2],a=l[3],h=l[4],c.length==1&&(d=!0))),s=Ls(n),r=this._moves({legal:!0,piece:i||s}),!a)return null;for(let p=0,y=r.length;p<y;p++)if(c){if((!i||i.toLowerCase()==r[p].piece)&&L[c]==r[p].from&&L[a]==r[p].to&&(!h||h.toLowerCase()==r[p].promotion))return r[p];if(d){const m=we(r[p].from);if((!i||i.toLowerCase()==r[p].piece)&&L[a]==r[p].to&&(c==m[0]||c==m[1])&&(!h||h.toLowerCase()==r[p].promotion))return r[p]}}else if(n===en(this._moveToSan(r[p],r)).replace("x",""))return r[p];return null}ascii(){let t=`   +------------------------+
`;for(let o=L.a8;o<=L.h1;o++){if(Gt(o)===0&&(t+=" "+"87654321"[pt(o)]+" |"),this._board[o]){const n=this._board[o].type,s=this._board[o].color===ce?n.toUpperCase():n.toLowerCase();t+=" "+s+" "}else t+=" . ";o+1&136&&(t+=`|
`,o+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const o=this._moves({legal:!1});let n=0;const s=this._turn;for(let r=0,i=o.length;r<i;r++)this._makeMove(o[r]),this._isKingAttacked(s)||(t-1>0?n+=this.perft(t-1):n++),this._undoMove();return n}_makePretty(t){const{color:o,piece:n,from:s,to:r,flags:i,captured:l,promotion:c}=t;let a="";for(const y in O)O[y]&i&&(a+=ta[y]);const h=we(s),d=we(r),p={color:o,piece:n,from:h,to:d,san:this._moveToSan(t,this._moves({legal:!0})),flags:a,lan:h+d,before:this.fen(),after:""};return this._makeMove(t),p.after=this.fen(),this._undoMove(),l&&(p.captured=l),c&&(p.promotion=c,p.lan+=c),p}turn(){return this._turn}board(){const t=[];let o=[];for(let n=L.a8;n<=L.h1;n++)this._board[n]==null?o.push(null):o.push({square:we(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(t.push(o),o=[],n+=8);return t}squareColor(t){if(t in L){const o=L[t];return(pt(o)+Gt(o))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const o=[],n=[];for(;this._history.length>0;)o.push(this._undoMove());for(;;){const s=o.pop();if(!s)break;t?n.push(this._makePretty(s)):n.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return n}_pruneComments(){const t=[],o={},n=s=>{s in this._comments&&(o[s]=this._comments[s])};for(;this._history.length>0;)t.push(this._undoMove());for(n(this.fen());;){const s=t.pop();if(!s)break;this._makeMove(s),n(this.fen())}this._comments=o}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const o=this._comments[t];return delete this._comments[t],{fen:t,comment:o}})}setCastlingRights(t,o){for(const s of[ne,et])o[s]!==void 0&&(o[s]?this._castling[t]|=co[s]:this._castling[t]&=~co[s]);this._updateCastlingRights();const n=this.getCastlingRights(t);return(o[ne]===void 0||o[ne]===n[ne])&&(o[et]===void 0||o[et]===n[et])}getCastlingRights(t){return{[ne]:(this._castling[t]&co[ne])!==0,[et]:(this._castling[t]&co[et])!==0}}moveNumber(){return this._moveNumber}}function ma(e){const t=[];for(const o of e)t.push({orig:o.to,brush:"yellow"}),o.captured&&t.push({orig:o.from,dest:o.to,brush:"red"}),o.san.includes("+")&&t.push({orig:o.from,dest:o.to,brush:"blue"});return t}function ao(e){return e==="w"?"white":"black"}function Fs(e){const t=new Map;for(const o of oa){const n=e.moves({square:o,verbose:!0});n.length&&t.set(n[0].from,n.map(s=>s.to))}return t}function ba(e,t){if((t==null?void 0:t.type)!=="p")return!1;const o=(t==null?void 0:t.color)==="w"?"8":"1";return e[1]===o}function Qt(e){return!!e&&e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)}function xo(e){return Qt(e)?Object.fromEntries(Object.entries(e).map(([t,o])=>[t,xo(o)])):e}function Br(e,t){const o={...e,...t};for(const n in o)o[n]=Qt(e==null?void 0:e[n])&&Qt(t==null?void 0:t[n])?Br(e[n],t[n]):xo(o[n]);return o}function Ur(e,t){const o={};for(const n in t)if(Qt(e==null?void 0:e[n])&&Qt(t==null?void 0:t[n])){const s=Ur(e[n],t[n]);Object.keys(s).length>0&&(o[n]=s)}else(e==null?void 0:e[n])!==t[n]&&(o[n]=t[n]);return o}const _a={p:"pawn",n:"knight",b:"bishop",r:"rook",q:"queen",k:"king"},va=new Map([["b1",["a3","c3"]],["g1",["f3","h3"]],["a2",["a3","a4"]],["b2",["b3","b4"]],["c2",["c3","c4"]],["d2",["d3","d4"]],["e2",["e3","e4"]],["f2",["f3","f4"]],["g2",["g3","g4"]],["h2",["h3","h4"]]]),ya="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",wa={fen:ya,orientation:"white",turnColor:"white",coordinates:!1,autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:300},lastMove:void 0,movable:{free:!1,color:"white",showDests:!0,dests:va,events:{after:()=>{},afterNewPiece:void 0},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{set:void 0,unset:void 0}},predroppable:{enabled:!1,events:{set:void 0,unset:void 0}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},selectable:{enabled:!0},events:{change:void 0,move:void 0,dropNewPiece:void 0,select:void 0,insert:void 0},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}}}},Ca=["white","black"],$n=["a","b","c","d","e","f","g","h"],jn=["1","2","3","4","5","6","7","8"],Sa=[...jn].reverse(),Hn=Array.prototype.concat(...$n.map(e=>jn.map(t=>e+t))),Se=e=>Hn[8*e[0]+e[1]],Y=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],Wr=Hn.map(Y);function Ea(e){let t;const o=()=>(t===void 0&&(t=e()),t);return o.clear=()=>{t=void 0},o}const xa=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},Vn=e=>e==="white"?"black":"white",zt=(e,t)=>{const o=e[0]-t[0],n=e[1]-t[1];return o*o+n*n},_n=(e,t)=>e.role===t.role&&e.color===t.color,Jt=e=>(t,o)=>[(o?t[0]:7-t[0])*e.width/8,(o?7-t[1]:t[1])*e.height/8],Le=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},Gr=(e,t,o=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${o})`},Bn=(e,t)=>{e.style.visibility=t?"visible":"hidden"},vt=e=>{var t;if(e.clientX||e.clientX===0)return[e.clientX,e.clientY];if(!((t=e.targetTouches)===null||t===void 0)&&t[0])return[e.targetTouches[0].clientX,e.targetTouches[0].clientY]},Qr=e=>e.buttons===2||e.button===2,Be=(e,t)=>{const o=document.createElement(e);return t&&(o.className=t),o};function zr(e,t,o){const n=Y(e);return t||(n[0]=7-n[0],n[1]=7-n[1]),[o.left+o.width*n[0]/8+o.width/16,o.top+o.height*(7-n[1])/8+o.height/16]}const mt=(e,t)=>Math.abs(e-t),ka=e=>(t,o,n,s)=>mt(t,n)<2&&(e==="white"?s===o+1||o<=1&&s===o+2&&t===n:s===o-1||o>=6&&s===o-2&&t===n),Yr=(e,t,o,n)=>{const s=mt(e,o),r=mt(t,n);return s===1&&r===2||s===2&&r===1},Zr=(e,t,o,n)=>mt(e,o)===mt(t,n),Jr=(e,t,o,n)=>e===o||t===n,Xr=(e,t,o,n)=>Zr(e,t,o,n)||Jr(e,t,o,n),Pa=(e,t,o)=>(n,s,r,i)=>mt(n,r)<2&&mt(s,i)<2||o&&s===i&&s===(e==="white"?0:7)&&(n===4&&(r===2&&t.includes(0)||r===6&&t.includes(7))||t.includes(r));function Ma(e,t){const o=t==="white"?"1":"8",n=[];for(const[s,r]of e)s[1]===o&&r.color===t&&r.role==="rook"&&n.push(Y(s)[0]);return n}function ei(e,t,o){const n=e.get(t);if(!n)return[];const s=Y(t),r=n.role,i=r==="pawn"?ka(n.color):r==="knight"?Yr:r==="bishop"?Zr:r==="rook"?Jr:r==="queen"?Xr:Pa(n.color,Ma(e,n.color),o);return Wr.filter(l=>(s[0]!==l[0]||s[1]!==l[1])&&i(s[0],s[1],l[0],l[1])).map(Se)}function be(e,...t){e&&setTimeout(()=>e(...t),1)}function Ta(e){e.orientation=Vn(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}function Aa(e,t){for(const[o,n]of t)n?e.pieces.set(o,n):e.pieces.delete(o)}function Ia(e,t){if(e.check=void 0,t===!0&&(t=e.turnColor),t)for(const[o,n]of e.pieces)n.role==="king"&&n.color===t&&(e.check=o)}function Oa(e,t,o,n){rt(e),e.premovable.current=[t,o],be(e.premovable.events.set,t,o,n)}function st(e){e.premovable.current&&(e.premovable.current=void 0,be(e.premovable.events.unset))}function Ra(e,t,o){st(e),e.predroppable.current={role:t,key:o},be(e.predroppable.events.set,t,o)}function rt(e){const t=e.predroppable;t.current&&(t.current=void 0,be(t.events.unset))}function Na(e,t,o){if(!e.autoCastle)return!1;const n=e.pieces.get(t);if(!n||n.role!=="king")return!1;const s=Y(t),r=Y(o);if(s[1]!==0&&s[1]!==7||s[1]!==r[1])return!1;s[0]===4&&!e.pieces.has(o)&&(r[0]===6?o=Se([7,r[1]]):r[0]===2&&(o=Se([0,r[1]])));const i=e.pieces.get(o);return!i||i.color!==n.color||i.role!=="rook"?!1:(e.pieces.delete(t),e.pieces.delete(o),s[0]<r[0]?(e.pieces.set(Se([6,r[1]]),n),e.pieces.set(Se([5,r[1]]),i)):(e.pieces.set(Se([2,r[1]]),n),e.pieces.set(Se([3,r[1]]),i)),!0)}function ti(e,t,o){const n=e.pieces.get(t),s=e.pieces.get(o);if(t===o||!n)return!1;const r=s&&s.color!==n.color?s:void 0;return o===e.selected&&xe(e),be(e.events.move,t,o,r),Na(e,t,o)||(e.pieces.set(o,n),e.pieces.delete(t)),e.lastMove=[t,o],e.check=void 0,be(e.events.change),r||!0}function Un(e,t,o,n){if(e.pieces.has(o))if(n)e.pieces.delete(o);else return!1;return be(e.events.dropNewPiece,t,o),e.pieces.set(o,t),e.lastMove=[o],e.check=void 0,be(e.events.change),e.movable.dests=void 0,e.turnColor=Vn(e.turnColor),!0}function oi(e,t,o){const n=ti(e,t,o);return n&&(e.movable.dests=void 0,e.turnColor=Vn(e.turnColor),e.animation.current=void 0),n}function ni(e,t,o){if(Wn(e,t,o)){const n=oi(e,t,o);if(n){const s=e.hold.stop();xe(e);const r={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:s};return n!==!0&&(r.captured=n),be(e.movable.events.after,t,o,r),!0}}else if(Fa(e,t,o))return Oa(e,t,o,{ctrlKey:e.stats.ctrlKey}),xe(e),!0;return xe(e),!1}function si(e,t,o,n){const s=e.pieces.get(t);s&&(La(e,t,o)||n)?(e.pieces.delete(t),Un(e,s,o,n),be(e.movable.events.afterNewPiece,s.role,o,{premove:!1,predrop:!1})):s&&Da(e,t,o)?Ra(e,s.role,o):(st(e),rt(e)),e.pieces.delete(t),xe(e)}function vn(e,t,o){if(be(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled){xe(e),e.hold.cancel();return}else if((e.selectable.enabled||o)&&e.selected!==t&&ni(e,e.selected,t)){e.stats.dragged=!1;return}}(e.selectable.enabled||e.draggable.enabled)&&(ii(e,t)||Gn(e,t))&&(ri(e,t),e.hold.start())}function ri(e,t){e.selected=t,Gn(e,t)?e.premovable.customDests||(e.premovable.dests=ei(e.pieces,t,e.premovable.castle)):e.premovable.dests=void 0}function xe(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function ii(e,t){const o=e.pieces.get(t);return!!o&&(e.movable.color==="both"||e.movable.color===o.color&&e.turnColor===o.color)}const Wn=(e,t,o)=>{var n,s;return t!==o&&ii(e,t)&&(e.movable.free||!!(!((s=(n=e.movable.dests)===null||n===void 0?void 0:n.get(t))===null||s===void 0)&&s.includes(o)))};function La(e,t,o){const n=e.pieces.get(t);return!!n&&(t===o||!e.pieces.has(o))&&(e.movable.color==="both"||e.movable.color===n.color&&e.turnColor===n.color)}function Gn(e,t){const o=e.pieces.get(t);return!!o&&e.premovable.enabled&&e.movable.color===o.color&&e.turnColor!==o.color}function Fa(e,t,o){var n,s;const r=(s=(n=e.premovable.customDests)===null||n===void 0?void 0:n.get(t))!==null&&s!==void 0?s:ei(e.pieces,t,e.premovable.castle);return t!==o&&Gn(e,t)&&r.includes(o)}function Da(e,t,o){const n=e.pieces.get(t),s=e.pieces.get(o);return!!n&&(!s||s.color!==e.movable.color)&&e.predroppable.enabled&&(n.role!=="pawn"||o[1]!=="1"&&o[1]!=="8")&&e.movable.color===n.color&&e.turnColor!==n.color}function Ka(e,t){const o=e.pieces.get(t);return!!o&&e.draggable.enabled&&(e.movable.color==="both"||e.movable.color===o.color&&(e.turnColor===o.color||e.premovable.enabled))}function qa(e){const t=e.premovable.current;if(!t)return!1;const o=t[0],n=t[1];let s=!1;if(Wn(e,o,n)){const r=oi(e,o,n);if(r){const i={premove:!0};r!==!0&&(i.captured=r),be(e.movable.events.after,o,n,i),s=!0}}return st(e),s}function $a(e,t){const o=e.predroppable.current;let n=!1;if(!o)return!1;if(t(o)){const s={role:o.role,color:e.movable.color};Un(e,s,o.key)&&(be(e.movable.events.afterNewPiece,o.role,o.key,{premove:!1,predrop:!0}),n=!0)}return rt(e),n}function Qn(e){st(e),rt(e),xe(e)}function Ds(e){e.movable.color=e.movable.dests=e.animation.current=void 0,Qn(e)}function yt(e,t,o){let n=Math.floor(8*(e[0]-o.left)/o.width);t||(n=7-n);let s=7-Math.floor(8*(e[1]-o.top)/o.height);return t||(s=7-s),n>=0&&n<8&&s>=0&&s<8?Se([n,s]):void 0}function ja(e,t,o,n){const s=Y(e),r=Wr.filter(c=>Xr(s[0],s[1],c[0],c[1])||Yr(s[0],s[1],c[0],c[1])),i=r.map(c=>zr(Se(c),o,n)).map(c=>zt(t,c)),[,l]=i.reduce((c,a,h)=>c[0]<a?c:[a,h],[i[0],0]);return Se(r[l])}const _e=e=>e.orientation==="white",li="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",Ha={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},Va={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function ci(e){e==="start"&&(e=li);const t=new Map;let o=7,n=0;for(const s of e)switch(s){case" ":case"[":return t;case"/":if(--o,o<0)return t;n=0;break;case"~":{const r=t.get(Se([n-1,o]));r&&(r.promoted=!0);break}default:{const r=s.charCodeAt(0);if(r<57)n+=r-48;else{const i=s.toLowerCase();t.set(Se([n,o]),{role:Ha[i],color:s===i?"black":"white"}),++n}}}return t}function Ba(e){return Sa.map(t=>$n.map(o=>{const n=e.get(o+t);if(n){let s=Va[n.role];return n.color==="white"&&(s=s.toUpperCase()),n.promoted&&(s+="~"),s}else return"1"}).join("")).join("/").replace(/1{2,}/g,t=>t.length.toString())}function ai(e,t){t.animation&&(zn(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function ui(e,t){var o,n,s;if(!((o=t.movable)===null||o===void 0)&&o.dests&&(e.movable.dests=void 0),!((n=t.drawable)===null||n===void 0)&&n.autoShapes&&(e.drawable.autoShapes=[]),zn(e,t),t.fen&&(e.pieces=ci(t.fen),e.drawable.shapes=((s=t.drawable)===null||s===void 0?void 0:s.shapes)||[]),"check"in t&&Ia(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&ri(e,e.selected),ai(e,t),!e.movable.rookCastle&&e.movable.dests){const r=e.movable.color==="white"?"1":"8",i="e"+r,l=e.movable.dests.get(i),c=e.pieces.get(i);if(!l||!c||c.role!=="king")return;e.movable.dests.set(i,l.filter(a=>!(a==="a"+r&&l.includes("c"+r))&&!(a==="h"+r&&l.includes("g"+r))))}}function zn(e,t){for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(Object.prototype.hasOwnProperty.call(e,o)&&Ks(e[o])&&Ks(t[o])?zn(e[o],t[o]):e[o]=t[o])}function Ks(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}const ut=(e,t)=>t.animation.enabled?Ga(e,t):Ye(e,t);function Ye(e,t){const o=e(t);return t.dom.redraw(),o}const tn=(e,t)=>({key:e,pos:Y(e),piece:t}),Ua=(e,t)=>t.sort((o,n)=>zt(e.pos,o.pos)-zt(e.pos,n.pos))[0];function Wa(e,t){const o=new Map,n=[],s=new Map,r=[],i=[],l=new Map;let c,a,h;for(const[d,p]of e)l.set(d,tn(d,p));for(const d of Hn)c=t.pieces.get(d),a=l.get(d),c?a?_n(c,a.piece)||(r.push(a),i.push(tn(d,c))):i.push(tn(d,c)):a&&r.push(a);for(const d of i)a=Ua(d,r.filter(p=>_n(d.piece,p.piece))),a&&(h=[a.pos[0]-d.pos[0],a.pos[1]-d.pos[1]],o.set(d.key,h.concat(h)),n.push(a.key));for(const d of r)n.includes(d.key)||s.set(d.key,d.piece);return{anims:o,fadings:s}}function fi(e,t){const o=e.animation.current;if(o===void 0){e.dom.destroyed||e.dom.redrawNow();return}const n=1-(t-o.start)*o.frequency;if(n<=0)e.animation.current=void 0,e.dom.redrawNow();else{const s=Qa(n);for(const r of o.plan.anims.values())r[2]=r[0]*s,r[3]=r[1]*s;e.dom.redrawNow(!0),requestAnimationFrame((r=performance.now())=>fi(e,r))}}function Ga(e,t){const o=new Map(t.pieces),n=e(t),s=Wa(o,t);if(s.anims.size||s.fadings.size){const r=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:s},r||fi(t,performance.now())}else t.dom.redraw();return n}const Qa=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,za=["green","red","blue","yellow"];function Ya(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?xe(e):Qn(e);const o=vt(t),n=yt(o,_e(e),e.dom.bounds());n&&(e.drawable.current={orig:n,pos:o,brush:eu(t),snapToValidMove:e.drawable.defaultSnapToValidMove},hi(e))}function hi(e){requestAnimationFrame(()=>{const t=e.drawable.current;if(t){const o=yt(t.pos,_e(e),e.dom.bounds());o||(t.snapToValidMove=!1);const n=t.snapToValidMove?ja(t.orig,t.pos,_e(e),e.dom.bounds()):o;n!==t.mouseSq&&(t.mouseSq=n,t.dest=n!==t.orig?n:void 0,e.dom.redrawNow()),hi(e)}})}function Za(e,t){e.drawable.current&&(e.drawable.current.pos=vt(t))}function Ja(e){const t=e.drawable.current;t&&(t.mouseSq&&tu(e.drawable,t),di(e))}function di(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function Xa(e){e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),pi(e.drawable))}function eu(e){var t;const o=(e.shiftKey||e.ctrlKey)&&Qr(e),n=e.altKey||e.metaKey||((t=e.getModifierState)===null||t===void 0?void 0:t.call(e,"AltGraph"));return za[(o?1:0)+(n?2:0)]}function tu(e,t){const o=s=>s.orig===t.orig&&s.dest===t.dest,n=e.shapes.find(o);n&&(e.shapes=e.shapes.filter(s=>!o(s))),(!n||n.brush!==t.brush)&&e.shapes.push({orig:t.orig,dest:t.dest,brush:t.brush}),pi(e)}function pi(e){e.onChange&&e.onChange(e.shapes)}function ou(e,t){if(!(e.trustAllEvents||t.isTrusted)||t.button!==void 0&&t.button!==0||t.touches&&t.touches.length>1)return;const o=e.dom.bounds(),n=vt(t),s=yt(n,_e(e),o);if(!s)return;const r=e.pieces.get(s),i=e.selected;if(!i&&e.drawable.enabled&&(e.drawable.eraseOnClick||!r||r.color!==e.turnColor)&&Xa(e),t.cancelable!==!1&&(!t.touches||e.blockTouchScroll||r||i||nu(e,n)))t.preventDefault();else if(t.touches)return;const l=!!e.premovable.current,c=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&Wn(e,e.selected,s)?ut(d=>vn(d,s),e):vn(e,s);const a=e.selected===s,h=mi(e,s);if(r&&h&&a&&Ka(e,s)){e.draggable.current={orig:s,piece:r,origPos:n,pos:n,started:e.draggable.autoDistance&&e.stats.dragged,element:h,previouslySelected:i,originTarget:t.target,keyHasChanged:!1},h.cgDragging=!0,h.classList.add("dragging");const d=e.dom.elements.ghost;d&&(d.className=`ghost ${r.color} ${r.role}`,Le(d,Jt(o)(Y(s),_e(e))),Bn(d,!0)),Yn(e)}else l&&st(e),c&&rt(e);e.dom.redraw()}function nu(e,t){const o=_e(e),n=e.dom.bounds(),s=Math.pow(n.width/8,2);for(const r of e.pieces.keys()){const i=zr(r,o,n);if(zt(i,t)<=s)return!0}return!1}function su(e,t,o,n){const s="a0";e.pieces.set(s,t),e.dom.redraw();const r=vt(o);e.draggable.current={orig:s,piece:t,origPos:r,pos:r,started:!0,element:()=>mi(e,s),originTarget:o.target,newPiece:!0,force:!!n,keyHasChanged:!1},Yn(e)}function Yn(e){requestAnimationFrame(()=>{var t;const o=e.draggable.current;if(!o)return;!((t=e.animation.current)===null||t===void 0)&&t.plan.anims.has(o.orig)&&(e.animation.current=void 0);const n=e.pieces.get(o.orig);if(!n||!_n(n,o.piece))ko(e);else if(!o.started&&zt(o.pos,o.origPos)>=Math.pow(e.draggable.distance,2)&&(o.started=!0),o.started){if(typeof o.element=="function"){const r=o.element();if(!r)return;r.cgDragging=!0,r.classList.add("dragging"),o.element=r}const s=e.dom.bounds();Le(o.element,[o.pos[0]-s.left-s.width/16,o.pos[1]-s.top-s.height/16]),o.keyHasChanged||(o.keyHasChanged=o.orig!==yt(o.pos,_e(e),s))}Yn(e)})}function ru(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=vt(t))}function iu(e,t){const o=e.draggable.current;if(!o)return;if(t.type==="touchend"&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchend"&&o.originTarget!==t.target&&!o.newPiece){e.draggable.current=void 0;return}st(e),rt(e);const n=vt(t)||o.pos,s=yt(n,_e(e),e.dom.bounds());s&&o.started&&o.orig!==s?o.newPiece?si(e,o.orig,s,o.force):(e.stats.ctrlKey=t.ctrlKey,ni(e,o.orig,s)&&(e.stats.dragged=!0)):o.newPiece?e.pieces.delete(o.orig):e.draggable.deleteOnDropOff&&!s&&(e.pieces.delete(o.orig),be(e.events.change)),(o.orig===o.previouslySelected||o.keyHasChanged)&&(o.orig===s||!s)?xe(e):e.selectable.enabled||xe(e),gi(e),e.draggable.current=void 0,e.dom.redraw()}function ko(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,xe(e),gi(e),e.dom.redraw())}function gi(e){const t=e.dom.elements;t.ghost&&Bn(t.ghost,!1)}function mi(e,t){let o=e.dom.elements.board.firstChild;for(;o;){if(o.cgKey===t&&o.tagName==="PIECE")return o;o=o.nextSibling}}function lu(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout(()=>{qs(e,2),setTimeout(()=>qs(e,void 0),120)},120)}function qs(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function cu(e,t){function o(){Ta(e),t()}return{set(n){n.orientation&&n.orientation!==e.orientation&&o(),ai(e,n),(n.fen?ut:Ye)(s=>ui(s,n),e)},state:e,getFen:()=>Ba(e.pieces),toggleOrientation:o,setPieces(n){ut(s=>Aa(s,n),e)},selectSquare(n,s){n?ut(r=>vn(r,n,s),e):e.selected&&(xe(e),e.dom.redraw())},move(n,s){ut(r=>ti(r,n,s),e)},newPiece(n,s){ut(r=>Un(r,n,s),e)},playPremove(){if(e.premovable.current){if(ut(qa,e))return!0;e.dom.redraw()}return!1},playPredrop(n){if(e.predroppable.current){const s=$a(e,n);return e.dom.redraw(),s}return!1},cancelPremove(){Ye(st,e)},cancelPredrop(){Ye(rt,e)},cancelMove(){Ye(n=>{Qn(n),ko(n)},e)},stop(){Ye(n=>{Ds(n),ko(n)},e)},explode(n){lu(e,n)},setAutoShapes(n){Ye(s=>s.drawable.autoShapes=n,e)},setShapes(n){Ye(s=>s.drawable.shapes=n,e)},getKeyAtDomPos(n){return yt(n,_e(e),e.dom.bounds())},redrawAll:t,dragNewPiece(n,s,r){su(e,n,s,r)},destroy(){Ds(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}function au(){return{pieces:ci(li),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,trustAllEvents:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15},purple:{key:"purp",color:"#68217a",opacity:.65,lineWidth:10},pink:{key:"pink",color:"#ee2080",opacity:.5,lineWidth:10},hilite:{key:"hilite",color:"#fff",opacity:1,lineWidth:1}},prevSvgHash:""},hold:xa()}}function uu(){const e=X("defs"),t=de(X("filter"),{id:"cg-filter-blur"});return t.appendChild(de(X("feGaussianBlur"),{stdDeviation:"0.022"})),e.appendChild(t),e}function fu(e,t,o){var n;const s=e.drawable,r=s.current,i=r&&r.mouseSq?r:void 0,l=new Map,c=e.dom.bounds(),a=s.autoShapes.filter(y=>!y.piece);for(const y of s.shapes.concat(a).concat(i?[i]:[])){if(!y.dest)continue;const m=(n=l.get(y.dest))!==null&&n!==void 0?n:new Set,w=Mo(Po(Y(y.orig),e.orientation),c),k=Mo(Po(Y(y.dest),e.orientation),c);m.add(wn(w,k)),l.set(y.dest,m)}const h=s.shapes.concat(a).map(y=>({shape:y,current:!1,hash:$s(y,yn(y.dest,l),!1,c)}));i&&h.push({shape:i,current:!0,hash:$s(i,yn(i.dest,l),!0,c)});const d=h.map(y=>y.hash).join(";");if(d===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=d;const p=t.querySelector("defs");hu(s,h,p),du(h,t.querySelector("g"),o.querySelector("g"),y=>mu(e,y,s.brushes,l,c))}function hu(e,t,o){var n;const s=new Map;let r;for(const c of t.filter(a=>a.shape.dest&&a.shape.brush))r=bi(e.brushes[c.shape.brush],c.shape.modifiers),!((n=c.shape.modifiers)===null||n===void 0)&&n.hilite&&s.set("hilite",e.brushes.hilite),s.set(r.key,r);const i=new Set;let l=o.firstElementChild;for(;l;)i.add(l.getAttribute("cgKey")),l=l.nextElementSibling;for(const[c,a]of s.entries())i.has(c)||o.appendChild(vu(a))}function du(e,t,o,n){const s=new Map;for(const r of e)s.set(r.hash,!1);for(const r of[t,o]){const i=[];let l=r.firstElementChild,c;for(;l;)c=l.getAttribute("cgHash"),s.has(c)?s.set(c,!0):i.push(l),l=l.nextElementSibling;for(const a of i)r.removeChild(a)}for(const r of e.filter(i=>!s.get(i.hash)))for(const i of n(r))i.isCustom?o.appendChild(i.el):t.appendChild(i.el)}function $s({orig:e,dest:t,brush:o,piece:n,modifiers:s,customSvg:r,label:i},l,c,a){var h,d;return[a.width,a.height,c,e,t,o,l&&"-",n&&pu(n),s&&gu(s),r&&`custom-${js(r.html)},${(d=(h=r.center)===null||h===void 0?void 0:h[0])!==null&&d!==void 0?d:"o"}`,i&&`label-${js(i.text)}`].filter(p=>p).join(",")}function pu(e){return[e.color,e.role,e.scale].filter(t=>t).join(",")}function gu(e){return[e.lineWidth,e.hilite&&"*"].filter(t=>t).join(",")}function js(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o)>>>0;return t.toString()}function mu(e,{shape:t,current:o,hash:n},s,r,i){var l,c;const a=Mo(Po(Y(t.orig),e.orientation),i),h=t.dest?Mo(Po(Y(t.dest),e.orientation),i):a,d=t.brush&&bi(s[t.brush],t.modifiers),p=r.get(t.dest),y=[];if(d){const m=de(X("g"),{cgHash:n});y.push({el:m}),a[0]!==h[0]||a[1]!==h[1]?m.appendChild(_u(t,d,a,h,o,yn(t.dest,r))):m.appendChild(bu(s[t.brush],a,o,i))}if(t.label){const m=t.label;(l=m.fill)!==null&&l!==void 0||(m.fill=t.brush&&s[t.brush].color);const w=t.brush?void 0:"tr";y.push({el:yu(m,n,a,h,p,w),isCustom:!0})}if(t.customSvg){const m=(c=t.customSvg.center)!==null&&c!==void 0?c:"orig",[w,k]=m==="label"?vi(a,h,p).map(M=>M-.5):m==="dest"?h:a,R=de(X("g"),{transform:`translate(${w},${k})`,cgHash:n});R.innerHTML=`<svg width="1" height="1" viewBox="0 0 100 100">${t.customSvg.html}</svg>`,y.push({el:R,isCustom:!0})}return y}function bu(e,t,o,n){const s=wu(),r=(n.width+n.height)/(4*Math.max(n.width,n.height));return de(X("circle"),{stroke:e.color,"stroke-width":s[o?0:1],fill:"none",opacity:_i(e,o),cx:t[0],cy:t[1],r:r-s[1]/2})}function _u(e,t,o,n,s,r){var i;function l(h){var d;const p=Su(r&&!s),y=n[0]-o[0],m=n[1]-o[1],w=Math.atan2(m,y),k=Math.cos(w)*p,R=Math.sin(w)*p;return de(X("line"),{stroke:h?"white":t.color,"stroke-width":Cu(t,s)+(h?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${h?"hilite":t.key})`,opacity:!((d=e.modifiers)===null||d===void 0)&&d.hilite?1:_i(t,s),x1:o[0],y1:o[1],x2:n[0]-k,y2:n[1]-R})}if(!(!((i=e.modifiers)===null||i===void 0)&&i.hilite))return l(!1);const c=X("g"),a=de(X("g"),{filter:"url(#cg-filter-blur)"});return a.appendChild(Eu(o,n)),a.appendChild(l(!0)),c.appendChild(a),c.appendChild(l(!1)),c}function vu(e){const t=de(X("marker"),{id:"arrowhead-"+e.key,orient:"auto",overflow:"visible",markerWidth:4,markerHeight:4,refX:e.key==="hilite"?1.86:2.05,refY:2});return t.appendChild(de(X("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function yu(e,t,o,n,s,r){var i;const l=.4*.75**e.text.length,c=vi(o,n,s),a=r==="tr"?.4:0,h=de(X("g"),{transform:`translate(${c[0]+a},${c[1]-a})`,cgHash:t});h.appendChild(de(X("circle"),{r:.4/2,"fill-opacity":r?1:.8,"stroke-opacity":r?1:.7,"stroke-width":.03,fill:(i=e.fill)!==null&&i!==void 0?i:"#666",stroke:"white"}));const d=de(X("text"),{"font-size":l,"font-family":"Noto Sans","text-anchor":"middle",fill:"white",y:.13*.75**e.text.length});return d.innerHTML=e.text,h.appendChild(d),h}function Po(e,t){return t==="white"?e:[7-e[0],7-e[1]]}function yn(e,t){return(e&&t.has(e)&&t.get(e).size>1)===!0}function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function de(e,t){for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.setAttribute(o,t[o]);return e}function bi(e,t){return t?{color:e.color,opacity:Math.round(e.opacity*10)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter(o=>o).join("")}:e}function wu(){return[3/64,4/64]}function Cu(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function _i(e,t){return(e.opacity||1)*(t?.9:1)}function Su(e){return(e?20:10)/64}function Mo(e,t){const o=Math.min(1,t.width/t.height),n=Math.min(1,t.height/t.width);return[(e[0]-3.5)*o,(3.5-e[1])*n]}function Eu(e,t){const o={from:[Math.floor(Math.min(e[0],t[0])),Math.floor(Math.min(e[1],t[1]))],to:[Math.ceil(Math.max(e[0],t[0])),Math.ceil(Math.max(e[1],t[1]))]};return de(X("rect"),{x:o.from[0],y:o.from[1],width:o.to[0]-o.from[0],height:o.to[1]-o.from[1],fill:"none",stroke:"none"})}function wn(e,t,o=!0){const n=Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI;return o?(Math.round(n*8/Math.PI)+16)%16:n}function xu(e,t){return Math.sqrt([e[0]-t[0],e[1]-t[1]].reduce((o,n)=>o+n*n,0))}function vi(e,t,o){let n=xu(e,t);const s=wn(e,t,!1);if(o&&(n-=33/64,o.size>1)){n-=10/64;const r=wn(e,t);(o.has((r+1)%16)||o.has((r+15)%16))&&r&1&&(n-=.4)}return[e[0]-Math.cos(s)*n,e[1]-Math.sin(s)*n].map(r=>r+.5)}function ku(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const c of Ca)e.classList.toggle("orientation-"+c,t.orientation===c);e.classList.toggle("manipulable",!t.viewOnly);const o=Be("cg-container");e.appendChild(o);const n=Be("cg-board");o.appendChild(n);let s,r,i;if(t.drawable.visible&&(s=de(X("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),s.appendChild(uu()),s.appendChild(X("g")),r=de(X("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),r.appendChild(X("g")),i=Be("cg-auto-pieces"),o.appendChild(s),o.appendChild(r),o.appendChild(i)),t.coordinates){const c=t.orientation==="black"?" black":"",a=t.ranksPosition==="left"?" left":"";o.appendChild(Hs(jn,"ranks"+c+a)),o.appendChild(Hs($n,"files"+c))}let l;return t.draggable.enabled&&t.draggable.showGhost&&(l=Be("piece","ghost"),Bn(l,!1),o.appendChild(l)),{board:n,container:o,wrap:e,ghost:l,svg:s,customSvg:r,autoPieces:i}}function Hs(e,t){const o=Be("coords",t);let n;for(const s of e)n=Be("coord"),n.textContent=s,o.appendChild(n);return o}function Pu(e,t){if(!e.dropmode.active)return;st(e),rt(e);const o=e.dropmode.piece;if(o){e.pieces.set("a0",o);const n=vt(t),s=n&&yt(n,_e(e),e.dom.bounds());s&&si(e,"a0",s)}e.dom.redraw()}function Mu(e,t){const o=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),(e.disableContextMenu||e.drawable.enabled)&&o.addEventListener("contextmenu",s=>s.preventDefault()),e.viewOnly)return;const n=Au(e);o.addEventListener("touchstart",n,{passive:!1}),o.addEventListener("mousedown",n,{passive:!1})}function Tu(e,t){const o=[];if("ResizeObserver"in window||o.push(Lt(document.body,"chessground.resize",t)),!e.viewOnly){const n=Vs(e,ru,Za),s=Vs(e,iu,Ja);for(const i of["touchmove","mousemove"])o.push(Lt(document,i,n));for(const i of["touchend","mouseup"])o.push(Lt(document,i,s));const r=()=>e.dom.bounds.clear();o.push(Lt(document,"scroll",r,{capture:!0,passive:!0})),o.push(Lt(window,"resize",r,{passive:!0}))}return()=>o.forEach(n=>n())}function Lt(e,t,o,n){return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}const Au=e=>t=>{e.draggable.current?ko(e):e.drawable.current?di(e):t.shiftKey||Qr(t)?e.drawable.enabled&&Ya(e,t):e.viewOnly||(e.dropmode.active?Pu(e,t):ou(e,t))},Vs=(e,t,o)=>n=>{e.drawable.current?e.drawable.enabled&&o(e,n):e.viewOnly||t(e,n)};function Iu(e){const t=_e(e),o=Jt(e.dom.bounds()),n=e.dom.elements.board,s=e.pieces,r=e.animation.current,i=r?r.plan.anims:new Map,l=r?r.plan.fadings:new Map,c=e.draggable.current,a=Ru(e),h=new Set,d=new Set,p=new Map,y=new Map;let m,w,k,R,M,I,H,U,K,J;for(w=n.firstChild;w;){if(m=w.cgKey,yi(w))if(k=s.get(m),M=i.get(m),I=l.get(m),R=w.cgPiece,w.cgDragging&&(!c||c.orig!==m)&&(w.classList.remove("dragging"),Le(w,o(Y(m),t)),w.cgDragging=!1),!I&&w.cgFading&&(w.cgFading=!1,w.classList.remove("fading")),k){if(M&&w.cgAnimating&&R===Ft(k)){const q=Y(m);q[0]+=M[2],q[1]+=M[3],w.classList.add("anim"),Le(w,o(q,t))}else w.cgAnimating&&(w.cgAnimating=!1,w.classList.remove("anim"),Le(w,o(Y(m),t)),e.addPieceZIndex&&(w.style.zIndex=on(Y(m),t)));R===Ft(k)&&(!I||!w.cgFading)?h.add(m):I&&R===Ft(I)?(w.classList.add("fading"),w.cgFading=!0):nn(p,R,w)}else nn(p,R,w);else if(wi(w)){const q=w.className;a.get(m)===q?d.add(m):nn(y,q,w)}w=w.nextSibling}for(const[q,$e]of a)if(!d.has(q)){K=y.get($e),J=K&&K.pop();const ee=o(Y(q),t);if(J)J.cgKey=q,Le(J,ee);else{const ie=Be("square",$e);ie.cgKey=q,Le(ie,ee),n.insertBefore(ie,n.firstChild)}}for(const[q,$e]of s)if(M=i.get(q),!h.has(q))if(H=p.get(Ft($e)),U=H&&H.pop(),U){U.cgKey=q,U.cgFading&&(U.classList.remove("fading"),U.cgFading=!1);const ee=Y(q);e.addPieceZIndex&&(U.style.zIndex=on(ee,t)),M&&(U.cgAnimating=!0,U.classList.add("anim"),ee[0]+=M[2],ee[1]+=M[3]),Le(U,o(ee,t))}else{const ee=Ft($e),ie=Be("piece",ee),je=Y(q);ie.cgPiece=ee,ie.cgKey=q,M&&(ie.cgAnimating=!0,je[0]+=M[2],je[1]+=M[3]),Le(ie,o(je,t)),e.addPieceZIndex&&(ie.style.zIndex=on(je,t)),n.appendChild(ie)}for(const q of p.values())Us(e,q);for(const q of y.values())Us(e,q)}function Ou(e){const t=_e(e),o=Jt(e.dom.bounds());let n=e.dom.elements.board.firstChild;for(;n;)(yi(n)&&!n.cgAnimating||wi(n))&&Le(n,o(Y(n.cgKey),t)),n=n.nextSibling}function Bs(e){var t,o;const n=e.dom.elements.wrap.getBoundingClientRect(),s=e.dom.elements.container,r=n.height/n.width,i=Math.floor(n.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,l=i*r;s.style.width=i+"px",s.style.height=l+"px",e.dom.bounds.clear(),(t=e.addDimensionsCssVarsTo)===null||t===void 0||t.style.setProperty("--cg-width",i+"px"),(o=e.addDimensionsCssVarsTo)===null||o===void 0||o.style.setProperty("--cg-height",l+"px")}const yi=e=>e.tagName==="PIECE",wi=e=>e.tagName==="SQUARE";function Us(e,t){for(const o of t)e.dom.elements.board.removeChild(o)}function on(e,t){const o=e[1];return`${t?10-o:3+o}`}const Ft=e=>`${e.color} ${e.role}`;function Ru(e){var t,o,n;const s=new Map;if(e.lastMove&&e.highlight.lastMove)for(const l of e.lastMove)Ve(s,l,"last-move");if(e.check&&e.highlight.check&&Ve(s,e.check,"check"),e.selected&&(Ve(s,e.selected,"selected"),e.movable.showDests)){const l=(t=e.movable.dests)===null||t===void 0?void 0:t.get(e.selected);if(l)for(const a of l)Ve(s,a,"move-dest"+(e.pieces.has(a)?" oc":""));const c=(n=(o=e.premovable.customDests)===null||o===void 0?void 0:o.get(e.selected))!==null&&n!==void 0?n:e.premovable.dests;if(c)for(const a of c)Ve(s,a,"premove-dest"+(e.pieces.has(a)?" oc":""))}const r=e.premovable.current;if(r)for(const l of r)Ve(s,l,"current-premove");else e.predroppable.current&&Ve(s,e.predroppable.current.key,"current-premove");const i=e.exploding;if(i)for(const l of i.keys)Ve(s,l,"exploding"+i.stage);return e.highlight.custom&&e.highlight.custom.forEach((l,c)=>{Ve(s,c,l)}),s}function Ve(e,t,o){const n=e.get(t);n?e.set(t,`${n} ${o}`):e.set(t,o)}function nn(e,t,o){const n=e.get(t);n?n.push(o):e.set(t,[o])}function Nu(e,t,o){const n=new Map,s=[];for(const l of e)n.set(l.hash,!1);let r=t.firstElementChild,i;for(;r;)i=r.getAttribute("cgHash"),n.has(i)?n.set(i,!0):s.push(r),r=r.nextElementSibling;for(const l of s)t.removeChild(l);for(const l of e)n.get(l.hash)||t.appendChild(o(l))}function Lu(e,t){const o=e.drawable.autoShapes.filter(n=>n.piece).map(n=>({shape:n,hash:Ku(n),current:!1}));Nu(o,t,n=>Du(e,n,e.dom.bounds()))}function Fu(e){var t;const o=_e(e),n=Jt(e.dom.bounds());let s=(t=e.dom.elements.autoPieces)===null||t===void 0?void 0:t.firstChild;for(;s;)Gr(s,n(Y(s.cgKey),o),s.cgScale),s=s.nextSibling}function Du(e,{shape:t,hash:o},n){var s,r,i;const l=t.orig,c=(s=t.piece)===null||s===void 0?void 0:s.role,a=(r=t.piece)===null||r===void 0?void 0:r.color,h=(i=t.piece)===null||i===void 0?void 0:i.scale,d=Be("piece",`${c} ${a}`);return d.setAttribute("cgHash",o),d.cgKey=l,d.cgScale=h,Gr(d,Jt(n)(Y(l),_e(e)),h),d}const Ku=e=>{var t,o,n;return[e.orig,(t=e.piece)===null||t===void 0?void 0:t.role,(o=e.piece)===null||o===void 0?void 0:o.color,(n=e.piece)===null||n===void 0?void 0:n.scale].join(",")};function qu(e,t){const o=au();ui(o,t||{});function n(){const s="dom"in o?o.dom.unbind:void 0,r=ku(e,o),i=Ea(()=>r.board.getBoundingClientRect()),l=h=>{Iu(a),r.autoPieces&&Lu(a,r.autoPieces),!h&&r.svg&&fu(a,r.svg,r.customSvg)},c=()=>{Bs(a),Ou(a),r.autoPieces&&Fu(a)},a=o;return a.dom={elements:r,bounds:i,redraw:$u(l),redrawNow:l,unbind:s},a.drawable.prevSvgHash="",Bs(a),l(!1),Mu(a,c),s||(a.dom.unbind=Tu(a,c)),a.events.insert&&a.events.insert(r),a}return cu(n(),n)}function $u(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame(()=>{e(),t=!1}))}}class ju{constructor(t,o,n,s){le(this,"game");le(this,"board");le(this,"boardState");le(this,"props");le(this,"emit");this.boardState=o,this.props=n,this.emit=s,this.game=new ga,this.board=qu(t),this.resetBoard()}updateGameState({updateFen:t=!0}={}){this.boardState.historyViewerState.isEnabled||(t&&this.board.set({fen:this.game.fen()}),this.board.state.turnColor=this.getTurnColor(),this.board.state.movable.free?(this.board.state.movable.color="both",this.board.state.movable.dests=new Map):(this.board.state.movable.color=this.props.playerColor||this.board.state.turnColor,this.board.state.movable.dests=Fs(this.game)),this.displayInCheck(this.game.inCheck(),this.board.state.turnColor),this.boardState.showThreats&&this.drawMoves()),this.emitEvents()}displayInCheck(t,o){if(t){for(const[n,s]of this.board.state.pieces)if(s.role==="king"&&s.color===o){this.board.state.check=n;return}}else this.board.state.check=void 0}emitEvents(){this.game.inCheck()&&this.emit(this.game.isCheckmate()?"checkmate":"check",this.board.state.turnColor),this.game.isDraw()&&this.emit("draw"),this.game.isStalemate()&&this.emit("stalemate")}async changeTurn(t,o,n){let s;ba(o,this.game.get(t))&&(s=await new Promise(r=>{this.boardState.promotionDialogState={isEnabled:!0,color:this.getTurnColor(),callback:r}})),this.move({from:t,to:o,promotion:s})}resetBoard(){this.setConfig(this.props.boardConfig,!0)}undoLastMove(){const t=this.game.undo();if(t!=null&&(this.boardState.historyViewerState.isEnabled&&this.boardState.historyViewerState.plyViewing===this.getCurrentPlyNumber()&&this.stopViewingHistory(),!this.boardState.historyViewerState.isEnabled)){this.board.set({fen:t.before}),this.updateGameState({updateFen:!1});const o=this.getLastMove();this.board.state.lastMove=o?[o==null?void 0:o.from,o==null?void 0:o.to]:void 0}}getMaterialCount(){const t=this.board.state.pieces,o={pawn:1,knight:3,bishop:3,rook:5,queen:9,king:0},n={materialWhite:0,materialBlack:0,materialDiff:0};for(const s of t)s[1].color==="white"?n.materialWhite+=o[s[1].role]:n.materialBlack+=o[s[1].role];return n.materialDiff=n.materialWhite-n.materialBlack,n}getCapturedPieces(){const t={white:[],black:[]};for(const{color:o,captured:n}of this.getHistory(!0))n&&t[ao(o)].push(n);return t}toggleOrientation(){this.board.toggleOrientation()}drawMoves(){this.boardState.showThreats=!0,this.board.setShapes(ma(this.game.moves({verbose:!0})))}hideMoves(){this.boardState.showThreats=!1,this.board.setShapes([])}drawMove(t,o,n){this.board.setShapes([{orig:t,dest:o,brush:n}])}toggleMoves(){this.boardState.showThreats?this.hideMoves():this.drawMoves()}async getOpeningName(){var t;try{const o=this.game.history({verbose:!0}).map(n=>n.lan).join(",");return((t=(await(await fetch(`https://explorer.lichess.ovh/masters?play=${o}`)).json()).opening)==null?void 0:t.name)??null}catch{return null}}move(t){let o;try{o=this.game.move(t)}catch{return typeof t=="object"&&this.board.state.movable.free&&(this.board.move(t.from,t.to),this.updateGameState({updateFen:!1})),!1}return this.emit("move",o),o!=null&&o.promotion&&this.emit("promotion",{color:ao(o.color),promotedTo:o.promotion.toUpperCase(),sanMove:o.san}),this.boardState.historyViewerState.isEnabled||(this.board.move(o.from,o.to),(o.flags==="e"||o!=null&&o.promotion)&&setTimeout(()=>this.board.set({fen:o.after}),this.board.state.animation.current?this.board.state.animation.duration:0),this.updateGameState({updateFen:!1}),mr(this.board.playPremove)),!0}getTurnColor(){return ao(this.game.turn())}getPossibleMoves(){return Fs(this.game)}getCurrentTurnNumber(){return this.game.moveNumber()}getCurrentPlyNumber(){return 2*this.getCurrentTurnNumber()-(this.getTurnColor()==="black"?1:2)}getLastMove(){return this.game.history({verbose:!0}).at(-1)}getHistory(t=!1){return this.game.history({verbose:t})}getFen(){return this.game.fen()}getBoardPosition(){return this.game.board()}getPgn(){return this.game.pgn()}getIsGameOver(){return this.game.isGameOver()}getIsCheckmate(){return this.game.isCheckmate()}getIsCheck(){return this.game.isCheck()}getIsStalemate(){return this.game.isStalemate()}getIsDraw(){return this.game.isDraw()}getIsThreefoldRepetition(){return this.game.isThreefoldRepetition()}getIsInsufficientMaterial(){return this.game.isInsufficientMaterial()}getSquareColor(t){return this.game.squareColor(t)}getSquare(t){return this.game.get(t)}setPosition(t){this.game.load(t),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState()}putPiece(t,o){if(this.board.state.movable.free){const n=this.board.state.pieces;return n.set(o,{color:t.color==="w"?"white":"black",role:_a[t.type]}),this.board.setPieces(n),!0}else{const n=this.game.put(t,o);return n&&this.updateGameState(),n}}clearBoard(){this.game.clear(),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState()}setShapes(t){this.board.setShapes(t)}loadPgn(t){this.game.loadPgn(t),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState();const o=this.getLastMove();o&&this.board.set({lastMove:[o.from,o.to]})}getPgnInfo(){return this.game.header()}setPgnInfo(t){return this.game.header(...Object.entries(t).flat())}setConfig(t,o=!1){var r;if(o&&(t=Br(wa,t),this.board.state.selected=void 0),((r=t.movable)==null?void 0:r.events)&&"after"in t.movable.events){const i=t.movable.events.after;t.movable.events.after=i?async(...l)=>{await this.changeTurn(...l),i(...l)}:this.changeTurn.bind(this)}const{fen:n,...s}=t;this.board.set(s),n&&this.setPosition(n),this.board.redrawAll()}viewHistory(t){const o=this.getHistory(!0);if(t<0||t>o.length)return;const n=this.board.state.animation.enabled&&(this.boardState.historyViewerState.isEnabled&&Math.abs(this.boardState.historyViewerState.plyViewing-t)!==1||!this.boardState.historyViewerState.isEnabled&&t!==o.length-1);if(n&&this.board.set({animation:{enabled:!1}}),t<o.length)this.boardState.historyViewerState.isEnabled?this.boardState.historyViewerState.plyViewing=t:this.boardState.historyViewerState={isEnabled:!0,plyViewing:t,viewOnly:this.board.state.viewOnly},this.board.set({fen:o[t].before,viewOnly:!0,lastMove:t>0?[o[t-1].from,o[t-1].to]:void 0,selected:void 0}),this.displayInCheck(t>0?"+#".includes(o[t-1].san.at(-1)):!1,ao(o[t].color)),this.board.cancelPremove();else if(this.boardState.historyViewerState.isEnabled){const s=o.at(-1);this.board.set({fen:s.after,viewOnly:this.boardState.historyViewerState.viewOnly,lastMove:[s.from,s.to]}),this.boardState.historyViewerState={isEnabled:!1},this.updateGameState({updateFen:!1})}n&&this.board.set({animation:{enabled:!0}})}stopViewingHistory(){this.boardState.historyViewerState.isEnabled&&this.viewHistory(this.getCurrentPlyNumber())}viewStart(){this.viewHistory(0)}viewNext(){this.boardState.historyViewerState.isEnabled&&this.viewHistory(this.boardState.historyViewerState.plyViewing+1)}viewPrevious(){const t=this.boardState.historyViewerState.isEnabled?this.boardState.historyViewerState.plyViewing:this.getCurrentPlyNumber();this.viewHistory(t-1)}}const Hu={class:"main-board"},Vu=Er({__name:"TheChessboard",props:{boardConfig:{default:()=>({})},playerColor:{},reactiveConfig:{type:Boolean,default:!1}},emits:["boardCreated","check","checkmate","stalemate","draw","promotion","move"],setup(e,{emit:t}){const o=e,n=fl(null),s=Ht({showThreats:!1,promotionDialogState:{isEnabled:!1},historyViewerState:{isEnabled:!1}});return Pr(()=>{if(n.value==null)throw new Error("vue3-chessboard: Failed to mount board.");const r=new ju(n.value,s,o,t);if(t("boardCreated",r),o.reactiveConfig){let i=xo(o.boardConfig);ho(Ht(o.boardConfig),l=>{r.setConfig(Ur(i,l)),i=xo(l)})}}),(r,i)=>(Tt(),So("section",{class:Yt(["main-wrap",{disabledBoard:s.promotionDialogState.isEnabled,viewingHistory:s.historyViewerState.isEnabled}])},[Ie("div",Hu,[s.promotionDialogState.isEnabled?(Tt(),qr(ea,{key:0,state:s.promotionDialogState,onPromotionSelected:i[0]||(i[0]=l=>s.promotionDialogState={isEnabled:!1})},null,8,["state"])):pc("",!0),Ie("div",{ref_key:"boardElement",ref:n},null,512)])],2))}}),Bu=Ie("div",{class:"text-center"},"Welcome to my site!",-1),Uu=Ie("div",null,"how are you",-1),Wu=Ie("div",null,"test",-1),Gu=Ie("div",null,"test2",-1),Qu=Ie("div",null,"test2",-1),zu=Ie("div",null,"test text w apce",-1),Yu={__name:"App",setup(e){return(t,o)=>(Tt(),So(Me,null,[Bu,Uu,Wu,Gu,Qu,zu,qe(dr(Vu))],64))}};zc(Yu).mount("#app");
